{"ID":"20240310163126-219ovx0","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2620-fe0f","id":"20240310163126-219ovx0","title":"memory","updated":"20240310163143"},"Children":[{"ID":"20240310163126-jpqxa44","Type":"NodeParagraph","Properties":{"id":"20240310163126-jpqxa44","updated":"20240310163143"},"Children":[{"Type":"NodeText","Data":"智能指针"}]},{"ID":"20240310163142-1gcm8ci","Type":"NodeList","ListData":{},"Properties":{"id":"20240310163142-1gcm8ci","updated":"20240310163142"},"Children":[{"ID":"20240310163142-zumkcqt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310163142-zumkcqt","updated":"20240310163142"},"Children":[{"ID":"20240310163142-kafhmaw","Type":"NodeParagraph","Properties":{"id":"20240310163142-kafhmaw","updated":"20240310163142"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"unique_ptr\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​：唯一指针，不允许任何复制构造调用；允许使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"std::move"},{"Type":"NodeText","Data":"​ 语义移动指针，但移动后原指针失效"}]}]},{"ID":"20240310163142-c9ongld","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310163142-c9ongld","updated":"20240310163142"},"Children":[{"ID":"20240310163142-hpnbeu4","Type":"NodeParagraph","Properties":{"id":"20240310163142-hpnbeu4","updated":"20240310163142"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"shared_ptr\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​：记录指向同一对象的所有指针，当引用计数归零时对象自动删除"}]}]},{"ID":"20240310163142-x8326q1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310163142-x8326q1","updated":"20240310163142"},"Children":[{"ID":"20240310163142-6p3pvj2","Type":"NodeParagraph","Properties":{"id":"20240310163142-6p3pvj2","updated":"20240310163142"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"weak_ptr\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​：引用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"shared_ptr\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​ 的引用，但不影响其引用计数，可避免循环引用"}]},{"ID":"20240310163142-ri7a54x","Type":"NodeList","ListData":{},"Properties":{"id":"20240310163142-ri7a54x","updated":"20240310163142"},"Children":[{"ID":"20240310163142-b0eo9ve","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310163142-b0eo9ve","updated":"20240310163142"},"Children":[{"ID":"20240310163142-hq431j8","Type":"NodeParagraph","Properties":{"id":"20240310163142-hq431j8","updated":"20240310163142"},"Children":[{"Type":"NodeText","Data":"若 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"shared_ptr\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​ 被释放，则对应 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"weak_ptr\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​ 全部失效"}]}]}]}]},{"ID":"20240310163142-3xzmmcg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310163142-3xzmmcg","updated":"20240310163142"},"Children":[{"ID":"20240310163142-ch9bbbt","Type":"NodeParagraph","Properties":{"id":"20240310163142-ch9bbbt","updated":"20240310163142"},"Children":[{"Type":"NodeText","Data":"atomic 指针：C++20 提供原子智能指针："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"atomic\u0026lt;shared_ptr\u0026gt;"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"atomic\u0026lt;weak_ptr\u0026gt;"},{"Type":"NodeText","Data":"​ 等"}]}]}]},{"ID":"20240310163142-zr4ugc6","Type":"NodeParagraph","Properties":{"id":"20240310163142-zr4ugc6","updated":"20240310163142"},"Children":[{"Type":"NodeText","Data":"对于智能指针，可使用带有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"_pointer"},{"Type":"NodeText","Data":"​ 后缀的类型转换符，转换失败则返回一个指向 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"nullptr"},{"Type":"NodeText","Data":"​ 的智能指针"}]},{"ID":"20240310163142-lc7tx9d","Type":"NodeList","ListData":{},"Properties":{"id":"20240310163142-lc7tx9d","updated":"20240310163142"},"Children":[{"ID":"20240310163142-3fb1qio","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310163142-3fb1qio","updated":"20240310163142"},"Children":[{"ID":"20240310163142-2ttxgdm","Type":"NodeParagraph","Properties":{"id":"20240310163142-2ttxgdm","updated":"20240310163142"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"static_cast"},{"Type":"NodeText","Data":"​ -\u003e "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"static_pointer_cast"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240310163142-pqwj4s4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310163142-pqwj4s4","updated":"20240310163142"},"Children":[{"ID":"20240310163142-qoo5gz1","Type":"NodeParagraph","Properties":{"id":"20240310163142-qoo5gz1","updated":"20240310163142"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dynamic_cast"},{"Type":"NodeText","Data":"​ -\u003e "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dynamic_pointer_cast"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240310163142-to7jqkf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310163142-to7jqkf","updated":"20240310163142"},"Children":[{"ID":"20240310163142-s3jqlze","Type":"NodeParagraph","Properties":{"id":"20240310163142-s3jqlze","updated":"20240310163142"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const_cast"},{"Type":"NodeText","Data":"​ -\u003e "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const_pointer_cast"},{"Type":"NodeText","Data":"​"}]}]}]}]}