{"ID":"20240311024710-6pq3uij","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2620-fe0f","id":"20240311024710-6pq3uij","title":"捕获列表","updated":"20240311024856"},"Children":[{"ID":"20240311024719-7qzr9tp","Type":"NodeParagraph","Properties":{"id":"20240311024719-7qzr9tp","updated":"20240311024856"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310154429-pfz8p3x","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"λ 表达式"},{"Type":"NodeText","Data":"的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[]"},{"Type":"NodeText","Data":"​ 中直接输入变量表示捕获列表，默认使用按值捕获，即将变量值复制一份传入。"}]},{"ID":"20240311024719-md18ari","Type":"NodeParagraph","Properties":{"id":"20240311024719-md18ari","updated":"20240311024719"},"Children":[{"Type":"NodeText","Data":"按值捕获实际上类似于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"static const"},{"Type":"NodeText","Data":"​ 修饰的局部变量，而不是函数参数。且复制传入的初值是在声明时对应变量的值，与调用时值无关。带有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mutable"},{"Type":"NodeText","Data":"​ 修饰时则类似于不带 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​ 修饰符。"}]},{"ID":"20240311024719-9vaa3k1","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311024719-9vaa3k1","updated":"20240311024719"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"int a = 99;\n// a 捕获的值为 99\nauto f = [a] mutable { cout \u003c\u003c (a++) \u003c\u003c '\\n'; };\n\na = 0;\nf(); // 99，a=100\n\na = 1;\nf(); // 100，a=101\n\na = 2;\nf(); // 101，a=102\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311024719-ow3qgue","Type":"NodeParagraph","Properties":{"id":"20240311024719-ow3qgue","updated":"20240311024719"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;"},{"Type":"NodeText","Data":"​ 表示该变量为引用捕获，捕获的是外部对象的引用。无论是否带有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mutable"},{"Type":"NodeText","Data":"​ 该引用均可以被修改。"}]},{"ID":"20240311024719-n8x781y","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311024719-n8x781y","updated":"20240311024719"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"int a = 99;\nauto f = [\u0026a] { cout \u003c\u003c (a++) \u003c\u003c '\\n'; };\n\na = 0;\nf(); // 0\ncout \u003c\u003c a \u003c\u003c '\\n'; // 1\na = 10;\nf(); // 10\ncout \u003c\u003c a \u003c\u003c '\\n'; // 11\na = 20;\nf(); // 20\ncout \u003c\u003c a \u003c\u003c '\\n'; // 21\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311024719-rapr2tv","Type":"NodeParagraph","Properties":{"id":"20240311024719-rapr2tv","updated":"20240311024719"},"Children":[{"Type":"NodeText","Data":"按值捕获和引用捕获可以混用，还有一些特殊的捕获方式："}]},{"ID":"20240311024719-ez31es9","Type":"NodeList","ListData":{},"Properties":{"id":"20240311024719-ez31es9","updated":"20240311024719"},"Children":[{"ID":"20240311024719-ofw5hxl","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311024719-ofw5hxl","updated":"20240311024719"},"Children":[{"ID":"20240311024719-x2a5tlf","Type":"NodeParagraph","Properties":{"id":"20240311024719-x2a5tlf","updated":"20240311024719"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[this]"},{"Type":"NodeText","Data":"​：捕获 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"this"},{"Type":"NodeText","Data":"​ 指针"}]}]},{"ID":"20240311024719-a9e2vdk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311024719-a9e2vdk","updated":"20240311024719"},"Children":[{"ID":"20240311024719-e6d89vm","Type":"NodeParagraph","Properties":{"id":"20240311024719-e6d89vm","updated":"20240311024719"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[=]"},{"Type":"NodeText","Data":"​：以按值捕获的形式，捕获 lambda 表达式所在作用域的所有变量值，包括 this"}]}]},{"ID":"20240311024719-crd42ov","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311024719-crd42ov","updated":"20240311024719"},"Children":[{"ID":"20240311024719-3c1d6an","Type":"NodeParagraph","Properties":{"id":"20240311024719-3c1d6an","updated":"20240311024719"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[\u0026amp;]"},{"Type":"NodeText","Data":"​：以引用捕获的形式，捕获 lambda 表达式所在作用域的所有变量值，包括 this"}]}]}]},{"ID":"20240311024719-3lranhu","Type":"NodeParagraph","Properties":{"id":"20240311024719-3lranhu","updated":"20240311024719"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[=]"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[\u0026amp;]"},{"Type":"NodeText","Data":"​ 后可以与带变量名的按值捕获、引用捕获连用，表示除后面这些变量外其他所有变量值以给定方式捕获。"}]}]}