{"ID":"20240310144904-ebja8oa","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2620-fe0f","id":"20240310144904-ebja8oa","title":"数组与指针","updated":"20240310210218"},"Children":[{"ID":"20240310144914-umsxo9r","Type":"NodeParagraph","Properties":{"id":"20240310144914-umsxo9r","updated":"20240310210130"},"Children":[{"Type":"NodeText","Data":"对于"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310144728-rj1rboz","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"数组"},{"Type":"NodeText","Data":"，数组名可以直接当作指向数组第一个元素的"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310011458-lcoh739","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"指针"},{"Type":"NodeText","Data":"使用"}]},{"ID":"20240310144914-za8enqb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310144914-za8enqb","updated":"20240310144914"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"int array[] {1, 2, 3, 4, 5};\nint *parr0 = array;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240310144914-8tvg9ze","Type":"NodeParagraph","Properties":{"id":"20240310144914-8tvg9ze","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240310210155"},"Children":[{"Type":"NodeText","Data":"数组名和第一个元素的地址的区别在于其类型，数组名对应的类型是数组，包含了数组长度，而指针类型是指针，不包含数组长度，不能用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"sizeof"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 等计算数组长度"}]},{"ID":"20240310144914-op7dwta","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310144914-op7dwta","updated":"20240310144914"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"int arr[] {0, 1, 2, 3};\nint *parr = arr;\n\ncout \u003c\u003c typeid(arr).name() \u003c\u003c endl; // A4_i\ncout \u003c\u003c typeid(parr).name() \u003c\u003c endl; // Pi\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240310144914-lkppjjl","Type":"NodeParagraph","Properties":{"id":"20240310144914-lkppjjl","updated":"20240310144914"},"Children":[{"Type":"NodeText","Data":"根据指针运算规则，可以通过指针访问数组元素"}]},{"ID":"20240310144914-ndjkrla","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310144914-ndjkrla","updated":"20240310144914"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"int main() {\n    int arr[]{0, 1, 2, 3, 4};\n    int *parr = arr;\n\n    // parr     = 0x413b7ffc50 = 0\n    cout \u003c\u003c \"parr     = \" \u003c\u003c parr \u003c\u003c \" = \" \u003c\u003c *arr \u003c\u003c endl;\n    // parr + 1 = 0x413b7ffc54 = 1\n    cout \u003c\u003c \"parr + 1 = \" \u003c\u003c (parr+1) \u003c\u003c \" = \" \u003c\u003c *(arr+1) \u003c\u003c endl;\n    // parr + 2 = 0x7d831ff7c8 = 2\n    cout \u003c\u003c \"parr + 2 = \" \u003c\u003c (parr+2) \u003c\u003c \" = \" \u003c\u003c *(arr+1) \u003c\u003c endl;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240310144914-pgoa9z5","Type":"NodeParagraph","Properties":{"id":"20240310144914-pgoa9z5","updated":"20240310210218"},"Children":[{"Type":"NodeText","Data":"指针每次运算的偏移量是根据他的类型决定的，因此可以通过更改指针类型更改偏移量。于是，有以下特性"}]},{"ID":"20240310144914-mj4j3cs","Type":"NodeList","ListData":{},"Properties":{"id":"20240310144914-mj4j3cs","updated":"20240310144914"},"Children":[{"ID":"20240310144914-6fqzta3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310144914-6fqzta3","updated":"20240310144914"},"Children":[{"ID":"20240310144914-etdfjv4","Type":"NodeParagraph","Properties":{"id":"20240310144914-etdfjv4","updated":"20240310144914"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"data[0]"},{"Type":"NodeText","Data":"​ 等效于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"*data"},{"Type":"NodeText","Data":"​，地址等效 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;data[0]"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240310144914-va1yjs9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310144914-va1yjs9","updated":"20240310144914"},"Children":[{"ID":"20240310144914-q2lu2zc","Type":"NodeParagraph","Properties":{"id":"20240310144914-q2lu2zc","updated":"20240310144914"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"data[i]"},{"Type":"NodeText","Data":"​ 等效于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"*(data + i)"},{"Type":"NodeText","Data":"​，地址等效 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;data[i]"},{"Type":"NodeText","Data":"​"}]}]}]}]}