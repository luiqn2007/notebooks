{"ID":"20240311224837-6ujsuzi","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2620-fe0f","id":"20240311224837-6ujsuzi","tags":"C++17","title":"折叠表达式","updated":"20240311230002"},"Children":[{"ID":"20240311225607-9po48tq","Type":"NodeParagraph","Properties":{"id":"20240311225607-9po48tq","updated":"20240311230002"},"Children":[{"Type":"NodeText","Data":"C++17 新增"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240311224140-t6r6pay","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"形参包展开"},{"Type":"NodeText","Data":"用于替代递归的形参包展开，于是我们可以写成："}]},{"ID":"20240311225607-sj16in1","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311225607-sj16in1","updated":"20240311225607"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"template\u003cclass ...Args\u003e\nauto sum(Args ...args) {\n    return (args + ...);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311225607-u54pzil","Type":"NodeParagraph","Properties":{"id":"20240311225607-u54pzil","updated":"20240311225956"},"Children":[{"Type":"NodeText","Data":"C++17 添加以下四种折叠表达式，其中 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"op"},{"Type":"NodeText","Data":"​ 为任意二元"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310013414-qhq764s","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"运算符"},{"Type":"NodeText","Data":"，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"k"},{"Type":"NodeText","Data":"​ 为任意值，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"args"},{"Type":"NodeText","Data":"​ 为形参包名，其中的值为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"v1, v2, v3, ..., vN"},{"Type":"NodeText","Data":"​："}]},{"ID":"20240311225607-rwy1utw","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240311225607-rwy1utw","updated":"20240311225607"},"Children":[{"ID":"20240311225607-hzvnrd8","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240311225607-hzvnrd8","updated":"20240311225607"},"Children":[{"ID":"20240311225607-wt98ldb","Type":"NodeParagraph","Properties":{"id":"20240311225607-wt98ldb","updated":"20240311225607"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"(args op ...)"},{"Type":"NodeText","Data":"​ 展开得 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"(v0 op (v1 op (v2 op (v3 op (...)))))"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240311225607-33dyrny","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240311225607-33dyrny","updated":"20240311225607"},"Children":[{"ID":"20240311225607-huq8emr","Type":"NodeParagraph","Properties":{"id":"20240311225607-huq8emr","updated":"20240311225607"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"(... op args)"},{"Type":"NodeText","Data":"​ 展开得 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"(((v0 op v1) op v2) op v3) op ..."},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240311225607-s6mos85","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240311225607-s6mos85","updated":"20240311225607"},"Children":[{"ID":"20240311225607-ympw7ir","Type":"NodeParagraph","Properties":{"id":"20240311225607-ympw7ir","updated":"20240311225607"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"(args op ... op k)"},{"Type":"NodeText","Data":"​ 展开得 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"(v0 op (v1 op (v2 op (v3 op (... op (vN op k))))))"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240311225607-pi8wzun","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240311225607-pi8wzun","updated":"20240311225607"},"Children":[{"ID":"20240311225607-15ey9cc","Type":"NodeParagraph","Properties":{"id":"20240311225607-15ey9cc","updated":"20240311225607"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"(k op ... op args)"},{"Type":"NodeText","Data":"​ 展开得 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"(((v0 op v1) op v2) op v3) op ..."},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240311225607-uwv1exx","Type":"NodeParagraph","Properties":{"id":"20240311225607-uwv1exx","updated":"20240311225607"},"Children":[{"Type":"NodeText","Data":"其中，第 1 和第 2 条在空包（即 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"args"},{"Type":"NodeText","Data":"​ 中没有值）的情况下会有问题，因为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"op"},{"Type":"NodeText","Data":"​ 是二元运算符，第 3，4 条由于额外的一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"k"},{"Type":"NodeText","Data":"​ 得以避免。于是有了以下规则："}]},{"ID":"20240311225607-r4qg988","Type":"NodeList","ListData":{},"Properties":{"id":"20240311225607-r4qg988","updated":"20240311225607"},"Children":[{"ID":"20240311225607-6q59kbh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311225607-6q59kbh","updated":"20240311225607"},"Children":[{"ID":"20240311225607-jj12lm7","Type":"NodeParagraph","Properties":{"id":"20240311225607-jj12lm7","updated":"20240311225607"},"Children":[{"Type":"NodeText","Data":"仅 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"op"},{"Type":"NodeText","Data":"​ 为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;\u0026amp;"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"||"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":","},{"Type":"NodeText","Data":"​ 运算符时支持空包"}]}]},{"ID":"20240311225607-tomzrqr","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311225607-tomzrqr","updated":"20240311225607"},"Children":[{"ID":"20240311225607-m6z9xp5","Type":"NodeParagraph","Properties":{"id":"20240311225607-m6z9xp5","updated":"20240311225607"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;\u0026amp;"},{"Type":"NodeText","Data":"​ 的空包结果为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"true"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"||"},{"Type":"NodeText","Data":"​ 的空包结果为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"false"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240311225607-je84490","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311225607-je84490","updated":"20240311225607"},"Children":[{"ID":"20240311225607-q5kzuyh","Type":"NodeParagraph","Properties":{"id":"20240311225607-q5kzuyh","updated":"20240311225607"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":","},{"Type":"NodeText","Data":"​ 的空包结果为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"void()"},{"Type":"NodeText","Data":"​"}]}]}]}]}