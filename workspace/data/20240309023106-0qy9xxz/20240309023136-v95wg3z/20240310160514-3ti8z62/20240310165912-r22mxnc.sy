{"ID":"20240310165912-r22mxnc","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2620-fe0f","id":"20240310165912-r22mxnc","tags":"C++11","title":"可变参数模板","updated":"20240311224939"},"Children":[{"ID":"20240310165919-fq6oxgn","Type":"NodeParagraph","Properties":{"id":"20240310165919-fq6oxgn","updated":"20240310225214"},"Children":[{"Type":"NodeText","Data":"C++11 允许使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"..."},{"Type":"NodeText","Data":"​ 定义任意个数、任意类别的"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310160514-3ti8z62","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"模板"},{"Type":"NodeText","Data":"参数，不必在定义时固定参数个数"}]},{"ID":"20240310165919-v3nrr3l","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310165919-v3nrr3l","updated":"20240311224025"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"// 函数模板\ntemplate\u003cclass ...Args\u003e\nvoid foo(Args ...args) {\n    // do something\n}\n\n// 类模板\ntemplate\u003cclass ...Args\u003e\nclass bar {\npublic:\n    bar(Args ...args) {\n        // do something\n        foo(args...);\n    }\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311224053-mfvfmlb","Type":"NodeList","ListData":{},"Properties":{"id":"20240311224053-mfvfmlb","updated":"20240311224939"},"Children":[{"ID":"20240311224053-zpzna5n","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311224053-zpzna5n","updated":"20240311224053"},"Children":[{"ID":"20240311224053-1sehz2h","Type":"NodeParagraph","Properties":{"id":"20240311224053-1sehz2h","updated":"20240311224053"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"class ...Args"},{"Type":"NodeText","Data":"​：类型模板形参包，接受零个或多个类型的模板形参"}]}]},{"ID":"20240311224053-v9k0fdz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311224053-v9k0fdz","updated":"20240311224053"},"Children":[{"ID":"20240311224053-k6pw5op","Type":"NodeParagraph","Properties":{"id":"20240311224053-k6pw5op","updated":"20240311224053"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Args ...args"},{"Type":"NodeText","Data":"​：函数形参包，出现在函数形参列表中，接受零个或多个函数实参"}]}]},{"ID":"20240311224053-o2ofzrw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311224053-o2ofzrw","updated":"20240311224939"},"Children":[{"ID":"20240311224053-3g2pbg2","Type":"NodeParagraph","Properties":{"id":"20240311224053-3g2pbg2","updated":"20240311224939"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"args..."},{"Type":"NodeText","Data":"​："},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240311224140-t6r6pay","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"形参包展开"},{"Type":"NodeText","Data":"，将形参包展开为零个或多个模式列表（解包）"}]}]}]},{"ID":"20240310165919-t1acx77","Type":"NodeParagraph","Properties":{"id":"20240310165919-t1acx77","updated":"20240310165919"},"Children":[{"Type":"NodeText","Data":"可变参数模板在模板函数中，配合函数的不定长参数可安全的处理不定长参数的类型"}]},{"ID":"20240310165919-mamveoq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310165919-mamveoq","updated":"20240310165919"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"template\u003ctypename... PARAMS\u003e void printf(const std::string \u0026str, PARAMS.. parameters);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311224118-pamfznf","Type":"NodeParagraph","Properties":{"id":"20240311224118-pamfznf","updated":"20240311224118"},"Children":[{"Type":"NodeText","Data":"可变参的一些特点与限制："}]},{"ID":"20240311224118-n5lvbtb","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240311224118-n5lvbtb","updated":"20240311224118"},"Children":[{"ID":"20240311224118-i0kkqkx","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240311224118-i0kkqkx","updated":"20240311224118"},"Children":[{"ID":"20240311224118-z6lbs52","Type":"NodeParagraph","Properties":{"id":"20240311224118-z6lbs52","updated":"20240311224118"},"Children":[{"Type":"NodeText","Data":"不能使用类型自动推断，但可以手动指定类型："}]}]}]},{"ID":"20240311224118-g87t4a3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311224118-g87t4a3","updated":"20240311224118"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"template\u003cclass ...Args\u003e\nclass bar {\npublic:\n    bar(Args ...args) {\n        // do something\n        foo(args...);\n    }\n};\n\nint main() {\n   bar\u003c\u003e b1;\n   bar\u003cint\u003e b2;\n   bar\u003cint, double\u003e b3;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311224118-f0frlzy","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240311224118-f0frlzy","updated":"20240311224118"},"Children":[{"ID":"20240311224118-2a8kg2c","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240311224118-2a8kg2c","updated":"20240311224118"},"Children":[{"ID":"20240311224118-x7svhis","Type":"NodeParagraph","Properties":{"id":"20240311224118-x7svhis","updated":"20240311224118"},"Children":[{"Type":"NodeText","Data":"类模板中，可变参数模板必须是最后一个模板参数，但函数模板中可以不是，只要保证后续参数类型能匹配即可"}]}]}]},{"ID":"20240311224118-swmg7eh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311224118-swmg7eh","updated":"20240311224118"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"template\u003cclass ...Args, class T, class U = double\u003e\nvoid foo(T, U, Args ...args);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311224118-rqy7d9y","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240311224118-rqy7d9y","updated":"20240311224118"},"Children":[{"ID":"20240311224118-2pf7s4i","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240311224118-2pf7s4i","updated":"20240311224118"},"Children":[{"ID":"20240311224118-ajayql4","Type":"NodeParagraph","Properties":{"id":"20240311224118-ajayql4","updated":"20240311224118"},"Children":[{"Type":"NodeText","Data":"可变参数适用于非类型模板形参"}]}]}]},{"ID":"20240311224118-ryghny2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311224118-ryghny2","updated":"20240311224118"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"template\u003cint ...Args\u003e\nvoid foo();\n\nfoo\u003c1, 2, 10, 20\u003e();\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311224118-zom6cxs","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240311224118-zom6cxs","updated":"20240311224118"},"Children":[{"ID":"20240311224118-ydszmn8","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240311224118-ydszmn8","updated":"20240311224118"},"Children":[{"ID":"20240311224118-tu89sxm","Type":"NodeParagraph","Properties":{"id":"20240311224118-tu89sxm","updated":"20240311224118"},"Children":[{"Type":"NodeText","Data":"在进行模板匹配时，可变参的优先级低于有固定数量参数的模板"}]}]}]}]}