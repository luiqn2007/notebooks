{"ID":"20240310152754-1avtzdx","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2620-fe0f","id":"20240310152754-1avtzdx","title":"引用传递","updated":"20240310221301"},"Children":[{"ID":"20240310152814-o0s3kuw","Type":"NodeParagraph","Properties":{"id":"20240310152814-o0s3kuw","updated":"20240310221301"},"Children":[{"Type":"NodeText","Data":"引用传递不进行任何复制，传参时也不需任何其他取址等运算，接受 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240310011502-r5kae4b","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"A\u0026amp;"},{"Type":"NodeText","Data":"​​ 类型参数"}]},{"ID":"20240310152814-ox8g085","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310152814-ox8g085","updated":"20240310152814"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"#include\u003ciostream\u003e\n\nusing namespace std;\n\nstatic int ID {0};\n\nclass A {\npublic:\n\n    A() { cout \u003c\u003c \"create A\" \u003c\u003c \", id=\" \u003c\u003c id \u003c\u003c endl; }\n    A(const A \u0026a) { cout \u003c\u003c \"create A by A\u0026\" \u003c\u003c \", id=\" \u003c\u003c id \u003c\u003c endl; }\n    ~A() { cout \u003c\u003c \"remove A\" \u003c\u003c \", id=\" \u003c\u003c id \u003c\u003c endl; }\n\n    int value {};\n    int id {ID++};\n};\n\nvoid set_value(A \u0026a, int value) {\n    a.value = value;\n    cout \u003c\u003c \"Value in set_value is \" \u003c\u003c a.value \u003c\u003c \", id=\" \u003c\u003c a.id \u003c\u003c endl;\n}\n\nint main() {\n    // create A, id=0\n    A a;\n    // Value before set_value is 0, id=0\n    cout \u003c\u003c \"Value before set_value is \" \u003c\u003c a.value \u003c\u003c \", id=\" \u003c\u003c a.id \u003c\u003c endl;\n    // Value in set_value is 20, id=0\n    set_value(a, 20);\n    // Value after set_value is 20, id=0\n    cout \u003c\u003c \"Value after set_value is \" \u003c\u003c a.value \u003c\u003c \", id=\" \u003c\u003c a.id \u003c\u003c endl;\n    // remove A, id=0\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240310152927-mgk7gob","Type":"NodeParagraph","Properties":{"id":"20240310152927-mgk7gob","updated":"20240310152956"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T\u0026amp;\u0026amp;"},{"Type":"NodeText","Data":"​ 可接受 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240310150948-1ghboya","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"rvalue"},{"Type":"NodeText","Data":"​ 参数，这种声明形式称为"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310152956-qqx8lne","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"万能引用"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240310152927-x70hl9l","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310152927-x70hl9l","updated":"20240310152927"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"void fun(int \u0026value) {\n    cout \u003c\u003c \"call fun(int\u0026)\" \u003c\u003c endl;\n}\n\nvoid fun(int \u0026\u0026value) {\n    cout \u003c\u003c \"call fun(int\u0026\u0026)\" \u003c\u003c endl;\n}\n\nint main() {\n    int a = 0;\n    // call fun(int\u0026)\n    fun(a);\n    // call fun(int\u0026\u0026)\n    fun(3);\n    // call fun(int\u0026\u0026)\n    fun(a + 5);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}