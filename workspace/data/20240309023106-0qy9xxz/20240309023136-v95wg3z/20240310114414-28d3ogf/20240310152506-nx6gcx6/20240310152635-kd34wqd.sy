{"ID":"20240310152635-kd34wqd","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2620-fe0f","id":"20240310152635-kd34wqd","title":"指针传递","updated":"20240310221218"},"Children":[{"ID":"20240310152727-lzfqcr5","Type":"NodeParagraph","Properties":{"id":"20240310152727-lzfqcr5","updated":"20240310221218"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310011458-lcoh739","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"指针"},{"Type":"NodeText","Data":"传参仍然遵循按值传递的规则，但复制的是地址而非对象，因此对象本身并未被复制"}]},{"ID":"20240310152727-5q04ktf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310152727-5q04ktf","updated":"20240310152727"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"#include\u003ciostream\u003e\n\nusing namespace std;\n\nstatic int ID {0};\n\nclass A {\npublic:\n\n    A() { cout \u003c\u003c \"create A\" \u003c\u003c \", id=\" \u003c\u003c id \u003c\u003c endl; }\n    A(const A \u0026a) { cout \u003c\u003c \"create A by A\u0026\" \u003c\u003c \", id=\" \u003c\u003c id \u003c\u003c endl; }\n    ~A() { cout \u003c\u003c \"remove A\" \u003c\u003c \", id=\" \u003c\u003c id \u003c\u003c endl; }\n\n    int value {};\n    int id {ID++};\n};\n\nvoid set_value(A *a, int value) {\n    a-\u003evalue = value;\n    cout \u003c\u003c \"Value in set_value is \" \u003c\u003c a-\u003evalue \u003c\u003c \", id=\" \u003c\u003c a-\u003eid \u003c\u003c endl;\n    a++;\n}\n\nint main() {\n    // create A, id=0\n    A a;\n    // Value before set_value is 0, id=0\n    cout \u003c\u003c \"Value before set_value is \" \u003c\u003c a.value \u003c\u003c \", id=\" \u003c\u003c a.id \u003c\u003c endl;\n    // Value in set_value is 20, id=0\n    set_value(\u0026a, 20);\n    // Value after set_value is 20, id=0\n    cout \u003c\u003c \"Value after set_value is \" \u003c\u003c a.value \u003c\u003c \", id=\" \u003c\u003c a.id \u003c\u003c endl;\n    // remove A, id=0\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}