{"ID":"20240311121022-hnaayzo","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f527","id":"20240311121022-hnaayzo","tags":"C++17","title":"inline 成员","updated":"20240311123923"},"Children":[{"ID":"20240311121032-qbl4teh","Type":"NodeParagraph","Properties":{"id":"20240311121032-qbl4teh","updated":"20240311123923"},"Children":[{"Type":"NodeText","Data":"C++17 之前，定义类的"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310155027-nc7f3e8","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"静态成员"},{"Type":"NodeText","Data":"容易产生重复定义 -- 必须保证全局没有同名声明。"}]},{"ID":"20240311121032-q0zmwmm","Type":"NodeParagraph","Properties":{"id":"20240311121032-q0zmwmm","updated":"20240311121032"},"Children":[{"Type":"NodeText","Data":"考虑下面例子："}]},{"ID":"20240311121107-dkdvp6z","Type":"NodeSuperBlock","Properties":{"id":"20240311121107-dkdvp6z","updated":"20240311121107"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240311121104-zoix215","Type":"NodeSuperBlock","Properties":{"id":"20240311121104-zoix215","updated":"20240311121107"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240311121032-n2urqsx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311121032-n2urqsx","updated":"20240311121105"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"// x.h\n#ifndef CPP_X_H\n#define CPP_X_H\n\n#include \u003cstring\u003e\n\nclass X {\npublic:\n    static std::string text;\n};\n\nstd::string X::text{\"hello\"};\n\n#endif //CPP_X_H\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311121032-f0nflz7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311121032-f0nflz7","updated":"20240311121105"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"// x.cpp\n#include \"x.h\"\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240311121032-ifd4y2v","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311121032-ifd4y2v","updated":"20240311121107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"// main.cpp\n#include \u003ciostream\u003e\n#include \u003cstring\u003e\n\n#include \"x.h\"\n\nusing namespace std;\n\nint main() {\n    cout \u003c\u003c X::text;\n    return 0;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240311121032-zchf4d6","Type":"NodeParagraph","Properties":{"id":"20240311121032-zchf4d6","updated":"20240311121032"},"Children":[{"Type":"NodeText","Data":"在上面的三个例子中，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"x.cpp"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"main.cpp"},{"Type":"NodeText","Data":"​ 都引入了 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"x.h"},{"Type":"NodeText","Data":"​，造成了 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"X::text"},{"Type":"NodeText","Data":"​ 的重复定义。"}]},{"ID":"20240311121032-guh2q3b","Type":"NodeParagraph","Properties":{"id":"20240311121032-guh2q3b","updated":"20240311121032"},"Children":[{"Type":"NodeText","Data":"C++17 允许通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inline"},{"Type":"NodeText","Data":"​ 声明内联到类的静态变量。此时，允许在声明时初始化值。"}]},{"ID":"20240311121032-78ecagl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311121032-78ecagl","updated":"20240311121032"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"// x.cpp\n\n#ifndef CPP_X_H\n#define CPP_X_H\n\n#include \u003cstring\u003e\n\nclass X {\npublic:\n    static inline std::string text {\"hello\"};\n};\n\n#endif //CPP_X_H\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}