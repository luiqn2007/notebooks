{"ID":"20240311112135-xceo4hs","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2620-fe0f","id":"20240311112135-xceo4hs","tags":"C++17","title":"explicit 默认构造","updated":"20240311223613"},"Children":[{"ID":"20240311112147-6hs6k9x","Type":"NodeParagraph","Properties":{"id":"20240311112147-6hs6k9x","updated":"20240311223613"},"Children":[{"Type":"NodeText","Data":"允许使用 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240311112119-lq2fdt4","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"explicit"},{"Type":"NodeText","Data":"​ 修饰默认"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310161644-g7cva4b","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"构造"},{"Type":"NodeText","Data":"，或将默认构造相关声明移动到类之外，以创建一些特定的非聚合类"}]},{"ID":"20240311112147-gy5grds","Type":"NodeParagraph","Properties":{"id":"20240311112147-gy5grds","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240311112302"},"Children":[{"Type":"NodeText","Data":"无法实例化的类：C++ 17 之前可以通过下面的方法创建一个无法实例化的类"}]},{"ID":"20240311112147-ac4dcka","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311112147-ac4dcka","updated":"20240311112147"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"struct A {\n    A() = delete;\n}\n// or\nstruct A {\nprivate:\n    A() = default;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311112147-y9p03um","Type":"NodeParagraph","Properties":{"id":"20240311112147-y9p03um","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240311112309"},"Children":[{"Type":"NodeText","Data":"但 C++ 17 上面的代码被识别为聚合类，可以通过聚合类型初始化的方法创建 A 对象"}]},{"ID":"20240311112147-s9z9byy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311112147-s9z9byy","updated":"20240311112147"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"A a {};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311112147-cu024rw","Type":"NodeParagraph","Properties":{"id":"20240311112147-cu024rw","updated":"20240311112457"},"Children":[{"Type":"NodeText","Data":"解决方案："}]},{"ID":"20240311112437-z2zz2h2","Type":"NodeSuperBlock","Properties":{"id":"20240311112437-z2zz2h2","updated":"20240311112438"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240311112147-wmndaq7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311112147-wmndaq7","updated":"20240311112438"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"struct A {\n    explicit A() = delete; // 使用 explicit 声明\n}\n// or\nstruct A {\nprivate:\n    A();\n}\nA::A() = default; // 将构造函数移出\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311112434-gjdvc8g","Type":"NodeSuperBlock","Properties":{"id":"20240311112434-gjdvc8g","updated":"20240311112438"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240311112147-zdh8485","Type":"NodeParagraph","Properties":{"id":"20240311112147-zdh8485","updated":"20240311112435"},"Children":[{"Type":"NodeText","Data":"或升级到 "},{"Type":"NodeTextMark","TextMarkType":"tag","TextMarkTextContent":"C++20"},{"Type":"NodeText","Data":"​，类中声明 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"=default"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"=delete"},{"Type":"NodeText","Data":"​ 的构造函数不再是聚合类"}]},{"ID":"20240311112147-6q568pp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311112147-6q568pp","updated":"20240311112435"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"class A {\npublic:\n    // 在 C++20 后就不再是聚合类\n    A() = default;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240311112438-qlj8rzu","Type":"NodeParagraph","Properties":{"id":"20240311112438-qlj8rzu"}}]}