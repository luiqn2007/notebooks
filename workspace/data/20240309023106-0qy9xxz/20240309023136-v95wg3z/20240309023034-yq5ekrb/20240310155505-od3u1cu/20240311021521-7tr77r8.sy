{"ID":"20240311021521-7tr77r8","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2328-fe0f","id":"20240311021521-7tr77r8","title":"推导规则","updated":"20240311021713"},"Children":[{"ID":"20240311021703-avncodw","Type":"NodeParagraph","Properties":{"id":"20240311021703-avncodw","updated":"20240311021713"},"Children":[{"Type":"NodeText","Data":"在使用 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240310155505-od3u1cu","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"auto"},{"Type":"NodeText","Data":"​ 推导时遵循以下规则："}]},{"ID":"20240311021703-h4lg65l","Type":"NodeList","ListData":{},"Properties":{"id":"20240311021703-h4lg65l","updated":"20240311021703"},"Children":[{"ID":"20240311021703-t1oo926","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311021703-t1oo926","updated":"20240311021703"},"Children":[{"ID":"20240311021703-jaffklv","Type":"NodeParagraph","Properties":{"id":"20240311021703-jaffklv","updated":"20240311021703"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cv"},{"Type":"NodeText","Data":"​ 限定符：若推导类型为值类型（非指针、引用），忽略 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"volatile"},{"Type":"NodeText","Data":"​ 修饰符"}]}]}]},{"ID":"20240311021703-iltie4f","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311021703-iltie4f","updated":"20240311021703"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"const int i = 5;\n// auto 推断为 int 而非 const int\nauto j = i;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311021703-rtl9jfd","Type":"NodeList","ListData":{},"Properties":{"id":"20240311021703-rtl9jfd","updated":"20240311021703"},"Children":[{"ID":"20240311021703-of6kv7c","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311021703-of6kv7c","updated":"20240311021703"},"Children":[{"ID":"20240311021703-lcj4iw1","Type":"NodeParagraph","Properties":{"id":"20240311021703-lcj4iw1","updated":"20240311021703"},"Children":[{"Type":"NodeText","Data":"引用：若推导类型为引用类型，则自动忽略引用。若需要推断为引用则需要使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;"},{"Type":"NodeText","Data":"​ 声明"}]}]}]},{"ID":"20240311021703-8h45ars","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311021703-8h45ars","updated":"20240311021703"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"int i = 5;\nint \u0026j = i;\n// auto 推断为 int 而非 int\u0026\nauto m = j;\n// 若需要引用，需要这么写\nauto \u0026n = j;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311021703-wwk4zt7","Type":"NodeParagraph","Properties":{"id":"20240311021703-wwk4zt7","updated":"20240311021703"},"Children":[{"Type":"NodeText","Data":"但若声明为万能引用，则左值被推导为引用"}]},{"ID":"20240311021703-s7vro8y","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311021703-s7vro8y","updated":"20240311021703"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"int i = 3;\n// 由于引用折叠，m 的类型为 int\u0026\nauto\u0026\u0026 m = i;\n// n 的类型为 int\u0026\u0026\nauto\u0026\u0026 n = 3;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311021703-1danhtq","Type":"NodeList","ListData":{},"Properties":{"id":"20240311021703-1danhtq","updated":"20240311021703"},"Children":[{"ID":"20240311021703-61olgx9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311021703-61olgx9","updated":"20240311021703"},"Children":[{"ID":"20240311021703-ou42gw4","Type":"NodeParagraph","Properties":{"id":"20240311021703-ou42gw4","updated":"20240311021703"},"Children":[{"Type":"NodeText","Data":"若被推导类型为函数或数组，推导类型为对应类型的指针"}]}]}]},{"ID":"20240311021703-qp8j1hq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311021703-qp8j1hq","updated":"20240311021703"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"int add(int a, int b) {\n    return a + b;\n}\n\nint arr[10];\n\n// a 类型为 int(*)(int, int)\nauto a = add;\n// b 类型为 int*\nauto b = arr;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311021703-9k758y1","Type":"NodeList","ListData":{},"Properties":{"id":"20240311021703-9k758y1","updated":"20240311021703"},"Children":[{"ID":"20240311021703-nk2hks9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311021703-nk2hks9","updated":"20240311021703"},"Children":[{"ID":"20240311021703-gnwbq48","Type":"NodeParagraph","Properties":{"id":"20240311021703-gnwbq48","updated":"20240311021703"},"Children":[{"Type":"NodeText","Data":"初始化列表：若直接使用，必须使用单元素；若通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"="},{"Type":"NodeText","Data":"​ 连接，推导为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"std::initializer_list\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​ 类型且元素类型必须相同"}]}]}]},{"ID":"20240311021703-p2itjy3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311021703-p2itjy3","updated":"20240311021703"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"// auto 推断为 std::initializer_list\u003cint\u003e\nauto x1 = {1, 2};\n// auto 推断为 std::initializer_list\u003cint\u003e\nauto x2 = {1};\n// 编译错误，元素类型必须相同\nauto x3 = {'a', 2.0};\n// auto 推断为 int，值为 1\nauto x4 {1};\n// 编译错误，必须使用单元素\nauto x5 {1, 2};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}