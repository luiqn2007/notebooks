{"ID":"20240310151025-ekhxm7p","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f527","id":"20240310151025-ekhxm7p","title":"move 语义","updated":"20240311024003"},"Children":[{"ID":"20240310151025-iov37x4","Type":"NodeParagraph","Properties":{"id":"20240310151025-iov37x4","updated":"20240311023925"},"Children":[{"Type":"NodeText","Data":"C++无法将一个右值赋给左值引用的变量。但可以将一个左值通过强制转换为一个将亡值，而将亡值也同时属于右值，此时可以将其赋给一个右值引用。此时该变量与之前的变量有相同的生命周期和内存地址。"}]},{"ID":"20240311023945-f6qievi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311023945-f6qievi","updated":"20240311023945"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"int i = 10;\nint \u0026\u0026k = static_cast\u003cint\u0026\u0026\u003e(i);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311023924-ej3pyv8","Type":"NodeParagraph","Properties":{"id":"20240311023924-ej3pyv8","updated":"20240311023956"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"std::move"},{"Type":"NodeText","Data":"​ 负责将左值转换成右值引用，其实际实现就是一个类型的强制转换，将一个左值转换为右值（将亡值）。"}]},{"ID":"20240311024003-edm56q6","Type":"NodeParagraph","Properties":{"id":"20240311024003-edm56q6","updated":"20240311024003"},"Children":[{"Type":"NodeText","Data":"该功能的作用主要是使一个左值使用移动语义："}]},{"ID":"20240311024003-lpm0oi3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311024003-lpm0oi3","updated":"20240311024003"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"// 一个具有移动构造的类型，包含一块内存数据的指针\nBigMemoryPool value;\n// 该操作调用的是 BigMemoryPool 的复制构造 \nBigMemoryPool value1 = value;\n// 该操作调用的是 BigMemoryPool 的移动构造 \nBigMemoryPool value2 = std::move(value);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311024003-tgcxkea","Type":"NodeParagraph","Properties":{"id":"20240311024003-tgcxkea","updated":"20240311024003"},"Children":[{"Type":"NodeText","Data":"使用场景为在一个右值被转换为左值，又需要再次转换为右值的情况，尤其是在函数调用的情况 -- 无论函数形参是左值还是右值，传入的实参都是左值。"}]}]}