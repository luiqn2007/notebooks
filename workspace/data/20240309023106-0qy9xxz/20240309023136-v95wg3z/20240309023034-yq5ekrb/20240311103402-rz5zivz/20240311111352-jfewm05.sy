{"ID":"20240311111352-jfewm05","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f527","id":"20240311111352-jfewm05","tags":"C++17","title":"扩展定义","updated":"20240311112003"},"Children":[{"ID":"20240311111401-tg6ap5k","Type":"NodeParagraph","Properties":{"id":"20240311111401-tg6ap5k","updated":"20240311112003"},"Children":[{"Type":"NodeText","Data":"允许"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240311103402-rz5zivz","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"聚合类"},{"Type":"NodeText","Data":"具有基类"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310154913-up88hl0","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"继承"},{"Type":"NodeText","Data":"关系。对于有基类的类型，聚合类具有以下特征："}]},{"ID":"20240311111401-1xb4dnt","Type":"NodeList","ListData":{},"Properties":{"id":"20240311111401-1xb4dnt","updated":"20240311111401"},"Children":[{"ID":"20240311111401-ppkbdsv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311111401-ppkbdsv","updated":"20240311111401"},"Children":[{"ID":"20240311111401-lin28ew","Type":"NodeParagraph","Properties":{"id":"20240311111401-lin28ew","updated":"20240311111401"},"Children":[{"Type":"NodeText","Data":"所有继承都是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"public"},{"Type":"NodeText","Data":"​ 的，没有私有或保护的基类"}]}]},{"ID":"20240311111401-qeg0ieo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311111401-qeg0ieo","updated":"20240311111401"},"Children":[{"ID":"20240311111401-04w1g93","Type":"NodeParagraph","Properties":{"id":"20240311111401-04w1g93","updated":"20240311111401"},"Children":[{"Type":"NodeText","Data":"非虚继承"}]}]},{"ID":"20240311111401-67gju4u","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311111401-67gju4u","updated":"20240311111401"},"Children":[{"ID":"20240311111401-esiz8py","Type":"NodeParagraph","Properties":{"id":"20240311111401-esiz8py","updated":"20240311111401"},"Children":[{"Type":"NodeText","Data":"不需要调用基类构造函数"}]}]}]},{"ID":"20240311111401-sscyc9u","Type":"NodeParagraph","Properties":{"id":"20240311111401-sscyc9u","updated":"20240311111401"},"Children":[{"Type":"NodeText","Data":"可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;type_traits\u0026gt;"},{"Type":"NodeText","Data":"​ 中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"is_aggregate"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"is_aggregate_v"},{"Type":"NodeText","Data":"​ 判断某类型是否为聚合类"}]},{"ID":"20240311111401-nbs0yay","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311111401-nbs0yay","updated":"20240311111401"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"class A {\nprivate:\n    int a_a;\npublic:\n    int a_b, a_c;\n    A(int a, int b, int c): a_a(a), a_b(b), a_c(c) {}\n};\n\nclass B {\nprivate:\n    float b_a;\npublic:\n    float b_b, b_c;\n    B(float a, float b, float c): b_a(a), b_b(b), b_c(c) {}\n};\n\nclass NewAggregateType: public A, public B {\npublic:\n    int a;\n    float b;\n    double c;\n};\n\n// NewAggregateType is aggregate type\nif (is_aggregate_v\u003cNewAggregateType\u003e) {\n    cout \u003c\u003c \"NewAggregateType is aggregate type\";\n} else {\n    cout \u003c\u003c \"NewAggregateType is not aggregate type\";\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311111401-33m6gx6","Type":"NodeParagraph","Properties":{"id":"20240311111401-33m6gx6","updated":"20240311111401"},"Children":[{"Type":"NodeText","Data":"初始化时，按从左向右的顺序先初始化基类，再初始化其他成员。各基类构造可以用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{}"},{"Type":"NodeText","Data":"​ 聚合起来，也可以传入每个基类的实例 -- "},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"即假设基类是聚合类的一个特殊成员"}]},{"ID":"20240311111401-vzzm1np","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311111401-vzzm1np","updated":"20240311111401"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"NewAggregateType value1{\n        {1, 2, 3},\n        {1.0f, 2.0f, 3.0f},\n        1, 2.0, 3.0f\n};\n\nA a{1, 2, 3};\nB b{1.0f, 2.0f, 3.0f};\nNewAggregateType value2{\n        a, b, 1, 2.0, 3.0f\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311111441-di5kers","Type":"NodeParagraph","Properties":{"id":"20240311111441-di5kers"}}]}