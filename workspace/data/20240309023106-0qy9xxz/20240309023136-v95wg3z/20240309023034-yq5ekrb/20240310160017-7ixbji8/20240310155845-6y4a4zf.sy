{"ID":"20240310155845-6y4a4zf","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2620-fe0f","id":"20240310155845-6y4a4zf","tags":"C++11","title":"decltype","updated":"20240310223113"},"Children":[{"ID":"20240310155853-1whdb1p","Type":"NodeParagraph","Properties":{"id":"20240310155853-1whdb1p","updated":"20240310155853"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"decltype"},{"Type":"NodeText","Data":"​ 关键字可在编译期获取一个表达式的类型"}]},{"ID":"20240310155853-tqarqu7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310155853-tqarqu7","updated":"20240310155853"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"int someInt;\ndecltype(someInt) otherInt = 10;\n\n该关键字也可用于其他表达式\n\nvector\u003cA\u003e vec1;\nvector\u003cB\u003e vec2;\ndecltype(vec1[0] + vec2[0]) v;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240310155853-8i0dn1p","Type":"NodeParagraph","Properties":{"id":"20240310155853-8i0dn1p","updated":"20240310155853"},"Children":[{"Type":"NodeText","Data":"上面例子 v 的类型为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"A"},{"Type":"NodeText","Data":"​ 与 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"B"},{"Type":"NodeText","Data":"​ 对象相加的类型，如果存在的话（自定义运算符）。"}]},{"ID":"20240310155853-z8t57ij","Type":"NodeParagraph","Properties":{"id":"20240310155853-z8t57ij","updated":"20240310155853"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"decltype"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"auto"},{"Type":"NodeText","Data":"​ 推断的类型可能不同，主要差异在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240310155922-clpks8e","Type":"NodeParagraph","Properties":{"id":"20240310155922-clpks8e","updated":"20240310155922"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230104215444"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230104215444-20240310155922-yilwlc9.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240310222738-dhf2v57","Type":"NodeParagraph","Properties":{"id":"20240310222738-dhf2v57","updated":"20240310222914"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"decltype"},{"Type":"NodeText","Data":"​ 也常用于推断类型"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240310160514-3ti8z62","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"模板"},{"Type":"NodeText","Data":"之间的运算结果。"}]},{"ID":"20240310222915-ynvawaz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310222915-ynvawaz","updated":"20240310223113"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"template\u003cclass T1, class T2\u003e\nvoid add(T1 a, T2 b) {\n    decltype(a + b) r = a + b;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240310222823-l84hml5","Type":"NodeParagraph","Properties":{"id":"20240310222823-l84hml5"}}]}