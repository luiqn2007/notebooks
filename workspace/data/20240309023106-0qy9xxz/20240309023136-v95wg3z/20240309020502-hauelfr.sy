{"ID":"20240309020502-hauelfr","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2328-fe0f","id":"20240309020502-hauelfr","title":"从编译到执行","updated":"20240309022839"},"Children":[{"ID":"20240309022315-sg1z84i","Type":"NodeParagraph","Properties":{"id":"20240309022315-sg1z84i","updated":"20240309022323"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230714213946"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230714213946-20240309022315-wfi79oj.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240309022323-hnyagir","Type":"NodeParagraph","Properties":{"id":"20240309022323-hnyagir","updated":"20240309022700"},"Children":[{"Type":"NodeText","Data":"C++ 代码从编译到执行需要经过三个（四个）过程（编译和汇编有时笼统称为编译）。C/C++ 常见编译器有"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240309022227-q59shjr","TextMarkBlockRefSubtype":"d","TextMarkTextContent":"GCC"},{"Type":"NodeText","Data":"，"},{"Type":"NodeTextMark","TextMarkType":"tag","TextMarkTextContent":"MSVC"},{"Type":"NodeText","Data":"​和"},{"Type":"NodeTextMark","TextMarkType":"tag","TextMarkTextContent":"CLang"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240309022351-ve9tj9b","Type":"NodeParagraph","Properties":{"id":"20240309022351-ve9tj9b","updated":"20240309022401"},"Children":[{"Type":"NodeText","Data":"C++ 编译的基本单位是源码文件（通常为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cpp"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hpp"},{"Type":"NodeText","Data":"​ 文件）而不是头文件或整个项目，在链接之前各个源文件是彼此独立的。"}]},{"ID":"20240309022703-7a33ekp","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240309022703-7a33ekp","updated":"20240309022708"},"Children":[{"Type":"NodeText","Data":"预编译"}]},{"ID":"20240309022734-fe5xpfa","Type":"NodeParagraph","Properties":{"id":"20240309022734-fe5xpfa","updated":"20240309022747"},"Children":[{"Type":"NodeText","Data":"执行编译前的一些准备工作，主要是执行"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240309022747-fz96fgd","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"预处理指令"},{"Type":"NodeText","Data":"。在此过程中，如果存在循环引用，预处理指令的语法问题等会产生对应的异常。"}]},{"ID":"20240309022734-4wfph66","Type":"NodeParagraph","Properties":{"id":"20240309022734-4wfph66","updated":"20240309022734"},"Children":[{"Type":"NodeText","Data":"该过程后的结果仍为文本文件，可使用文本编辑器打开，内代码仍是 C++ 代码，只是将某些内容进行了替换、选择和展开。通常，执行该步后文件会增大很多。"}]},{"ID":"20240309022708-ovq0ppe","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240309022708-ovq0ppe","updated":"20240309022710"},"Children":[{"Type":"NodeText","Data":"编译"}]},{"ID":"20240309022816-fhcmzkk","Type":"NodeParagraph","Properties":{"id":"20240309022816-fhcmzkk","updated":"20240309022816"},"Children":[{"Type":"NodeText","Data":"将预处理后的源代码转换为汇编代码，在该步骤会生成与代码等效的汇编代码，同时若代码中存在语法错误也会报出相应的异常。"}]},{"ID":"20240309022816-gasp0nx","Type":"NodeParagraph","Properties":{"id":"20240309022816-gasp0nx","updated":"20240309022816"},"Children":[{"Type":"NodeText","Data":"该过程后的结果仍为文本文件，打开后的代码为汇编代码。"}]},{"ID":"20240309022721-0v25vxx","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240309022721-0v25vxx","updated":"20240309022723"},"Children":[{"Type":"NodeText","Data":"汇编"}]},{"ID":"20240309022828-3da097l","Type":"NodeParagraph","Properties":{"id":"20240309022828-3da097l","updated":"20240309022828"},"Children":[{"Type":"NodeText","Data":"汇编操作是将汇编代码转化为机器码。该步骤生成的结果称为"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"目标文件"},{"Type":"NodeText","Data":"，该文件为二进制文件。该步 GCC 的 g++ 通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"as"},{"Type":"NodeText","Data":"​ 程序完成。"}]},{"ID":"20240309022710-6j84hd4","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240309022710-6j84hd4","updated":"20240309022718"},"Children":[{"Type":"NodeText","Data":"链接"}]},{"ID":"20240309022839-nrlzym6","Type":"NodeParagraph","Properties":{"id":"20240309022839-nrlzym6","updated":"20240309022839"},"Children":[{"Type":"NodeText","Data":"目标文件是一种中间文件（临时文件），其中只包括我们编写的代码、头文件引入的代码，但缺失了以下内容："}]},{"ID":"20240309022839-cqcds2m","Type":"NodeList","ListData":{},"Properties":{"id":"20240309022839-cqcds2m","updated":"20240309022839"},"Children":[{"ID":"20240309022839-frsojtp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240309022839-frsojtp","updated":"20240309022839"},"Children":[{"ID":"20240309022839-kpgzep3","Type":"NodeParagraph","Properties":{"id":"20240309022839-kpgzep3","updated":"20240309022839"},"Children":[{"Type":"NodeText","Data":"程序可能包含多个源文件，各个源文件之间并没有进行链接"}]}]},{"ID":"20240309022839-cde0x3t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240309022839-cde0x3t","updated":"20240309022839"},"Children":[{"ID":"20240309022839-9eikeqg","Type":"NodeParagraph","Properties":{"id":"20240309022839-9eikeqg","updated":"20240309022839"},"Children":[{"Type":"NodeText","Data":"与依赖的库（标准库、动态链接库、操作系统相关组件等）也没有链接"}]}]}]},{"ID":"20240309022839-gbty49q","Type":"NodeParagraph","Properties":{"id":"20240309022839-gbty49q","updated":"20240309022839"},"Children":[{"Type":"NodeText","Data":"该步骤实际是将所有目标文件之间及与依赖的库文件打包成一个可执行文件，完成该步骤需要单独的链接器 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ld"},{"Type":"NodeText","Data":"​ 完成。"}]},{"ID":"20240309022839-j0407qh","Type":"NodeList","ListData":{},"Properties":{"id":"20240309022839-j0407qh","updated":"20240309022839"},"Children":[{"ID":"20240309022839-i24m2qx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240309022839-i24m2qx","updated":"20240309022839"},"Children":[{"ID":"20240309022839-0hlcyal","Type":"NodeParagraph","Properties":{"id":"20240309022839-0hlcyal","updated":"20240309022839"},"Children":[{"Type":"NodeText","Data":"合并段、调整段偏移"}]}]},{"ID":"20240309022839-lwfqpra","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240309022839-lwfqpra","updated":"20240309022839"},"Children":[{"ID":"20240309022839-t53wvs8","Type":"NodeParagraph","Properties":{"id":"20240309022839-t53wvs8","updated":"20240309022839"},"Children":[{"Type":"NodeText","Data":"汇总所有符号"}]}]},{"ID":"20240309022839-8wmw43g","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240309022839-8wmw43g","updated":"20240309022839"},"Children":[{"ID":"20240309022839-ve8qbbi","Type":"NodeParagraph","Properties":{"id":"20240309022839-ve8qbbi","updated":"20240309022839"},"Children":[{"Type":"NodeText","Data":"完成符号的重定位"}]}]}]},{"ID":"20240309022443-1t3cjwi","Type":"NodeParagraph","Properties":{"id":"20240309022443-1t3cjwi","updated":"20240309022718"}}]}