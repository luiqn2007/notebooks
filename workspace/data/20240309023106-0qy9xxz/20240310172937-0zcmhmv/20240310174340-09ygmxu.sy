{"ID":"20240310174340-09ygmxu","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f47f","id":"20240310174340-09ygmxu","title":"结构体","updated":"20240310174346"},"Children":[{"ID":"20240310174346-xsca4v5","Type":"NodeParagraph","Properties":{"id":"20240310174346-xsca4v5","updated":"20240310174346"},"Children":[{"Type":"NodeText","Data":"C# 结构体属于值类型，以栈中或内联（另一个堆的一部分）的形式存储"}]},{"ID":"20240310174346-nq9p1ae","Type":"NodeParagraph","Properties":{"id":"20240310174346-nq9p1ae","updated":"20240310174346"},"Children":[{"Type":"NodeText","Data":"结构体使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 声明，不支持继承（实际上继承自 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"System.ValueType"},{"Type":"NodeText","Data":"​）"}]},{"ID":"20240310174346-72k1q3n","Type":"NodeList","ListData":{},"Properties":{"id":"20240310174346-72k1q3n","updated":"20240310174346"},"Children":[{"ID":"20240310174346-0pgz7j3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310174346-0pgz7j3","updated":"20240310174346"},"Children":[{"ID":"20240310174346-vxwbhbd","Type":"NodeParagraph","Properties":{"id":"20240310174346-vxwbhbd","updated":"20240310174346"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"System.ValueType"},{"Type":"NodeText","Data":"​ 类型未添加任何其他方法，但提供了一些构造"}]}]},{"ID":"20240310174346-t0zpc1n","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310174346-t0zpc1n","updated":"20240310174346"},"Children":[{"ID":"20240310174346-4xottuj","Type":"NodeParagraph","Properties":{"id":"20240310174346-4xottuj","updated":"20240310174346"},"Children":[{"Type":"NodeText","Data":"可重写 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Close()"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Dispose()"},{"Type":"NodeText","Data":"​ 方法等，可重写 Object 类方法"}]}]},{"ID":"20240310174346-5063gwq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240310174346-5063gwq","updated":"20240310174346"},"Children":[{"ID":"20240310174346-j4zu24z","Type":"NodeParagraph","Properties":{"id":"20240310174346-j4zu24z","updated":"20240310174346"},"Children":[{"Type":"NodeText","Data":"可创建构造函数"}]}]}]},{"ID":"20240310174346-ybwp64y","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310174346-ybwp64y","updated":"20240310174346"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3NoYXJw"},{"Type":"NodeCodeBlockCode","Data":"public struct MyStruct {\n    public var Field1 = \"field1\";\n    public var Field2 = \"field2\";\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240310174346-vc7oef4","Type":"NodeParagraph","Properties":{"id":"20240310174346-vc7oef4","updated":"20240310174346"},"Children":[{"Type":"NodeText","Data":"结构体使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"new"},{"Type":"NodeText","Data":"​ 创建，但也可以像其他值类型变量一样声明"}]},{"ID":"20240310174346-ztsvcd5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240310174346-ztsvcd5","updated":"20240310174346"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YyM="},{"Type":"NodeCodeBlockCode","Data":"var a1 = new MyStrict();\nMyStruct a2;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240310174346-oi5mpwg","Type":"NodeParagraph","Properties":{"id":"20240310174346-oi5mpwg","updated":"20240310174346"},"Children":[{"Type":"NodeText","Data":"结构体对象内存在栈中分配，创建和删除非常快，但作为参数传递时会复制一份，当结构体数据过多时用作函数传参会造成不必要的复制，可使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ref"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"out"},{"Type":"NodeText","Data":"​ 类型"}]}]}