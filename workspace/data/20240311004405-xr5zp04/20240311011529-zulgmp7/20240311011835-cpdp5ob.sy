{"ID":"20240311011835-cpdp5ob","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f607","id":"20240311011835-cpdp5ob","title":"保持代码单元接口简单","updated":"20240311012150"},"Children":[{"ID":"20240311011853-7ng1a6e","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240311011853-7ng1a6e","updated":"20240311011853"},"Children":[{"Type":"NodeText","Data":"原则"}]},{"ID":"20240311011853-71gu8vg","Type":"NodeList","ListData":{},"Properties":{"id":"20240311011853-71gu8vg","updated":"20240311011854"},"Children":[{"ID":"20240311011853-weqx8b5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011853-weqx8b5","updated":"20240311011853"},"Children":[{"ID":"20240311011853-n9wyu69","Type":"NodeParagraph","Properties":{"id":"20240311011853-n9wyu69","updated":"20240311011853"},"Children":[{"Type":"NodeText","Data":"限制每个代码单元的参数不超过 4 个"}]}]},{"ID":"20240311011853-ghoyh4n","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011853-ghoyh4n","updated":"20240311011853"},"Children":[{"ID":"20240311011853-x5du9gs","Type":"NodeParagraph","Properties":{"id":"20240311011853-x5du9gs","updated":"20240311011853"},"Children":[{"Type":"NodeText","Data":"应将多个参数提取成对象"}]}]}]},{"ID":"20240311011853-mjm11pq","Type":"NodeParagraph","Properties":{"id":"20240311011853-mjm11pq","updated":"20240311011854"},"Children":[{"Type":"NodeText","Data":"原因：较少的参数使代码单元更易理解和复用，也更容易修改"}]},{"ID":"20240311011853-vntlvd1","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240311011853-vntlvd1","updated":"20240311011853"},"Children":[{"Type":"NodeText","Data":"使用"}]},{"ID":"20240311011853-h8fxe8a","Type":"NodeParagraph","Properties":{"id":"20240311011853-h8fxe8a","updated":"20240311011854"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"较长的代码接口通常是一种表现而不是原因，这意味着代码可能存在不合理的数据模型"}]},{"ID":"20240311011853-g6c8jlz","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240311011853-g6c8jlz","updated":"20240311011854"},"Children":[{"Type":"NodeText","Data":"参数对象"}]},{"ID":"20240311011853-o7qp9ie","Type":"NodeParagraph","Properties":{"id":"20240311011853-o7qp9ie","updated":"20240311011854"},"Children":[{"Type":"NodeText","Data":"通常来说，可以将参数提取成单个对象，这类对象通常称为数据传输对象 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"DTO"},{"Type":"NodeText","Data":"​ 或参数对象。"}]},{"ID":"20240311011853-4u78xy8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311011853-4u78xy8","updated":"20240311011854"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public void buildAndSendEmail(MailMan m, \n\t\t\t\t\t\t\t  String firstName, String lastName,\n\t\t\t\t\t\t\t  String division, String subject,\n\t\t\t\t\t\t\t  MailFont font, \n\t\t\t\t\t\t\t  String message1, String message2, String message3) {\n    // 拼装邮箱地址\n    String address = firstName.charAt(0) + \".\" + lastName.charAt(0) + \"@\" + division.substring(0, 5) + \".compa.ny\";\n    // 格式化信息\n    MallMessage message = formatMessage(font, message1 + message2 + message3);\n    // 发送消息\n    m.send(address, subject, message);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311011853-xjhgar2","Type":"NodeParagraph","Properties":{"id":"20240311011853-xjhgar2","updated":"20240311011854"},"Children":[{"Type":"NodeText","Data":"可见 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"buildAndSendEmail"},{"Type":"NodeText","Data":"​ 承担过多职责，将参数分类打包得"}]},{"ID":"20240311011853-9ojkdhq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311011853-9ojkdhq","updated":"20240311011854"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"record Mail(MailAddress address, MailBody body) {}\n\nrecord MailBody(String subject, MailMessage message) {}\n\nrecord MailAddress(String address) {\n    MailAddress(String firstName, String lastName, String division) {\n        this(firstName.charAt(0) + \".\" + lastName.charAt(0) + \"@\" + division.substring(0, 5) + \".compa.ny\");\n    }\n}\n\npublic void buildAndSendEmail(MailMan m, MailBody body, MailAddress address) {\n    Mail mail = new Mail(address, body);\n    m.send(mail);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311011853-tl7ht2k","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240311011853-tl7ht2k","updated":"20240311011854"},"Children":[{"Type":"NodeText","Data":"方法对象"}]},{"ID":"20240311011853-cqhj3hw","Type":"NodeParagraph","Properties":{"id":"20240311011853-cqhj3hw","updated":"20240311011854"},"Children":[{"Type":"NodeText","Data":"详见[[#提取方法对象]]。使用方法对象更有利于为每个参数设置一个默认值，减少重载函数。"}]},{"ID":"20240311011853-zdsbv84","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240311011853-zdsbv84","updated":"20240311011854"},"Children":[{"Type":"NodeText","Data":"包装类"}]},{"ID":"20240311011853-24gc2tl","Type":"NodeParagraph","Properties":{"id":"20240311011853-24gc2tl","updated":"20240311011854"},"Children":[{"Type":"NodeText","Data":"对于依赖库中存在的复杂接口，可以使用包装类或适配器对其进行隔离。"}]}]}