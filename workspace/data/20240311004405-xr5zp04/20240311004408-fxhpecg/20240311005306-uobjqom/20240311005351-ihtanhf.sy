{"ID":"20240311005351-ihtanhf","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f600","id":"20240311005351-ihtanhf","title":"字符串查找","updated":"20240311005405"},"Children":[{"ID":"20240311005404-v14uslr","Type":"NodeList","ListData":{},"Properties":{"id":"20240311005404-v14uslr","updated":"20240311005404"},"Children":[{"ID":"20240311005404-g542was","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005404-g542was","updated":"20240311005404"},"Children":[{"ID":"20240311005404-13kq28e","Type":"NodeParagraph","Properties":{"id":"20240311005404-13kq28e","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"strchr"},{"Type":"NodeText","Data":"​：类似 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"strstr"},{"Type":"NodeText","Data":"​，但针对字符"}]}]},{"ID":"20240311005404-5o1isge","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005404-5o1isge","updated":"20240311005404"},"Children":[{"ID":"20240311005404-ofdy9d8","Type":"NodeParagraph","Properties":{"id":"20240311005404-ofdy9d8","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"strpbrk"},{"Type":"NodeText","Data":"​：查找字符串 str 中任意一个字符串 group 中的字符的位置；否则返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"NULL"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240311005404-yhs7g4r","Type":"NodeList","ListData":{},"Properties":{"id":"20240311005404-yhs7g4r","updated":"20240311005404"},"Children":[{"ID":"20240311005404-aw92z3k","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005404-aw92z3k","updated":"20240311005404"},"Children":[{"ID":"20240311005404-hrucy5u","Type":"NodeParagraph","Properties":{"id":"20240311005404-hrucy5u","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"char* strpbrk(const char* str, const char* group)"},{"Type":"NodeText","Data":"​"}]}]}]}]}]},{"ID":"20240311005404-wng6ely","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311005404-wng6ely","updated":"20240311005404"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yw=="},{"Type":"NodeCodeBlockCode","Data":"void printCharPosition(const char *str, const char *p) {\n    if (p) printf(\"Pos at %lld\\n\", p - str);\n    else printf(\"Not found\\n\");\n}\n\n// in main function\nconst char *string = \"Hello there, honey\";\nchar *ans = strpbrk(string, \"aeiou\");\nprintCharPosition(string, ans);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311005404-mhw52nm","Type":"NodeList","ListData":{},"Properties":{"id":"20240311005404-mhw52nm","updated":"20240311005404"},"Children":[{"ID":"20240311005404-yfyt5ki","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005404-yfyt5ki","updated":"20240311005404"},"Children":[{"ID":"20240311005404-lmp3jtm","Type":"NodeParagraph","Properties":{"id":"20240311005404-lmp3jtm","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"strspn"},{"Type":"NodeText","Data":"​：查找 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"buffer"},{"Type":"NodeText","Data":"​ 中满足 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"group"},{"Type":"NodeText","Data":"​ 中的字符的前缀长度"}]},{"ID":"20240311005404-rcirmgk","Type":"NodeList","ListData":{},"Properties":{"id":"20240311005404-rcirmgk","updated":"20240311005404"},"Children":[{"ID":"20240311005404-wg26bhx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005404-wg26bhx","updated":"20240311005404"},"Children":[{"ID":"20240311005404-4xesf5s","Type":"NodeParagraph","Properties":{"id":"20240311005404-4xesf5s","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"size_t strspn(const char* buffer, const char* group)"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240311005404-r7x0ut4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005404-r7x0ut4","updated":"20240311005404"},"Children":[{"ID":"20240311005404-45hjte1","Type":"NodeParagraph","Properties":{"id":"20240311005404-45hjte1","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"size_t strcspn(const char* buffer, const char* group)"},{"Type":"NodeText","Data":"​"}]}]}]}]}]},{"ID":"20240311005404-1pp2ofi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311005404-1pp2ofi","updated":"20240311005404"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yw=="},{"Type":"NodeCodeBlockCode","Data":"size_t len1, len2;\nconst char *buffer = \"25,142,330,Smith,J,239-4123\";\n// len(\"25\") = 2\nlen1 = strspn(buffer, \"0123456789\");\n// len(\"25,142,330,\") = 11\nlen2 = strspn(buffer, \",0123456789\");\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311005404-x5qbttq","Type":"NodeList","ListData":{},"Properties":{"id":"20240311005404-x5qbttq","updated":"20240311005404"},"Children":[{"ID":"20240311005404-s2r7w85","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005404-s2r7w85","updated":"20240311005404"},"Children":[{"ID":"20240311005404-ffh0b2c","Type":"NodeParagraph","Properties":{"id":"20240311005404-ffh0b2c","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"strtok"},{"Type":"NodeText","Data":"​：根据字符串 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"sep"},{"Type":"NodeText","Data":"​ 中的任意字符将一个字符串 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"str"},{"Type":"NodeText","Data":"​ 分割为多个字符串（每个子串被称为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"token"},{"Type":"NodeText","Data":"​），并将标记丢弃 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"（会改变字符串本身）"}]},{"ID":"20240311005404-g2cc5bf","Type":"NodeList","ListData":{},"Properties":{"id":"20240311005404-g2cc5bf","updated":"20240311005404"},"Children":[{"ID":"20240311005404-czi7ufc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005404-czi7ufc","updated":"20240311005404"},"Children":[{"ID":"20240311005404-915u2xd","Type":"NodeParagraph","Properties":{"id":"20240311005404-915u2xd","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"char* strtok(char *str, const char* sep)"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240311005404-gq8yne8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005404-gq8yne8","updated":"20240311005404"},"Children":[{"ID":"20240311005404-lh81w19","Type":"NodeParagraph","Properties":{"id":"20240311005404-lh81w19","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"第一个参数 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"str"},{"Type":"NodeText","Data":"​ 可以为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"NULL"},{"Type":"NodeText","Data":"​，默认为上次搜索位置 + 1"}]}]},{"ID":"20240311005404-ydt2jku","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005404-ydt2jku","updated":"20240311005404"},"Children":[{"ID":"20240311005404-wkltles","Type":"NodeParagraph","Properties":{"id":"20240311005404-wkltles","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"类似于其他语言的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"split"},{"Type":"NodeText","Data":"​ 方法，但会修改字符串本身"}]}]}]}]}]},{"ID":"20240311005404-do241i0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311005404-do241i0","updated":"20240311005404"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yw=="},{"Type":"NodeCodeBlockCode","Data":"// 注意不能使用 char str*，否则字符串存在常量区， strtok 无法写入\nchar str[] = \"Hello there, honey\";\nchar *sep = \" ,\";\nsize_t len = strlen(str);\n\nfor (char *token = strtok(str, sep); token; token = strtok(NULL, sep)) {\n    // 输出切分后的字符串\n    printf(\"token: %s\\n\", token);\n    // 输出切分后的原始字符串，使用 | 表示 NUL\n    printf(\"origin: \");\n    for (int i = 0; i \u003c len; ++i) {\n        if (str[i]) {\n            printf(\"%c\", str[i]);\n        } else {\n            printf(\"|\");\n        }\n    }\n    printf(\"\\n\\n\");\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311005404-oecf778","Type":"NodeParagraph","Properties":{"id":"20240311005404-oecf778","updated":"20240311005404"},"Children":[{"Type":"NodeText","Data":"输出结果："}]},{"ID":"20240311005404-zu2hvj6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311005404-zu2hvj6","updated":"20240311005404"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"token: Hello\norigin: Hello|there, honey\n\ntoken: there\norigin: Hello|there| honey\n\ntoken: honey\norigin: Hello|there| honey\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311005405-jqqg8os","Type":"NodeParagraph","Properties":{"id":"20240311005405-jqqg8os"}}]}