{"ID":"20240311011315-n4z8lju","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f600","id":"20240311011315-n4z8lju","title":"信号","updated":"20240311011324"},"Children":[{"ID":"20240311011324-lsl9xf4","Type":"NodeParagraph","Properties":{"id":"20240311011324-lsl9xf4","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"程序中大多数事件都是程序本身产生的，例如各种语句和输入输出等。还有一些特殊事件由系统或其他程序产生，如中断程序等。"}]},{"ID":"20240311011324-17dwv9v","Type":"NodeParagraph","Properties":{"id":"20240311011324-17dwv9v","updated":"20240311011324"},"Children":[{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"信号（signal）"},{"Type":"NodeText","Data":" 表示一种事件，可能异步发生，有点类似中断。当遇到某个事件后，程序需要做出反应，或执行默认行为。"}]},{"ID":"20240311011324-wo9h4cs","Type":"NodeParagraph","Properties":{"id":"20240311011324-wo9h4cs","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"标准没有规定信号的缺省行为，但通常为终止程序。"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"signal.h"},{"Type":"NodeText","Data":"​ 头文件记录了标准定义的信号和处理方法。"}]},{"ID":"20240311011324-n4hxge5","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"|","id":"20240311011324-n4hxge5","updated":"20240311011324"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"信号"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SIGABRT"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"程序请求异常终止，常由 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"abort"},{"Type":"NodeText","Data":"​ 函数引发"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SIGFPE"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"算术错误，常见有算术上溢、下溢，除零错误"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SIGILL"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"非法指令，可能由于不正确的编译器设置（CPU指令集设置错误）或程序执行流错误（使用未初始化的函数指针调用函数）"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SIGSEGV"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"内存非法访问，如访问非法地址或违反内存对齐的边界要求"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SIGINT"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"异步，收到交互性注意信号，常因为用户试图中断程序"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SIGTERM"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"异步，收到终止程序请求，通常不配备信号处理函数"}]}]}]},{"ID":"20240311011324-oj82bhz","Type":"NodeList","ListData":{},"Properties":{"id":"20240311011324-oj82bhz","updated":"20240311011324"},"Children":[{"ID":"20240311011324-h54sjye","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011324-h54sjye","updated":"20240311011324"},"Children":[{"ID":"20240311011324-k1h79hx","Type":"NodeParagraph","Properties":{"id":"20240311011324-k1h79hx","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int raise(int sig)"},{"Type":"NodeText","Data":"​：引发一个信号"}]}]},{"ID":"20240311011324-5g2ph77","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011324-5g2ph77","updated":"20240311011324"},"Children":[{"ID":"20240311011324-eo5hcgk","Type":"NodeParagraph","Properties":{"id":"20240311011324-eo5hcgk","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"void (*signal(int sig, void(*handler)(int) ) )(int)"},{"Type":"NodeText","Data":"​：指定信号处理函数"}]},{"ID":"20240311011324-tlyo80t","Type":"NodeList","ListData":{},"Properties":{"id":"20240311011324-tlyo80t","updated":"20240311011324"},"Children":[{"ID":"20240311011324-lucg0ow","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011324-lucg0ow","updated":"20240311011324"},"Children":[{"ID":"20240311011324-po56o2d","Type":"NodeParagraph","Properties":{"id":"20240311011324-po56o2d","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"sig"},{"Type":"NodeText","Data":"​：被处理信号"}]}]},{"ID":"20240311011324-8pqrb37","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011324-8pqrb37","updated":"20240311011324"},"Children":[{"ID":"20240311011324-jfbi8ut","Type":"NodeParagraph","Properties":{"id":"20240311011324-jfbi8ut","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"handler"},{"Type":"NodeText","Data":"​：信号处理函数指针"}]}]},{"ID":"20240311011324-dkqzbov","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011324-dkqzbov","updated":"20240311011324"},"Children":[{"ID":"20240311011324-s8zgbnm","Type":"NodeParagraph","Properties":{"id":"20240311011324-s8zgbnm","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SIG_DFL"},{"Type":"NodeText","Data":"​：可作为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"handler"},{"Type":"NodeText","Data":"​ 传入，表示默认函数"}]}]},{"ID":"20240311011324-tcg077t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011324-tcg077t","updated":"20240311011324"},"Children":[{"ID":"20240311011324-k4hc1uo","Type":"NodeParagraph","Properties":{"id":"20240311011324-k4hc1uo","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SIG_IGN"},{"Type":"NodeText","Data":"​：可作为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"handler"},{"Type":"NodeText","Data":"​ 传入，表示忽略信号"}]}]}]}]}]},{"ID":"20240311011324-sdd6l6k","Type":"NodeParagraph","Properties":{"id":"20240311011324-sdd6l6k","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"信号处理函数相对于普通函数，存在一些限制："}]},{"ID":"20240311011324-hx4ek4o","Type":"NodeList","ListData":{},"Properties":{"id":"20240311011324-hx4ek4o","updated":"20240311011324"},"Children":[{"ID":"20240311011324-epxwmxg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011324-epxwmxg","updated":"20240311011324"},"Children":[{"ID":"20240311011324-1c9uadk","Type":"NodeParagraph","Properties":{"id":"20240311011324-1c9uadk","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"所有异步信号的处理函数不能用除 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"signal.h"},{"Type":"NodeText","Data":"​ 外的任何库函数"}]}]},{"ID":"20240311011324-uuwqeqj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011324-uuwqeqj","updated":"20240311011324"},"Children":[{"ID":"20240311011324-brbgjst","Type":"NodeParagraph","Properties":{"id":"20240311011324-brbgjst","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"无法访问除 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"volatile sig_atomic_t"},{"Type":"NodeText","Data":"​ 外的其他静态变量"}]}]},{"ID":"20240311011324-2vimpnq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311011324-2vimpnq","updated":"20240311011324"},"Children":[{"ID":"20240311011324-es9mr2w","Type":"NodeParagraph","Properties":{"id":"20240311011324-es9mr2w","updated":"20240311011324"},"Children":[{"Type":"NodeText","Data":"除 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SIGFPE"},{"Type":"NodeText","Data":"​ 外，处理函数返回后从信号发生点恢复执行"}]}]}]}]}