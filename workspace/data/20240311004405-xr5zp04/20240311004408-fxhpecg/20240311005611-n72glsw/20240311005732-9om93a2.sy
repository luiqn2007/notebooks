{"ID":"20240311005732-9om93a2","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f600","id":"20240311005732-9om93a2","title":"位段","updated":"20240311010034"},"Children":[{"ID":"20240311005740-x7qlc6j","Type":"NodeParagraph","Properties":{"id":"20240311005740-x7qlc6j","updated":"20240311005740"},"Children":[{"Type":"NodeText","Data":"位段 bit field 的声明类似结构体，区别在于："}]},{"ID":"20240311005740-fbwfoo0","Type":"NodeList","ListData":{},"Properties":{"id":"20240311005740-fbwfoo0","updated":"20240311005740"},"Children":[{"ID":"20240311005740-szcgxaz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005740-szcgxaz","updated":"20240311005740"},"Children":[{"ID":"20240311005740-edtltwn","Type":"NodeParagraph","Properties":{"id":"20240311005740-edtltwn","updated":"20240311005740"},"Children":[{"Type":"NodeText","Data":"成员类型必须是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"signed int"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"unsigned int"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240311005740-99znkgd","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005740-99znkgd","updated":"20240311005740"},"Children":[{"ID":"20240311005740-pcvmsza","Type":"NodeParagraph","Properties":{"id":"20240311005740-pcvmsza","updated":"20240311005740"},"Children":[{"Type":"NodeText","Data":"成员名后加一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":":"},{"Type":"NodeText","Data":"​ 后一个整数，表示该整形占用的位数"}]}]}]},{"ID":"20240311005740-xdw6kcc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311005740-xdw6kcc","updated":"20240311005740"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yw=="},{"Type":"NodeCodeBlockCode","Data":"struct CHAR {\n    unsigned ch: 7;\n    unsigned font: 6;\n    unsigned size: 19;\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311005740-xi6avr5","Type":"NodeParagraph","Properties":{"id":"20240311005740-xi6avr5","updated":"20240311005740"},"Children":[{"Type":"NodeText","Data":"位段保存于一个或多个整形之中。其优点有："}]},{"ID":"20240311005740-7qxjy70","Type":"NodeList","ListData":{},"Properties":{"id":"20240311005740-7qxjy70","updated":"20240311005740"},"Children":[{"ID":"20240311005740-3ivvygh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005740-3ivvygh","updated":"20240311005740"},"Children":[{"ID":"20240311005740-z69vylf","Type":"NodeParagraph","Properties":{"id":"20240311005740-z69vylf","updated":"20240311005740"},"Children":[{"Type":"NodeText","Data":"允许将长度为奇数的数据包装在一起，节省内存空间"}]}]},{"ID":"20240311005740-lp9je7d","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005740-lp9je7d","updated":"20240311005740"},"Children":[{"ID":"20240311005740-qod64xz","Type":"NodeParagraph","Properties":{"id":"20240311005740-qod64xz","updated":"20240311005740"},"Children":[{"Type":"NodeText","Data":"方便访问一个整形的部分内容，多用于硬件编程中，如某磁盘控制器的寄存器定义如下："}]}]}]},{"ID":"20240311010034-og78572","Type":"NodeParagraph","Properties":{"id":"20240311010034-og78572","updated":"20240311010034"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20240122150939"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20240122150939-20240311010034-od8xh11.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240311005740-dpclfuu","Type":"NodeParagraph","Properties":{"id":"20240311005740-dpclfuu","updated":"20240311005740"},"Children":[{"Type":"NodeText","Data":"转换为 C 结构体可以为（注意内存从右向左读）："}]},{"ID":"20240311005740-z6d0fde","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311005740-z6d0fde","updated":"20240311005740"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yw=="},{"Type":"NodeCodeBlockCode","Data":"struct DISK_REGISTER_FORMAT {\n    unsigned command        : 5;\n    unsigned sector         : 5;\n    unsigned track          : 9;\n    unsigned error_code     : 8;\n    unsigned head_loaded    : 1;\n    unsigned write_protect  : 1;\n    unsigned disk_spinning  : 1;\n    unsigned error_occurred : 1;\n    unsigned ready          : 1;\n};\n\n// 设 0xc0200142 为硬件寄存器地址\n#define DISK_REGISTER ((DISK_REGISTER_FORMAT*) 0xc0200142)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311005900-d2yfwwg","Type":"NodeSuperBlock","Properties":{"id":"20240311005900-d2yfwwg","updated":"20240311005903"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240311005746-sn4ywld","Type":"NodeParagraph","Properties":{"id":"20240311005746-sn4ywld","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240311005903"},"Children":[{"Type":"NodeText","Data":"位段具有一定的不可移植性。根据平台不同，以下行为可能不同"}]},{"ID":"20240311005740-pzds79c","Type":"NodeList","ListData":{},"Properties":{"id":"20240311005740-pzds79c","updated":"20240311005901"},"Children":[{"ID":"20240311005740-i5q3qto","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005740-i5q3qto","updated":"20240311005812"},"Children":[{"ID":"20240311005740-gic5ing","Type":"NodeParagraph","Properties":{"id":"20240311005740-gic5ing","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240311005812"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 是否有符号，因此最好显式指定 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"signed"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 与 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"unsigned"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240311005740-70sli4c","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005740-70sli4c","updated":"20240311005816"},"Children":[{"ID":"20240311005740-j76dyq4","Type":"NodeParagraph","Properties":{"id":"20240311005740-j76dyq4","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240311005816"},"Children":[{"Type":"NodeText","Data":"位段的最大长度。有的环境限制位段长度为一个整形值"}]}]},{"ID":"20240311005740-hbz14cm","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005740-hbz14cm","updated":"20240311005818"},"Children":[{"ID":"20240311005740-9cmhy1a","Type":"NodeParagraph","Properties":{"id":"20240311005740-9cmhy1a","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240311005818"},"Children":[{"Type":"NodeText","Data":"位段成员自左向右还是自右向左分配"}]}]},{"ID":"20240311005740-nk4z337","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311005740-nk4z337","updated":"20240311005846"},"Children":[{"ID":"20240311005740-jzzm9h8","Type":"NodeParagraph","Properties":{"id":"20240311005740-jzzm9h8","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240311005846"},"Children":[{"Type":"NodeText","Data":"某成员值溢出时的行为"}]}]}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240311005740-2d7hjqi","Type":"NodeParagraph","Properties":{"id":"20240311005740-2d7hjqi","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240311005913"},"Children":[{"Type":"NodeText","Data":"位段仅为方便使用。任何使用位段实现的功能都可以通过位运算和位移实现。"}]},{"ID":"20240311005914-rcv29cy","Type":"NodeParagraph","Properties":{"id":"20240311005914-rcv29cy"}}]}