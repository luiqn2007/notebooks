{"ID":"20240311010102-nmc3ds1","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f600","id":"20240311010102-nmc3ds1","title":"高级声明","updated":"20240311010108"},"Children":[{"ID":"20240311010108-4dy9gwm","Type":"NodeParagraph","Properties":{"id":"20240311010108-4dy9gwm","updated":"20240311010108"},"Children":[{"Type":"NodeText","Data":"此部分主要解释如何读一个带有指针的变量的类型（或者翻译成高阶声明更贴切一点？）："}]},{"ID":"20240311010108-n43448e","Type":"NodeParagraph","Properties":{"id":"20240311010108-n43448e","updated":"20240311010108"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int f"},{"Type":"NodeText","Data":"​：整形\n​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int *f"},{"Type":"NodeText","Data":"​：整形指针\n​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int f()"},{"Type":"NodeText","Data":"​：函数，返回整形"}]},{"ID":"20240311010108-9ykf4lr","Type":"NodeParagraph","Properties":{"id":"20240311010108-9ykf4lr","updated":"20240311010108"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int *f()"},{"Type":"NodeText","Data":"​：根据运算符优先级，优先执行函数调用操作符 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"()"},{"Type":"NodeText","Data":"​，然后解引用得到一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​，因此 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"f"},{"Type":"NodeText","Data":"​ 是一个函数，函数返回类型为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 指针\n​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int (*f)()"},{"Type":"NodeText","Data":"​：第一对括号为聚组使用，优先级更高。运算时先解引用后进行函数调用，因此 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"f"},{"Type":"NodeText","Data":"​ 是一个函数的指针，函数返回类型为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​\n​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int *(*f)()"},{"Type":"NodeText","Data":"​：运算时先解引用，然后进行函数调用，最后再解引用产生一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​，因此 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"f"},{"Type":"NodeText","Data":"​ 是一个函数的指针，函数返回类型为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 指针\n​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int *f[]"},{"Type":"NodeText","Data":"​：下标访问的优先级高于解引用，运算顺序为先进行下标调用，然后解引用得到一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​，因此 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"f"},{"Type":"NodeText","Data":"​ 的类型为一个数组，数组元素为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 指针"}]},{"ID":"20240311010108-45s3ij3","Type":"NodeParagraph","Properties":{"id":"20240311010108-45s3ij3","updated":"20240311010108"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int f()[]"},{"Type":"NodeText","Data":"​：先执行函数调用，然后进行下标访问，返回一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​，因此 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"f"},{"Type":"NodeText","Data":"​ 的类型为一个函数，函数返回值为一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 数组。但由于函数返回值类型不能是数组，因此该类型非法\n​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int f[]()"},{"Type":"NodeText","Data":"​：先执行下标访问，然后进行函数调用，返回一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​，因此 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"f"},{"Type":"NodeText","Data":"​ 的类型为一个返回值为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 的函数数组。但由于函数长度不定，因此该类型非法\n​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int (*f[])()"},{"Type":"NodeText","Data":"​：先执行下标访问，然后解引用，最后进行函数调用后返回一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​，因此 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"f"},{"Type":"NodeText","Data":"​ 类型是一个数组，数组类型为函数指针，函数返回值为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"}]}]}