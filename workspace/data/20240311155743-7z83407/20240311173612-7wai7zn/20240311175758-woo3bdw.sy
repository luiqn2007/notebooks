{"ID":"20240311175758-woo3bdw","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240311175758-woo3bdw","title":"例：Echo 服务器","updated":"20240311180250"},"Children":[{"ID":"20240311175758-93q1b0r","Type":"NodeParagraph","Properties":{"id":"20240311175758-93q1b0r","updated":"20240311175921"},"Children":[{"Type":"NodeText","Data":"应答服务器，接收数据并原样返回。比起 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240311173739-mbiod90","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Discard"},{"Type":"NodeText","Data":"​ 抛弃服务多了一步返回数据，所以只需要将 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"DiscardServerHandler"},{"Type":"NodeText","Data":"​ 改动一下即可。这里将其名称重命名为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"EchoServerHandler"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240311180152-zlbi2jq","Type":"NodeSuperBlock","Properties":{"id":"20240311180152-zlbi2jq","updated":"20240311180144"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240311175929-tpcyxla","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311175929-tpcyxla","style":"width: 67%; flex: 0 0 auto;","updated":"20240311175929"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"class EchoServerHandler extends ChannelInboundHandlerAdapter {\n\n    @Override\n    public void channelRead(ChannelHandlerContext ctx, Object msg) {\n        ctx.write(msg);\n        ctx.flush();\n    }\n\n    @Override\n    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\n        cause.printStackTrace();\n        ctx.close();\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311180144-jizpg33","Type":"NodeBlockQueryEmbed","Properties":{"id":"20240311180144-jizpg33","style":"width: 30%; flex: 0 0 auto;","updated":"20240311180144"},"Children":[{"Type":"NodeOpenBrace"},{"Type":"NodeOpenBrace"},{"Type":"NodeBlockQueryEmbedScript","Data":"select * from blocks where id='20240311173832-6w9urkq'"},{"Type":"NodeCloseBrace"},{"Type":"NodeCloseBrace"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240311175929-kh5xbgd","Type":"NodeParagraph","Properties":{"id":"20240311175929-kh5xbgd","updated":"20240311175929"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ChannelHandlerContext"},{"Type":"NodeText","Data":"​ 类提供了大量与流相关的操作，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"write"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"flush"},{"Type":"NodeText","Data":"​ 分别表示写入缓冲区、提交缓冲区。当然也可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"writeAndFlush"},{"Type":"NodeText","Data":"​ 一步到位"}]},{"ID":"20240311180250-xtfxz1t","Type":"NodeParagraph","Properties":{"id":"20240311180250-xtfxz1t"}}]}