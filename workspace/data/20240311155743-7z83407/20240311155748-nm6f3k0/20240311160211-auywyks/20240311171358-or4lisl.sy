{"ID":"20240311171358-or4lisl","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240311171358-or4lisl","title":"基于工厂方法","updated":"20240312162945"},"Children":[{"ID":"20240311171406-ofra0a8","Type":"NodeParagraph","Properties":{"id":"20240311171406-ofra0a8","updated":"20240311173408"},"Children":[{"Type":"NodeText","Data":"Spring "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240311160211-auywyks","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"IoC 容器"},{"Type":"NodeText","Data":"允许通过工厂方法创建 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240311171406-ysgsgwh","Type":"NodeParagraph","Properties":{"id":"20240311171406-ysgsgwh","updated":"20240311171406"},"Children":[{"Type":"NodeText","Data":"设我们有工厂类："}]},{"ID":"20240311171406-zajowwe","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311171406-zajowwe","updated":"20240312162945"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"CustomDateEditorpublic class FixedDepositDaoFactory {\n    public FixedDepositDao getFixedDepositDao(String type) {\n        return switch (type.toLowerCase(Locale.ROOT)) {\n            case \"jdbc\" -\u003e new FixedDepositJdbcDao();\n            case \"hibernate\" -\u003e new FixedDepositHibernateDao();\n            case \"ibatis\" -\u003e new FixedDepositIbatisDao();\n            default -\u003e new FixedDepositDao();\n        };\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311171406-lz1s4t2","Type":"NodeParagraph","Properties":{"id":"20240311171406-lz1s4t2","updated":"20240311171406"},"Children":[{"Type":"NodeText","Data":"然后在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 中创建对应 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"factory"},{"Type":"NodeText","Data":"​ 以及对应参数："}]},{"ID":"20240311171406-0ymkeed","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311171406-0ymkeed","updated":"20240311171406"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s"},{"Type":"NodeCodeBlockCode","Data":"\u003cbean id=\"daoFactory\" class=\"com.example.mybank.dao.FixedDepositDaoFactory\" /\u003e\n\n\u003cbean id=\"databaseInfo\" class=\"com.example.mybank.DatabaseInfo\" /\u003e\n\n\u003c!-- FixedDepositJdbcDao 中存在 setDatabaseInfo 方法 --\u003e\n\u003cbean id=\"dao\" factory-bean=\"daoFactory\" factory-method=\"getFixedDepositDao\"\u003e\n    \u003cconstructor-arg index=\"0\" value=\"jdbc\" /\u003e\n    \u003cproperty name=\"databaseInfo\" ref=\"databaseInfo\" /\u003e\n\u003c/bean\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}