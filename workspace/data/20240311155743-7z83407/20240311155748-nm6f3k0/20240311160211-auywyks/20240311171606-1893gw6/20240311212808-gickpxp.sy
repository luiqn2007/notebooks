{"ID":"20240311212808-gickpxp","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240311212808-gickpxp","title":"注册属性编辑器","updated":"20240312173441"},"Children":[{"ID":"20240312164944-uf7ribr","Type":"NodeParagraph","Properties":{"id":"20240312164944-uf7ribr","updated":"20240312172851"},"Children":[{"Type":"NodeText","Data":"通过向 IoC 容器中注入一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"CustomEditorConfigurer"},{"Type":"NodeText","Data":"​ 变量，并向其中注入一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"PropertyEditorRegistrar"},{"Type":"NodeText","Data":"​ 的实现类实现注入属性编辑器。"}]},{"ID":"20240312172852-m79xmn4","Type":"NodeParagraph","Properties":{"id":"20240312172852-m79xmn4","updated":"20240312172915"},"Children":[{"Type":"NodeText","Data":"首先，创建一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"PropertyEditorRegistrar"},{"Type":"NodeText","Data":"​ 接口的实现类，在其中注册需要的属性编辑器"}]},{"ID":"20240312172916-4yf1gkt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312172916-4yf1gkt","updated":"20240312173105"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public class MyPropertyEditorRegistrar implements PropertyEditorRegistrar {\n\n    @Override\n    public void registerCustomEditors(PropertyEditorRegistry registry) {\n        CustomDateEditor dateEditor = new CustomDateEditor(new SimpleDateFormat(\"dd-MM-yyyy\"), false);\n        registry.registerCustomEditor(Date.class, dateEditor);\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312172926-svla3t2","Type":"NodeParagraph","Properties":{"id":"20240312172926-svla3t2","updated":"20240312173441"},"Children":[{"Type":"NodeText","Data":"之后，在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"xml"},{"Type":"NodeText","Data":"​ 中"},{"Type":"NodeTextMark","TextMarkType":"inline-memo","TextMarkInlineMemoContent":"由于我们不需要在其他地方引用 CustomEditorConfigurer 值，因此省略 id 属性","TextMarkTextContent":"注入"},{"Type":"NodeText","Data":"："}]},{"ID":"20240312172828-ofeb473","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312172828-ofeb473","updated":"20240312173312"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s"},{"Type":"NodeCodeBlockCode","Data":"\u003cbean id=\"myPropertyEditorRegistrar\" class=\"com.example.mybank.chapter03.beans.MyPropertyEditorRegistrar\"/\u003e\n\u003cbean class=\"org.springframework.beans.factory.config.CustomEditorConfigurer\"\u003e\n    \u003cproperty name=\"propertyEditorRegistrars\" ref=\"myPropertyEditorRegistrar\" /\u003e\n\u003c/bean\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312172835-qcqh9ue","Type":"NodeParagraph","Properties":{"id":"20240312172835-qcqh9ue"}}]}