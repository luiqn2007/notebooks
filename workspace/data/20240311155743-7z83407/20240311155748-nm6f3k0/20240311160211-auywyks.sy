{"ID":"20240311160211-auywyks","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240311160211-auywyks","title":"IoC 容器","updated":"20240311173300"},"Children":[{"ID":"20240311160221-uf4qlvi","Type":"NodeParagraph","Properties":{"id":"20240311160221-uf4qlvi","updated":"20240311171344"},"Children":[{"Type":"NodeText","Data":"IoC 容器的配置可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"xml"},{"Type":"NodeText","Data":"​​ 或者注解完成。这里以 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"xml"},{"Type":"NodeText","Data":"​​ 的配置为例："}]},{"ID":"20240311160221-pbb3zcr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311160221-pbb3zcr","updated":"20240311160221"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s"},{"Type":"NodeCodeBlockCode","Data":"\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003cbeans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"\u003e\n\n    \u003cbean id=\"fdController\" class=\"com.example.mybank.FixedDepositController\"\u003e\n        \u003cconstructor-arg ref=\"fdServer\" /\u003e\n    \u003c/bean\u003e\n\n    \u003cbean id=\"fdServer\" class=\"com.example.mybank.FixedDepositService\" /\u003e\n\u003c/beans\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311160221-5kbwjsp","Type":"NodeParagraph","Properties":{"id":"20240311160221-5kbwjsp","updated":"20240311160221"},"Children":[{"Type":"NodeText","Data":"Spring 使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;beans\u0026gt;"},{"Type":"NodeText","Data":"​ 为根标签，每个由 IoC 创建的对象都由 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;bean\u0026gt;"},{"Type":"NodeText","Data":"​ 标签配置。"}]},{"ID":"20240311160221-luvwt0o","Type":"NodeList","ListData":{},"Properties":{"id":"20240311160221-luvwt0o","updated":"20240311160221"},"Children":[{"ID":"20240311160221-8pefaro","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311160221-8pefaro","updated":"20240311160221"},"Children":[{"ID":"20240311160221-zi0jw3j","Type":"NodeParagraph","Properties":{"id":"20240311160221-zi0jw3j","updated":"20240311160221"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"id"},{"Type":"NodeText","Data":"​ 属性为该对象的唯一名称，后面其他对象使用、Java 代码里都是用该属性获取"}]}]},{"ID":"20240311160221-xcme91q","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240311160221-xcme91q","updated":"20240311160221"},"Children":[{"ID":"20240311160221-2onvzok","Type":"NodeParagraph","Properties":{"id":"20240311160221-2onvzok","updated":"20240311160221"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":"​ 属性为对象实际类型"}]}]}]},{"ID":"20240311160221-juaz7qu","Type":"NodeParagraph","Properties":{"id":"20240311160221-juaz7qu","updated":"20240311173300"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;bean\u0026gt;"},{"Type":"NodeText","Data":"​​ 标签下，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;constructor-arg\u0026gt;"},{"Type":"NodeText","Data":"​​ 子标签选择构造函数参数（使用"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240311171456-05u9j8i","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"构造函数注入"},{"Type":"NodeText","Data":"），使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;property\u0026gt;"},{"Type":"NodeText","Data":"​​ 子标签选择 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setter"},{"Type":"NodeText","Data":"​​ 注入对象（使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setXxx"},{"Type":"NodeText","Data":"​​ 类型的函数）。"}]},{"ID":"20240311160221-n9a4l98","Type":"NodeParagraph","Properties":{"id":"20240311160221-n9a4l98","updated":"20240311160221"},"Children":[{"Type":"NodeText","Data":"根据注入的 xml 文件可以推断出，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FixedDepositService"},{"Type":"NodeText","Data":"​ 有一个无参构造，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FixedDepositController"},{"Type":"NodeText","Data":"​ 有一个带有一个参数的构造函数，该参数类型为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FixedDepositService"},{"Type":"NodeText","Data":"​。上面代码如果写成 Java，大概相当于："}]},{"ID":"20240311160221-3i7m2b8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311160221-3i7m2b8","updated":"20240311160221"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"FixedDepositService fdServer = new FixedDepositService();\nFixedDepositController fdController = new FixedDepositController(fdServer);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311160221-3i4qfif","Type":"NodeParagraph","Properties":{"id":"20240311160221-3i4qfif","updated":"20240311160221"},"Children":[{"Type":"NodeText","Data":"注入到 IoC 容器后，代码中可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ApplicationContext"},{"Type":"NodeText","Data":"​ 获取："}]},{"ID":"20240311160221-skvyjpm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240311160221-skvyjpm","updated":"20240311160221"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// 设 xml 文件在 resources/applicationContext.xml\nApplicationContext context = new ClassPathXmlApplicationContext(\"classpath:applicationContext.xml\");\n// 根据 id 获取对应的对象\nFixedDepositController controller = context.getBean(\"fdController\", FixedDepositController.class);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240311160258-0icu78z","Type":"NodeParagraph","Properties":{"id":"20240311160258-0icu78z"}}]}