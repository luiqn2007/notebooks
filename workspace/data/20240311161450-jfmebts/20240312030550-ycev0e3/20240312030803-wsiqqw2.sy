{"ID":"20240312030803-wsiqqw2","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240312030803-wsiqqw2","title":"转换","updated":"20240312030807"},"Children":[{"ID":"20240312030807-ri9xuju","Type":"NodeParagraph","Properties":{"id":"20240312030807-ri9xuju","updated":"20240312030807"},"Children":[{"Type":"NodeText","Data":"JVM 内置了一套 ASM 类库（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"jdk.internal.org.objectweb.asm"},{"Type":"NodeText","Data":"​ 可用于辅助修改）"}]},{"ID":"20240312030807-ybfcmb3","Type":"NodeParagraph","Properties":{"id":"20240312030807-ybfcmb3","updated":"20240312030807"},"Children":[{"Type":"NodeText","Data":"负责转换的类名为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ClassFileTransformer"},{"Type":"NodeText","Data":"​，应重写 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"transform"},{"Type":"NodeText","Data":"​ 方法，返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​ 表示该类不需要被修改。"}]},{"ID":"20240312030807-t5mh66h","Type":"NodeParagraph","Properties":{"id":"20240312030807-t5mh66h","updated":"20240312030807"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"addTransformer"},{"Type":"NodeText","Data":"​ 表示注册一个转换器（修改器）。"}]},{"ID":"20240312030807-sxejedy","Type":"NodeParagraph","Properties":{"id":"20240312030807-sxejedy","updated":"20240312030807"},"Children":[{"Type":"NodeText","Data":"当使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Load-Time"},{"Type":"NodeText","Data":"​ 模式时，虚拟机加载时的所有类都会经过转换器。而使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Dynamic"},{"Type":"NodeText","Data":"​ 模式时，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"retransformClasses"},{"Type":"NodeText","Data":"​ 可用于标记某个类需要被重新转换，可通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Class.forName"},{"Type":"NodeText","Data":"​ 拿到 class 对象。"}]}]}