{"ID":"20240312025748-nyc9frb","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240312025748-nyc9frb","title":"编译源代码","updated":"20240312030007"},"Children":[{"ID":"20240312025827-0eki95a","Type":"NodeParagraph","Properties":{"id":"20240312025827-0eki95a","updated":"20240312025827"},"Children":[{"Type":"NodeText","Data":"编译源代码的任务使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"JavaCompiler#getTask"},{"Type":"NodeText","Data":"​ 创建，并使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"task.call()"},{"Type":"NodeText","Data":"​ 方法执行。该方法返回一个布尔值，表示是否编译成功。"}]},{"ID":"20240312025827-z3pdfbt","Type":"NodeParagraph","Properties":{"id":"20240312025827-z3pdfbt","updated":"20240312025827"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"JavaCompiler#getTask"},{"Type":"NodeText","Data":"​ 接收方法的参数如下："}]},{"ID":"20240312025830-2je9zv9","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;","id":"20240312025830-2je9zv9","updated":"20240312030007"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"参数"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"out"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"警告、错误信息的输出位置，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​ 表示使用默认 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"System.err"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"fileManager"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"文件管理器，可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"compile.getStandardFileManager"},{"Type":"NodeText","Data":"​ 方法获取"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"diagnostics"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"接收警告、异常等信息的具体内容，可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"DiagnosticCollector"},{"Type":"NodeText","Data":"​ 对象"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"options"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"编译器参数，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​ 表示无参数"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"classes"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"待编译类名，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​ 表示全部源码类"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"compilationUnits"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"前面准备的源文件集合，也是编译单元集合"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"diagnosticListener"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"异常信息（诊断信息）侦听器"}]}]}]},{"ID":"20240312025827-67bxlau","Type":"NodeParagraph","Properties":{"id":"20240312025827-67bxlau","updated":"20240312025827"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"StandardJavaFileManager"},{"Type":"NodeText","Data":"​ 对象是 Java 编译器的一部分，它提供了文件管理器的标准实现，可以通过他获取编译结果。通常使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"compile.getStandardFileManager"},{"Type":"NodeText","Data":"​ 方法获取，各个参数都可以为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​，表示使用默认值。"}]},{"ID":"20240312025827-84j9wt0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312025827-84j9wt0","updated":"20240312025827"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\nStandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);\nDiagnosticCollector\u003cJavaFileObject\u003e diagnostics = new DiagnosticCollector\u003c\u003e();\nJavaCompiler.CompilationTask task = compiler.getTask(null, fileManager, diagnostics, null, null, compilationUnits);\nBoolean compileSucceed = task.call();\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}