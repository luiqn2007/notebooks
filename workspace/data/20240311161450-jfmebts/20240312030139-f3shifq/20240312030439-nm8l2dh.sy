{"ID":"20240312030439-nm8l2dh","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240312030439-nm8l2dh","title":"打破封装","updated":"20240312030448"},"Children":[{"ID":"20240312030448-5p4sy37","Type":"NodeParagraph","Properties":{"id":"20240312030448-5p4sy37","updated":"20240312030448"},"Children":[{"Type":"NodeText","Data":"仅在必要情况下使用："}]},{"ID":"20240312030448-vllyviz","Type":"NodeList","ListData":{},"Properties":{"id":"20240312030448-vllyviz","updated":"20240312030448"},"Children":[{"ID":"20240312030448-udp9iao","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240312030448-udp9iao","updated":"20240312030448"},"Children":[{"ID":"20240312030448-suurx4a","Type":"NodeParagraph","Properties":{"id":"20240312030448-suurx4a","updated":"20240312030448"},"Children":[{"Type":"NodeText","Data":"启用白盒测试或使用不受支持的 JDK 内部 API"}]}]},{"ID":"20240312030448-n9k7x60","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240312030448-n9k7x60","updated":"20240312030448"},"Children":[{"ID":"20240312030448-6rbl9f2","Type":"NodeParagraph","Properties":{"id":"20240312030448-6rbl9f2","updated":"20240312030448"},"Children":[{"Type":"NodeText","Data":"向后兼容，应用程序依赖于之前公开但现在封装到 JDK 内部 API 中的 API"}]}]}]},{"ID":"20240312030448-bbjf4jl","Type":"NodeParagraph","Properties":{"id":"20240312030448-bbjf4jl","updated":"20240312030448"},"Children":[{"Type":"NodeText","Data":"可以通过运行时附加特殊的命令行，或者在 MANIFEST 中声明特殊部分来打破封装，其对应关系如下"}]},{"ID":"20240312030448-tt680y3","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"||","id":"20240312030448-tt680y3","updated":"20240312030448"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"Moule 关键字"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"命令行选项"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"Manifest 属性"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"exports"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"--add-exports"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"Add-Exports"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"opens"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"--add-opens"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"Add-Opens"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"requires"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"--add-reads"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"无"}]}]}]},{"ID":"20240312030448-xl9n6kb","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240312030448-xl9n6kb","updated":"20240312030448"},"Children":[{"Type":"NodeText","Data":"exports"}]},{"ID":"20240312030448-b7xzndl","Type":"NodeParagraph","Properties":{"id":"20240312030448-b7xzndl","updated":"20240312030450"},"Children":[{"Type":"NodeText","Data":"通过 --add-exports 可以将特定模块中的包暴露给所有模块或指定模块"}]},{"ID":"20240312030448-1eku0bu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312030448-1eku0bu","updated":"20240312030450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"java ... --add-exports \u003csource-module\u003e/\u003cpackage\u003e=\u003ctarget-module1\u003e,\u003ctarget-module2\u003e,...\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312030448-76wqcb6","Type":"NodeParagraph","Properties":{"id":"20240312030448-76wqcb6","updated":"20240312030450"},"Children":[{"Type":"NodeText","Data":"如"}]},{"ID":"20240312030448-4zsjk4h","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312030448-4zsjk4h","updated":"20240312030450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"--add-exports java.base/sun.util.logging=test.module1,test.module2\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312030448-aw48fyc","Type":"NodeParagraph","Properties":{"id":"20240312030448-aw48fyc","updated":"20240312030450"},"Children":[{"Type":"NodeText","Data":"等效于"}]},{"ID":"20240312030448-86iacmz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312030448-86iacmz","updated":"20240312030450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"module java.base {\n    exports sun.util.logging to test.module, test.module2;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312030448-e1eza1w","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312030448-e1eza1w","updated":"20240312030450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// MANIFEST\n// Add-Exports: \u003csource-module1\u003e/\u003ctarget-module1\u003e \u003csource-module2\u003e/\u003ctarget-module2\u003e ...\nAdd-Exports: java.base/sun.util.logging\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312030448-u2oinj4","Type":"NodeParagraph","Properties":{"id":"20240312030448-u2oinj4","updated":"20240312030450"},"Children":[{"Type":"NodeText","Data":"可使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ALL-UNNAMED"},{"Type":"NodeText","Data":"​ 表示所有未命名模块"}]},{"ID":"20240312030448-23skiay","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240312030448-23skiay","updated":"20240312030448"},"Children":[{"Type":"NodeText","Data":"opens"}]},{"ID":"20240312030448-wwa0b8q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312030448-wwa0b8q","updated":"20240312030450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"--add-opens \u003csource-module\u003e/\u003cpackage\u003e=\u003ctarget-module1\u003e,\u003ctarget-module2\u003e,...\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312030448-9rtzjdj","Type":"NodeParagraph","Properties":{"id":"20240312030448-9rtzjdj","updated":"20240312030450"},"Children":[{"Type":"NodeText","Data":"等效于"}]},{"ID":"20240312030448-z7enjvf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312030448-z7enjvf","updated":"20240312030450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"module \u003csource-module\u003e {\n    opens \u003cpackage\u003e to \u003ctarget-module1\u003e, \u003ctarget-module2\u003e, ...;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312030448-ewq8hma","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312030448-ewq8hma","updated":"20240312030450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// MANIFEST\nAdd-Opens: \u003csource-module1\u003e/\u003ctarget-module1\u003e \u003csource-module2\u003e/\u003ctarget-module2\u003e ...\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312030448-dzd5hd7","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240312030448-dzd5hd7","updated":"20240312030448"},"Children":[{"Type":"NodeText","Data":"requires"}]},{"ID":"20240312030448-ewgyns3","Type":"NodeParagraph","Properties":{"id":"20240312030448-ewgyns3","updated":"20240312030450"},"Children":[{"Type":"NodeText","Data":"不用于打破封装，但可用于调试时增强可读性"}]},{"ID":"20240312030448-xr1gpo8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312030448-xr1gpo8","updated":"20240312030450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"--add-reads \u003csource-module\u003e=\u003ctarget-module1\u003e,\u003ctarget-module2\u003e,...\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312030448-f9d8s07","Type":"NodeParagraph","Properties":{"id":"20240312030448-f9d8s07","updated":"20240312030450"},"Children":[{"Type":"NodeText","Data":"等效于"}]},{"ID":"20240312030448-a519jof","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240312030448-a519jof","updated":"20240312030450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"module \u003csource-module\u003e {\n    requires \u003ctarget-module1\u003e;\n    requires \u003ctarget-module2\u003e;\n    ...\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240312030448-g2me5xf","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240312030448-g2me5xf","updated":"20240312030448"},"Children":[{"Type":"NodeText","Data":"permission-illegal-access"}]},{"ID":"20240312030448-8b130l6","Type":"NodeParagraph","Properties":{"id":"20240312030448-8b130l6","updated":"20240312030450"},"Children":[{"Type":"NodeText","Data":"允许任何未命名模块中的代码反射访问任何命名模块的成员，在 Java 10 中移除"}]}]}