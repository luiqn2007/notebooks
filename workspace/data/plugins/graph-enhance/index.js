/*!
 * MIT License
 *
 * Copyright (c) 2023 SiYuan 思源笔记
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */(()=>{var Z_={815:(re,le,N)=>{re.exports={graphlib:N(105),layout:N(528),debug:N(435),util:{time:N(493).time,notime:N(493).notime},version:N(23)}},720:(re,le,N)=>{"use strict";let q=N(674),H=N(493).uniqueId;re.exports={run:R,undo:O};function R(A){(A.graph().acyclicer==="greedy"?q(A,P(A)):V(A)).forEach(C=>{let D=A.edge(C);A.removeEdge(C),D.forwardName=C.name,D.reversed=!0,A.setEdge(C.w,C.v,D,H("rev"))});function P(C){return D=>C.edge(D).weight}}function V(A){let E=[],P={},C={};function D(z){C.hasOwnProperty(z)||(C[z]=!0,P[z]=!0,A.outEdges(z).forEach(F=>{P.hasOwnProperty(F.w)?E.push(F):D(F.w)}),delete P[z])}return A.nodes().forEach(D),E}function O(A){A.edges().forEach(E=>{let P=A.edge(E);if(P.reversed){A.removeEdge(E);let C=P.forwardName;delete P.reversed,delete P.forwardName,A.setEdge(E.w,E.v,P,C)}})}},192:(re,le,N)=>{let q=N(493);re.exports=H;function H(V){function O(A){let E=V.children(A),P=V.node(A);if(E.length&&E.forEach(O),P.hasOwnProperty("minRank")){P.borderLeft=[],P.borderRight=[];for(let C=P.minRank,D=P.maxRank+1;C<D;++C)R(V,"borderLeft","_bl",A,P,C),R(V,"borderRight","_br",A,P,C)}}V.children().forEach(O)}function R(V,O,A,E,P,C){let D={width:0,height:0,rank:C,borderType:O},z=P[O][C-1],F=q.addDummyNode(V,"border",D,A);P[O][C]=F,V.setParent(F,E),z&&V.setEdge(z,F,{weight:1})}},484:re=>{"use strict";re.exports={adjust:le,undo:N};function le(E){let P=E.graph().rankdir.toLowerCase();(P==="lr"||P==="rl")&&q(E)}function N(E){let P=E.graph().rankdir.toLowerCase();(P==="bt"||P==="rl")&&R(E),(P==="lr"||P==="rl")&&(O(E),q(E))}function q(E){E.nodes().forEach(P=>H(E.node(P))),E.edges().forEach(P=>H(E.edge(P)))}function H(E){let P=E.width;E.width=E.height,E.height=P}function R(E){E.nodes().forEach(P=>V(E.node(P))),E.edges().forEach(P=>{let C=E.edge(P);C.points.forEach(V),C.hasOwnProperty("y")&&V(C)})}function V(E){E.y=-E.y}function O(E){E.nodes().forEach(P=>A(E.node(P))),E.edges().forEach(P=>{let C=E.edge(P);C.points.forEach(A),C.hasOwnProperty("x")&&A(C)})}function A(E){let P=E.x;E.x=E.y,E.y=P}},70:re=>{class le{constructor(){let R={};R._next=R._prev=R,this._sentinel=R}dequeue(){let R=this._sentinel,V=R._prev;if(V!==R)return N(V),V}enqueue(R){let V=this._sentinel;R._prev&&R._next&&N(R),R._next=V._next,V._next._prev=R,V._next=R,R._prev=V}toString(){let R=[],V=this._sentinel,O=V._prev;for(;O!==V;)R.push(JSON.stringify(O,q)),O=O._prev;return"["+R.join(", ")+"]"}}function N(H){H._prev._next=H._next,H._next._prev=H._prev,delete H._next,delete H._prev}function q(H,R){if(H!=="_next"&&H!=="_prev")return R}re.exports=le},435:(re,le,N)=>{let q=N(493),H=N(105).Graph;re.exports={debugOrdering:R};function R(V){let O=q.buildLayerMatrix(V),A=new H({compound:!0,multigraph:!0}).setGraph({});return V.nodes().forEach(E=>{A.setNode(E,{label:E}),A.setParent(E,"layer"+V.node(E).rank)}),V.edges().forEach(E=>A.setEdge(E.v,E.w,{},E.name)),O.forEach((E,P)=>{let C="layer"+P;A.setNode(C,{rank:"same"}),E.reduce((D,z)=>(A.setEdge(D,z,{style:"invis"}),z))}),A}},674:(re,le,N)=>{let q=N(105).Graph,H=N(70);re.exports=V;let R=()=>1;function V(D,z){if(D.nodeCount()<=1)return[];let F=E(D,z||R);return O(F.graph,F.buckets,F.zeroIdx).flatMap(oe=>D.outEdges(oe.v,oe.w))}function O(D,z,F){let Q=[],oe=z[z.length-1],ve=z[0],Ce;for(;D.nodeCount();){for(;Ce=ve.dequeue();)A(D,z,F,Ce);for(;Ce=oe.dequeue();)A(D,z,F,Ce);if(D.nodeCount()){for(let he=z.length-2;he>0;--he)if(Ce=z[he].dequeue(),Ce){Q=Q.concat(A(D,z,F,Ce,!0));break}}}return Q}function A(D,z,F,Q,oe){let ve=oe?[]:void 0;return D.inEdges(Q.v).forEach(Ce=>{let he=D.edge(Ce),me=D.node(Ce.v);oe&&ve.push({v:Ce.v,w:Ce.w}),me.out-=he,P(z,F,me)}),D.outEdges(Q.v).forEach(Ce=>{let he=D.edge(Ce),me=Ce.w,ee=D.node(me);ee.in-=he,P(z,F,ee)}),D.removeNode(Q.v),ve}function E(D,z){let F=new q,Q=0,oe=0;D.nodes().forEach(he=>{F.setNode(he,{v:he,in:0,out:0})}),D.edges().forEach(he=>{let me=F.edge(he.v,he.w)||0,ee=z(he),ce=me+ee;F.setEdge(he.v,he.w,ce),oe=Math.max(oe,F.node(he.v).out+=ee),Q=Math.max(Q,F.node(he.w).in+=ee)});let ve=C(oe+Q+3).map(()=>new H),Ce=Q+1;return F.nodes().forEach(he=>{P(ve,Ce,F.node(he))}),{graph:F,buckets:ve,zeroIdx:Ce}}function P(D,z,F){F.out?F.in?D[F.out-F.in+z].enqueue(F):D[D.length-1].enqueue(F):D[0].enqueue(F)}function C(D){const z=[];for(let F=0;F<D;F++)z.push(F);return z}},528:(re,le,N)=>{"use strict";let q=N(720),H=N(918),R=N(65),V=N(493).normalizeRanks,O=N(510),A=N(493).removeEmptyRanks,E=N(367),P=N(192),C=N(484),D=N(919),z=N(93),F=N(493),Q=N(105).Graph;re.exports=oe;function oe(te,ue){let ge=ue&&ue.debugTiming?F.time:F.notime;ge("layout",()=>{let Te=ge("  buildLayoutGraph",()=>se(te));ge("  runLayout",()=>ve(Te,ge)),ge("  updateInputGraph",()=>Ce(te,Te))})}function ve(te,ue){ue("    makeSpaceForEdgeLabels",()=>fe(te)),ue("    removeSelfEdges",()=>xs(te)),ue("    acyclic",()=>q.run(te)),ue("    nestingGraph.run",()=>E.run(te)),ue("    rank",()=>R(F.asNonCompoundGraph(te))),ue("    injectEdgeLabelProxies",()=>we(te)),ue("    removeEmptyRanks",()=>A(te)),ue("    nestingGraph.cleanup",()=>E.cleanup(te)),ue("    normalizeRanks",()=>V(te)),ue("    assignRankMinMax",()=>De(te)),ue("    removeEdgeLabelProxies",()=>Pe(te)),ue("    normalize.run",()=>H.run(te)),ue("    parentDummyChains",()=>O(te)),ue("    addBorderSegments",()=>P(te)),ue("    order",()=>D(te)),ue("    insertSelfEdges",()=>Ur(te)),ue("    adjustCoordinateSystem",()=>C.adjust(te)),ue("    position",()=>z(te)),ue("    positionSelfEdges",()=>qa(te)),ue("    removeBorderNodes",()=>On(te)),ue("    normalize.undo",()=>H.undo(te)),ue("    fixupEdgeLabelCoords",()=>Ft(te)),ue("    undoCoordinateSystem",()=>C.undo(te)),ue("    translateGraph",()=>Ge(te)),ue("    assignNodeIntersects",()=>$e(te)),ue("    reversePoints",()=>Yi(te)),ue("    acyclic.undo",()=>q.undo(te))}function Ce(te,ue){te.nodes().forEach(ge=>{let Te=te.node(ge),Ne=ue.node(ge);Te&&(Te.x=Ne.x,Te.y=Ne.y,Te.rank=Ne.rank,ue.children(ge).length&&(Te.width=Ne.width,Te.height=Ne.height))}),te.edges().forEach(ge=>{let Te=te.edge(ge),Ne=ue.edge(ge);Te.points=Ne.points,Ne.hasOwnProperty("x")&&(Te.x=Ne.x,Te.y=Ne.y)}),te.graph().width=ue.graph().width,te.graph().height=ue.graph().height}let he=["nodesep","edgesep","ranksep","marginx","marginy"],me={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ee=["acyclicer","ranker","rankdir","align"],ce=["width","height"],pe={width:0,height:0},j=["minlen","weight","width","height","labeloffset"],K={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ne=["labelpos"];function se(te){let ue=new Q({multigraph:!0,compound:!0}),ge=kn(te.graph());return ue.setGraph(Object.assign({},me,Ze(ge,he),F.pick(ge,ee))),te.nodes().forEach(Te=>{let Ne=kn(te.node(Te));const qe=Ze(Ne,ce);Object.keys(pe).forEach(Be=>{qe[Be]===void 0&&(qe[Be]=pe[Be])}),ue.setNode(Te,qe),ue.setParent(Te,te.parent(Te))}),te.edges().forEach(Te=>{let Ne=kn(te.edge(Te));ue.setEdge(Te,Object.assign({},K,Ze(Ne,j),F.pick(Ne,ne)))}),ue}function fe(te){let ue=te.graph();ue.ranksep/=2,te.edges().forEach(ge=>{let Te=te.edge(ge);Te.minlen*=2,Te.labelpos.toLowerCase()!=="c"&&(ue.rankdir==="TB"||ue.rankdir==="BT"?Te.width+=Te.labeloffset:Te.height+=Te.labeloffset)})}function we(te){te.edges().forEach(ue=>{let ge=te.edge(ue);if(ge.width&&ge.height){let Te=te.node(ue.v),qe={rank:(te.node(ue.w).rank-Te.rank)/2+Te.rank,e:ue};F.addDummyNode(te,"edge-proxy",qe,"_ep")}})}function De(te){let ue=0;te.nodes().forEach(ge=>{let Te=te.node(ge);Te.borderTop&&(Te.minRank=te.node(Te.borderTop).rank,Te.maxRank=te.node(Te.borderBottom).rank,ue=Math.max(ue,Te.maxRank))}),te.graph().maxRank=ue}function Pe(te){te.nodes().forEach(ue=>{let ge=te.node(ue);ge.dummy==="edge-proxy"&&(te.edge(ge.e).labelRank=ge.rank,te.removeNode(ue))})}function Ge(te){let ue=Number.POSITIVE_INFINITY,ge=0,Te=Number.POSITIVE_INFINITY,Ne=0,qe=te.graph(),Be=qe.marginx||0,rt=qe.marginy||0;function Ka(Rt){let nt=Rt.x,zt=Rt.y,Nn=Rt.width,Qa=Rt.height;ue=Math.min(ue,nt-Nn/2),ge=Math.max(ge,nt+Nn/2),Te=Math.min(Te,zt-Qa/2),Ne=Math.max(Ne,zt+Qa/2)}te.nodes().forEach(Rt=>Ka(te.node(Rt))),te.edges().forEach(Rt=>{let nt=te.edge(Rt);nt.hasOwnProperty("x")&&Ka(nt)}),ue-=Be,Te-=rt,te.nodes().forEach(Rt=>{let nt=te.node(Rt);nt.x-=ue,nt.y-=Te}),te.edges().forEach(Rt=>{let nt=te.edge(Rt);nt.points.forEach(zt=>{zt.x-=ue,zt.y-=Te}),nt.hasOwnProperty("x")&&(nt.x-=ue),nt.hasOwnProperty("y")&&(nt.y-=Te)}),qe.width=ge-ue+Be,qe.height=Ne-Te+rt}function $e(te){te.edges().forEach(ue=>{let ge=te.edge(ue),Te=te.node(ue.v),Ne=te.node(ue.w),qe,Be;ge.points?(qe=ge.points[0],Be=ge.points[ge.points.length-1]):(ge.points=[],qe=Ne,Be=Te),ge.points.unshift(F.intersectRect(Te,qe)),ge.points.push(F.intersectRect(Ne,Be))})}function Ft(te){te.edges().forEach(ue=>{let ge=te.edge(ue);if(ge.hasOwnProperty("x"))switch((ge.labelpos==="l"||ge.labelpos==="r")&&(ge.width-=ge.labeloffset),ge.labelpos){case"l":ge.x-=ge.width/2+ge.labeloffset;break;case"r":ge.x+=ge.width/2+ge.labeloffset;break}})}function Yi(te){te.edges().forEach(ue=>{let ge=te.edge(ue);ge.reversed&&ge.points.reverse()})}function On(te){te.nodes().forEach(ue=>{if(te.children(ue).length){let ge=te.node(ue),Te=te.node(ge.borderTop),Ne=te.node(ge.borderBottom),qe=te.node(ge.borderLeft[ge.borderLeft.length-1]),Be=te.node(ge.borderRight[ge.borderRight.length-1]);ge.width=Math.abs(Be.x-qe.x),ge.height=Math.abs(Ne.y-Te.y),ge.x=qe.x+ge.width/2,ge.y=Te.y+ge.height/2}}),te.nodes().forEach(ue=>{te.node(ue).dummy==="border"&&te.removeNode(ue)})}function xs(te){te.edges().forEach(ue=>{if(ue.v===ue.w){var ge=te.node(ue.v);ge.selfEdges||(ge.selfEdges=[]),ge.selfEdges.push({e:ue,label:te.edge(ue)}),te.removeEdge(ue)}})}function Ur(te){var ue=F.buildLayerMatrix(te);ue.forEach(ge=>{var Te=0;ge.forEach((Ne,qe)=>{var Be=te.node(Ne);Be.order=qe+Te,(Be.selfEdges||[]).forEach(rt=>{F.addDummyNode(te,"selfedge",{width:rt.label.width,height:rt.label.height,rank:Be.rank,order:qe+ ++Te,e:rt.e,label:rt.label},"_se")}),delete Be.selfEdges})})}function qa(te){te.nodes().forEach(ue=>{var ge=te.node(ue);if(ge.dummy==="selfedge"){var Te=te.node(ge.e.v),Ne=Te.x+Te.width/2,qe=Te.y,Be=ge.x-Ne,rt=Te.height/2;te.setEdge(ge.e,ge.label),te.removeNode(ue),ge.label.points=[{x:Ne+2*Be/3,y:qe-rt},{x:Ne+5*Be/6,y:qe-rt},{x:Ne+Be,y:qe},{x:Ne+5*Be/6,y:qe+rt},{x:Ne+2*Be/3,y:qe+rt}],ge.label.x=ge.x,ge.label.y=ge.y}})}function Ze(te,ue){return F.mapValues(F.pick(te,ue),Number)}function kn(te){var ue={};return te&&Object.entries(te).forEach(([ge,Te])=>{typeof ge=="string"&&(ge=ge.toLowerCase()),ue[ge]=Te}),ue}},367:(re,le,N)=>{let q=N(493);re.exports={run:H,cleanup:A};function H(E){let P=q.addDummyNode(E,"root",{},"_root"),C=V(E),D=Math.max(...Object.values(C))-1,z=2*D+1;E.graph().nestingRoot=P,E.edges().forEach(Q=>E.edge(Q).minlen*=z);let F=O(E)+1;E.children().forEach(Q=>R(E,P,z,F,D,C,Q)),E.graph().nodeRankFactor=z}function R(E,P,C,D,z,F,Q){let oe=E.children(Q);if(!oe.length){Q!==P&&E.setEdge(P,Q,{weight:0,minlen:C});return}let ve=q.addBorderNode(E,"_bt"),Ce=q.addBorderNode(E,"_bb"),he=E.node(Q);E.setParent(ve,Q),he.borderTop=ve,E.setParent(Ce,Q),he.borderBottom=Ce,oe.forEach(me=>{R(E,P,C,D,z,F,me);let ee=E.node(me),ce=ee.borderTop?ee.borderTop:me,pe=ee.borderBottom?ee.borderBottom:me,j=ee.borderTop?D:2*D,K=ce!==pe?1:z-F[Q]+1;E.setEdge(ve,ce,{weight:j,minlen:K,nestingEdge:!0}),E.setEdge(pe,Ce,{weight:j,minlen:K,nestingEdge:!0})}),E.parent(Q)||E.setEdge(P,ve,{weight:0,minlen:z+F[Q]})}function V(E){var P={};function C(D,z){var F=E.children(D);F&&F.length&&F.forEach(Q=>C(Q,z+1)),P[D]=z}return E.children().forEach(D=>C(D,1)),P}function O(E){return E.edges().reduce((P,C)=>P+E.edge(C).weight,0)}function A(E){var P=E.graph();E.removeNode(P.nestingRoot),delete P.nestingRoot,E.edges().forEach(C=>{var D=E.edge(C);D.nestingEdge&&E.removeEdge(C)})}},918:(re,le,N)=>{"use strict";let q=N(493);re.exports={run:H,undo:V};function H(O){O.graph().dummyChains=[],O.edges().forEach(A=>R(O,A))}function R(O,A){let E=A.v,P=O.node(E).rank,C=A.w,D=O.node(C).rank,z=A.name,F=O.edge(A),Q=F.labelRank;if(D===P+1)return;O.removeEdge(A);let oe,ve,Ce;for(Ce=0,++P;P<D;++Ce,++P)F.points=[],ve={width:0,height:0,edgeLabel:F,edgeObj:A,rank:P},oe=q.addDummyNode(O,"edge",ve,"_d"),P===Q&&(ve.width=F.width,ve.height=F.height,ve.dummy="edge-label",ve.labelpos=F.labelpos),O.setEdge(E,oe,{weight:F.weight},z),Ce===0&&O.graph().dummyChains.push(oe),E=oe;O.setEdge(E,C,{weight:F.weight},z)}function V(O){O.graph().dummyChains.forEach(A=>{let E=O.node(A),P=E.edgeLabel,C;for(O.setEdge(E.edgeObj,P);E.dummy;)C=O.successors(A)[0],O.removeNode(A),P.points.push({x:E.x,y:E.y}),E.dummy==="edge-label"&&(P.x=E.x,P.y=E.y,P.width=E.width,P.height=E.height),A=C,E=O.node(A)})}},762:re=>{re.exports=le;function le(N,q,H){let R={},V;H.forEach(O=>{let A=N.parent(O),E,P;for(;A;){if(E=N.parent(A),E?(P=R[E],R[E]=A):(P=V,V=A),P&&P!==A){q.setEdge(P,A);return}A=E}})}},934:re=>{re.exports=le;function le(N,q=[]){return q.map(H=>{let R=N.inEdges(H);if(R.length){let V=R.reduce((O,A)=>{let E=N.edge(A),P=N.node(A.v);return{sum:O.sum+E.weight*P.order,weight:O.weight+E.weight}},{sum:0,weight:0});return{v:H,barycenter:V.sum/V.weight,weight:V.weight}}else return{v:H}})}},274:(re,le,N)=>{let q=N(105).Graph,H=N(493);re.exports=R;function R(O,A,E){let P=V(O),C=new q({compound:!0}).setGraph({root:P}).setDefaultNodeLabel(D=>O.node(D));return O.nodes().forEach(D=>{let z=O.node(D),F=O.parent(D);(z.rank===A||z.minRank<=A&&A<=z.maxRank)&&(C.setNode(D),C.setParent(D,F||P),O[E](D).forEach(Q=>{let oe=Q.v===D?Q.w:Q.v,ve=C.edge(oe,D),Ce=ve!==void 0?ve.weight:0;C.setEdge(oe,D,{weight:O.edge(Q).weight+Ce})}),z.hasOwnProperty("minRank")&&C.setNode(D,{borderLeft:z.borderLeft[A],borderRight:z.borderRight[A]}))}),C}function V(O){for(var A;O.hasNode(A=H.uniqueId("_root")););return A}},565:(re,le,N)=>{"use strict";let q=N(493).zipObject;re.exports=H;function H(V,O){let A=0;for(let E=1;E<O.length;++E)A+=R(V,O[E-1],O[E]);return A}function R(V,O,A){let E=q(A,A.map((Q,oe)=>oe)),P=O.flatMap(Q=>V.outEdges(Q).map(oe=>({pos:E[oe.w],weight:V.edge(oe).weight})).sort((oe,ve)=>oe.pos-ve.pos)),C=1;for(;C<A.length;)C<<=1;let D=2*C-1;C-=1;let z=new Array(D).fill(0),F=0;return P.forEach(Q=>{let oe=Q.pos+C;z[oe]+=Q.weight;let ve=0;for(;oe>0;)oe%2&&(ve+=z[oe+1]),oe=oe-1>>1,z[oe]+=Q.weight;F+=Q.weight*ve}),F}},919:(re,le,N)=>{"use strict";let q=N(382),H=N(565),R=N(619),V=N(274),O=N(762),A=N(105).Graph,E=N(493);re.exports=P;function P(F){let Q=E.maxRank(F),oe=C(F,E.range(1,Q+1),"inEdges"),ve=C(F,E.range(Q-1,-1,-1),"outEdges"),Ce=q(F);z(F,Ce);let he=Number.POSITIVE_INFINITY,me;for(let ee=0,ce=0;ce<4;++ee,++ce){D(ee%2?oe:ve,ee%4>=2),Ce=E.buildLayerMatrix(F);let pe=H(F,Ce);pe<he&&(ce=0,me=Object.assign({},Ce),he=pe)}z(F,me)}function C(F,Q,oe){return Q.map(function(ve){return V(F,ve,oe)})}function D(F,Q){let oe=new A;F.forEach(function(ve){let Ce=ve.graph().root,he=R(ve,Ce,oe,Q);he.vs.forEach((me,ee)=>ve.node(me).order=ee),O(ve,oe,he.vs)})}function z(F,Q){Object.values(Q).forEach(oe=>oe.forEach((ve,Ce)=>F.node(ve).order=Ce))}},382:(re,le,N)=>{"use strict";let q=N(493);re.exports=H;function H(R){let V={},O=R.nodes().filter(D=>!R.children(D).length),A=Math.max(...O.map(D=>R.node(D).rank)),E=q.range(A+1).map(()=>[]);function P(D){if(V[D])return;V[D]=!0;let z=R.node(D);E[z.rank].push(D),R.successors(D).forEach(P)}return O.sort((D,z)=>R.node(D).rank-R.node(z).rank).forEach(P),E}},741:(re,le,N)=>{"use strict";let q=N(493);re.exports=H;function H(O,A){let E={};O.forEach((C,D)=>{let z=E[C.v]={indegree:0,in:[],out:[],vs:[C.v],i:D};C.barycenter!==void 0&&(z.barycenter=C.barycenter,z.weight=C.weight)}),A.edges().forEach(C=>{let D=E[C.v],z=E[C.w];D!==void 0&&z!==void 0&&(z.indegree++,D.out.push(E[C.w]))});let P=Object.values(E).filter(C=>!C.indegree);return R(P)}function R(O){let A=[];function E(C){return D=>{D.merged||(D.barycenter===void 0||C.barycenter===void 0||D.barycenter>=C.barycenter)&&V(C,D)}}function P(C){return D=>{D.in.push(C),--D.indegree===0&&O.push(D)}}for(;O.length;){let C=O.pop();A.push(C),C.in.reverse().forEach(E(C)),C.out.forEach(P(C))}return A.filter(C=>!C.merged).map(C=>q.pick(C,["vs","i","barycenter","weight"]))}function V(O,A){let E=0,P=0;O.weight&&(E+=O.barycenter*O.weight,P+=O.weight),A.weight&&(E+=A.barycenter*A.weight,P+=A.weight),O.vs=A.vs.concat(O.vs),O.barycenter=E/P,O.weight=P,O.i=Math.min(A.i,O.i),A.merged=!0}},619:(re,le,N)=>{let q=N(934),H=N(741),R=N(640);re.exports=V;function V(E,P,C,D){let z=E.children(P),F=E.node(P),Q=F?F.borderLeft:void 0,oe=F?F.borderRight:void 0,ve={};Q&&(z=z.filter(ee=>ee!==Q&&ee!==oe));let Ce=q(E,z);Ce.forEach(ee=>{if(E.children(ee.v).length){let ce=V(E,ee.v,C,D);ve[ee.v]=ce,ce.hasOwnProperty("barycenter")&&A(ee,ce)}});let he=H(Ce,C);O(he,ve);let me=R(he,D);if(Q&&(me.vs=[Q,me.vs,oe].flat(!0),E.predecessors(Q).length)){let ee=E.node(E.predecessors(Q)[0]),ce=E.node(E.predecessors(oe)[0]);me.hasOwnProperty("barycenter")||(me.barycenter=0,me.weight=0),me.barycenter=(me.barycenter*me.weight+ee.order+ce.order)/(me.weight+2),me.weight+=2}return me}function O(E,P){E.forEach(C=>{C.vs=C.vs.flatMap(D=>P[D]?P[D].vs:D)})}function A(E,P){E.barycenter!==void 0?(E.barycenter=(E.barycenter*E.weight+P.barycenter*P.weight)/(E.weight+P.weight),E.weight+=P.weight):(E.barycenter=P.barycenter,E.weight=P.weight)}},640:(re,le,N)=>{let q=N(493);re.exports=H;function H(O,A){let E=q.partition(O,ve=>ve.hasOwnProperty("barycenter")),P=E.lhs,C=E.rhs.sort((ve,Ce)=>Ce.i-ve.i),D=[],z=0,F=0,Q=0;P.sort(V(!!A)),Q=R(D,C,Q),P.forEach(ve=>{Q+=ve.vs.length,D.push(ve.vs),z+=ve.barycenter*ve.weight,F+=ve.weight,Q=R(D,C,Q)});let oe={vs:D.flat(!0)};return F&&(oe.barycenter=z/F,oe.weight=F),oe}function R(O,A,E){let P;for(;A.length&&(P=A[A.length-1]).i<=E;)A.pop(),O.push(P.vs),E++;return E}function V(O){return(A,E)=>A.barycenter<E.barycenter?-1:A.barycenter>E.barycenter?1:O?E.i-A.i:A.i-E.i}},510:re=>{re.exports=le;function le(H){let R=q(H);H.graph().dummyChains.forEach(V=>{let O=H.node(V),A=O.edgeObj,E=N(H,R,A.v,A.w),P=E.path,C=E.lca,D=0,z=P[D],F=!0;for(;V!==A.w;){if(O=H.node(V),F){for(;(z=P[D])!==C&&H.node(z).maxRank<O.rank;)D++;z===C&&(F=!1)}if(!F){for(;D<P.length-1&&H.node(z=P[D+1]).minRank<=O.rank;)D++;z=P[D]}H.setParent(V,z),V=H.successors(V)[0]}})}function N(H,R,V,O){let A=[],E=[],P=Math.min(R[V].low,R[O].low),C=Math.max(R[V].lim,R[O].lim),D,z;D=V;do D=H.parent(D),A.push(D);while(D&&(R[D].low>P||C>R[D].lim));for(z=D,D=O;(D=H.parent(D))!==z;)E.push(D);return{path:A.concat(E.reverse()),lca:z}}function q(H){let R={},V=0;function O(A){let E=V;H.children(A).forEach(O),R[A]={low:E,lim:V++}}return H.children().forEach(O),R}},591:(re,le,N)=>{"use strict";let q=N(105).Graph,H=N(493);re.exports={positionX:oe,findType1Conflicts:R,findType2Conflicts:V,addConflict:A,hasConflict:E,verticalAlignment:P,horizontalCompaction:C,alignCoordinates:F,findSmallestWidthAlignment:z,balance:Q};function R(he,me){let ee={};function ce(pe,j){let K=0,ne=0,se=pe.length,fe=j[j.length-1];return j.forEach((we,De)=>{let Pe=O(he,we),Ge=Pe?he.node(Pe).order:se;(Pe||we===fe)&&(j.slice(ne,De+1).forEach($e=>{he.predecessors($e).forEach(Ft=>{let Yi=he.node(Ft),On=Yi.order;(On<K||Ge<On)&&!(Yi.dummy&&he.node($e).dummy)&&A(ee,Ft,$e)})}),ne=De+1,K=Ge)}),j}return me.reduce(ce),ee}function V(he,me){let ee={};function ce(j,K,ne,se,fe){let we;H.range(K,ne).forEach(De=>{we=j[De],he.node(we).dummy&&he.predecessors(we).forEach(Pe=>{let Ge=he.node(Pe);Ge.dummy&&(Ge.order<se||Ge.order>fe)&&A(ee,Pe,we)})})}function pe(j,K){let ne=-1,se,fe=0;return K.forEach((we,De)=>{if(he.node(we).dummy==="border"){let Pe=he.predecessors(we);Pe.length&&(se=he.node(Pe[0]).order,ce(K,fe,De,ne,se),fe=De,ne=se)}ce(K,fe,K.length,se,j.length)}),K}return me.reduce(pe),ee}function O(he,me){if(he.node(me).dummy)return he.predecessors(me).find(ee=>he.node(ee).dummy)}function A(he,me,ee){if(me>ee){let pe=me;me=ee,ee=pe}let ce=he[me];ce||(he[me]=ce={}),ce[ee]=!0}function E(he,me,ee){if(me>ee){let ce=me;me=ee,ee=ce}return!!he[me]&&he[me].hasOwnProperty(ee)}function P(he,me,ee,ce){let pe={},j={},K={};return me.forEach(ne=>{ne.forEach((se,fe)=>{pe[se]=se,j[se]=se,K[se]=fe})}),me.forEach(ne=>{let se=-1;ne.forEach(fe=>{let we=ce(fe);if(we.length){we=we.sort((Pe,Ge)=>K[Pe]-K[Ge]);let De=(we.length-1)/2;for(let Pe=Math.floor(De),Ge=Math.ceil(De);Pe<=Ge;++Pe){let $e=we[Pe];j[fe]===fe&&se<K[$e]&&!E(ee,fe,$e)&&(j[$e]=fe,j[fe]=pe[fe]=pe[$e],se=K[$e])}}})}),{root:pe,align:j}}function C(he,me,ee,ce,pe){let j={},K=D(he,me,ee,pe),ne=pe?"borderLeft":"borderRight";function se(De,Pe){let Ge=K.nodes(),$e=Ge.pop(),Ft={};for(;$e;)Ft[$e]?De($e):(Ft[$e]=!0,Ge.push($e),Ge=Ge.concat(Pe($e))),$e=Ge.pop()}function fe(De){j[De]=K.inEdges(De).reduce((Pe,Ge)=>Math.max(Pe,j[Ge.v]+K.edge(Ge)),0)}function we(De){let Pe=K.outEdges(De).reduce(($e,Ft)=>Math.min($e,j[Ft.w]-K.edge(Ft)),Number.POSITIVE_INFINITY),Ge=he.node(De);Pe!==Number.POSITIVE_INFINITY&&Ge.borderType!==ne&&(j[De]=Math.max(j[De],Pe))}return se(fe,K.predecessors.bind(K)),se(we,K.successors.bind(K)),Object.keys(ce).forEach(De=>j[De]=j[ee[De]]),j}function D(he,me,ee,ce){let pe=new q,j=he.graph(),K=ve(j.nodesep,j.edgesep,ce);return me.forEach(ne=>{let se;ne.forEach(fe=>{let we=ee[fe];if(pe.setNode(we),se){var De=ee[se],Pe=pe.edge(De,we);pe.setEdge(De,we,Math.max(K(he,fe,se),Pe||0))}se=fe})}),pe}function z(he,me){return Object.values(me).reduce((ee,ce)=>{let pe=Number.NEGATIVE_INFINITY,j=Number.POSITIVE_INFINITY;Object.entries(ce).forEach(([ne,se])=>{let fe=Ce(he,ne)/2;pe=Math.max(se+fe,pe),j=Math.min(se-fe,j)});const K=pe-j;return K<ee[0]&&(ee=[K,ce]),ee},[Number.POSITIVE_INFINITY,null])[1]}function F(he,me){let ee=Object.values(me),ce=Math.min(...ee),pe=Math.max(...ee);["u","d"].forEach(j=>{["l","r"].forEach(K=>{let ne=j+K,se=he[ne];if(se===me)return;let fe=Object.values(se),we=ce-Math.min(...fe);K!=="l"&&(we=pe-Math.max(...fe)),we&&(he[ne]=H.mapValues(se,De=>De+we))})})}function Q(he,me){return H.mapValues(he.ul,(ee,ce)=>{if(me)return he[me.toLowerCase()][ce];{let pe=Object.values(he).map(j=>j[ce]).sort((j,K)=>j-K);return(pe[1]+pe[2])/2}})}function oe(he){let me=H.buildLayerMatrix(he),ee=Object.assign(R(he,me),V(he,me)),ce={},pe;["u","d"].forEach(K=>{pe=K==="u"?me:Object.values(me).reverse(),["l","r"].forEach(ne=>{ne==="r"&&(pe=pe.map(De=>Object.values(De).reverse()));let se=(K==="u"?he.predecessors:he.successors).bind(he),fe=P(he,pe,ee,se),we=C(he,pe,fe.root,fe.align,ne==="r");ne==="r"&&(we=H.mapValues(we,De=>-De)),ce[K+ne]=we})});let j=z(he,ce);return F(ce,j),Q(ce,he.graph().align)}function ve(he,me,ee){return(ce,pe,j)=>{let K=ce.node(pe),ne=ce.node(j),se=0,fe;if(se+=K.width/2,K.hasOwnProperty("labelpos"))switch(K.labelpos.toLowerCase()){case"l":fe=-K.width/2;break;case"r":fe=K.width/2;break}if(fe&&(se+=ee?fe:-fe),fe=0,se+=(K.dummy?me:he)/2,se+=(ne.dummy?me:he)/2,se+=ne.width/2,ne.hasOwnProperty("labelpos"))switch(ne.labelpos.toLowerCase()){case"l":fe=ne.width/2;break;case"r":fe=-ne.width/2;break}return fe&&(se+=ee?fe:-fe),fe=0,se}}function Ce(he,me){return he.node(me).width}},93:(re,le,N)=>{"use strict";let q=N(493),H=N(591).positionX;re.exports=R;function R(O){O=q.asNonCompoundGraph(O),V(O),Object.entries(H(O)).forEach(([A,E])=>O.node(A).x=E)}function V(O){let A=q.buildLayerMatrix(O),E=O.graph().ranksep,P=0;A.forEach(C=>{const D=C.reduce((z,F)=>{const Q=O.node(F).height;return z>Q?z:Q},0);C.forEach(z=>O.node(z).y=P+D/2),P+=D+E})}},464:(re,le,N)=>{"use strict";var q=N(105).Graph,H=N(247).slack;re.exports=R;function R(E){var P=new q({directed:!1}),C=E.nodes()[0],D=E.nodeCount();P.setNode(C,{});for(var z,F;V(P,E)<D;)z=O(P,E),F=P.hasNode(z.v)?H(E,z):-H(E,z),A(P,E,F);return P}function V(E,P){function C(D){P.nodeEdges(D).forEach(z=>{var F=z.v,Q=D===F?z.w:F;!E.hasNode(Q)&&!H(P,z)&&(E.setNode(Q,{}),E.setEdge(D,Q,{}),C(Q))})}return E.nodes().forEach(C),E.nodeCount()}function O(E,P){return P.edges().reduce((D,z)=>{let F=Number.POSITIVE_INFINITY;return E.hasNode(z.v)!==E.hasNode(z.w)&&(F=H(P,z)),F<D[0]?[F,z]:D},[Number.POSITIVE_INFINITY,null])[1]}function A(E,P,C){E.nodes().forEach(D=>P.node(D).rank+=C)}},65:(re,le,N)=>{"use strict";var q=N(247),H=q.longestPath,R=N(464),V=N(307);re.exports=O;function O(C){switch(C.graph().ranker){case"network-simplex":P(C);break;case"tight-tree":E(C);break;case"longest-path":A(C);break;default:P(C)}}var A=H;function E(C){H(C),R(C)}function P(C){V(C)}},307:(re,le,N)=>{"use strict";var q=N(464),H=N(247).slack,R=N(247).longestPath,V=N(105).alg.preorder,O=N(105).alg.postorder,A=N(493).simplify;re.exports=E,E.initLowLimValues=z,E.initCutValues=P,E.calcCutValue=D,E.leaveEdge=Q,E.enterEdge=oe,E.exchangeEdges=ve;function E(ee){ee=A(ee),R(ee);var ce=q(ee);z(ce),P(ce,ee);for(var pe,j;pe=Q(ce);)j=oe(ce,ee,pe),ve(ce,ee,pe,j)}function P(ee,ce){var pe=O(ee,ee.nodes());pe=pe.slice(0,pe.length-1),pe.forEach(j=>C(ee,ce,j))}function C(ee,ce,pe){var j=ee.node(pe),K=j.parent;ee.edge(pe,K).cutvalue=D(ee,ce,pe)}function D(ee,ce,pe){var j=ee.node(pe),K=j.parent,ne=!0,se=ce.edge(pe,K),fe=0;return se||(ne=!1,se=ce.edge(K,pe)),fe=se.weight,ce.nodeEdges(pe).forEach(we=>{var De=we.v===pe,Pe=De?we.w:we.v;if(Pe!==K){var Ge=De===ne,$e=ce.edge(we).weight;if(fe+=Ge?$e:-$e,he(ee,pe,Pe)){var Ft=ee.edge(pe,Pe).cutvalue;fe+=Ge?-Ft:Ft}}}),fe}function z(ee,ce){arguments.length<2&&(ce=ee.nodes()[0]),F(ee,{},1,ce)}function F(ee,ce,pe,j,K){var ne=pe,se=ee.node(j);return ce[j]=!0,ee.neighbors(j).forEach(fe=>{ce.hasOwnProperty(fe)||(pe=F(ee,ce,pe,fe,j))}),se.low=ne,se.lim=pe++,K?se.parent=K:delete se.parent,pe}function Q(ee){return ee.edges().find(ce=>ee.edge(ce).cutvalue<0)}function oe(ee,ce,pe){var j=pe.v,K=pe.w;ce.hasEdge(j,K)||(j=pe.w,K=pe.v);var ne=ee.node(j),se=ee.node(K),fe=ne,we=!1;ne.lim>se.lim&&(fe=se,we=!0);var De=ce.edges().filter(Pe=>we===me(ee,ee.node(Pe.v),fe)&&we!==me(ee,ee.node(Pe.w),fe));return De.reduce((Pe,Ge)=>H(ce,Ge)<H(ce,Pe)?Ge:Pe)}function ve(ee,ce,pe,j){var K=pe.v,ne=pe.w;ee.removeEdge(K,ne),ee.setEdge(j.v,j.w,{}),z(ee),P(ee,ce),Ce(ee,ce)}function Ce(ee,ce){var pe=ee.nodes().find(K=>!ce.node(K).parent),j=V(ee,pe);j=j.slice(1),j.forEach(K=>{var ne=ee.node(K).parent,se=ce.edge(K,ne),fe=!1;se||(se=ce.edge(ne,K),fe=!0),ce.node(K).rank=ce.node(ne).rank+(fe?se.minlen:-se.minlen)})}function he(ee,ce,pe){return ee.hasEdge(ce,pe)}function me(ee,ce,pe){return pe.low<=ce.lim&&ce.lim<=pe.lim}},247:re=>{"use strict";re.exports={longestPath:le,slack:N};function le(q){var H={};function R(V){var O=q.node(V);if(H.hasOwnProperty(V))return O.rank;H[V]=!0;var A=Math.min(...q.outEdges(V).map(E=>E==null?Number.POSITIVE_INFINITY:R(E.w)-q.edge(E).minlen));return A===Number.POSITIVE_INFINITY&&(A=0),O.rank=A}q.sources().forEach(R)}function N(q,H){return q.node(H.w).rank-q.node(H.v).rank-q.edge(H).minlen}},493:(re,le,N)=>{"use strict";let q=N(105).Graph;re.exports={addBorderNode:z,addDummyNode:H,asNonCompoundGraph:V,buildLayerMatrix:P,intersectRect:E,mapValues:ce,maxRank:F,normalizeRanks:C,notime:ve,partition:Q,pick:ee,predecessorWeights:A,range:me,removeEmptyRanks:D,simplify:R,successorWeights:O,time:oe,uniqueId:he,zipObject:pe};function H(j,K,ne,se){let fe;do fe=he(se);while(j.hasNode(fe));return ne.dummy=K,j.setNode(fe,ne),fe}function R(j){let K=new q().setGraph(j.graph());return j.nodes().forEach(ne=>K.setNode(ne,j.node(ne))),j.edges().forEach(ne=>{let se=K.edge(ne.v,ne.w)||{weight:0,minlen:1},fe=j.edge(ne);K.setEdge(ne.v,ne.w,{weight:se.weight+fe.weight,minlen:Math.max(se.minlen,fe.minlen)})}),K}function V(j){let K=new q({multigraph:j.isMultigraph()}).setGraph(j.graph());return j.nodes().forEach(ne=>{j.children(ne).length||K.setNode(ne,j.node(ne))}),j.edges().forEach(ne=>{K.setEdge(ne,j.edge(ne))}),K}function O(j){let K=j.nodes().map(ne=>{let se={};return j.outEdges(ne).forEach(fe=>{se[fe.w]=(se[fe.w]||0)+j.edge(fe).weight}),se});return pe(j.nodes(),K)}function A(j){let K=j.nodes().map(ne=>{let se={};return j.inEdges(ne).forEach(fe=>{se[fe.v]=(se[fe.v]||0)+j.edge(fe).weight}),se});return pe(j.nodes(),K)}function E(j,K){let ne=j.x,se=j.y,fe=K.x-ne,we=K.y-se,De=j.width/2,Pe=j.height/2;if(!fe&&!we)throw new Error("Not possible to find intersection inside of the rectangle");let Ge,$e;return Math.abs(we)*De>Math.abs(fe)*Pe?(we<0&&(Pe=-Pe),Ge=Pe*fe/we,$e=Pe):(fe<0&&(De=-De),Ge=De,$e=De*we/fe),{x:ne+Ge,y:se+$e}}function P(j){let K=me(F(j)+1).map(()=>[]);return j.nodes().forEach(ne=>{let se=j.node(ne),fe=se.rank;fe!==void 0&&(K[fe][se.order]=ne)}),K}function C(j){let K=Math.min(...j.nodes().map(ne=>{let se=j.node(ne).rank;return se===void 0?Number.MAX_VALUE:se}));j.nodes().forEach(ne=>{let se=j.node(ne);se.hasOwnProperty("rank")&&(se.rank-=K)})}function D(j){let K=Math.min(...j.nodes().map(we=>j.node(we).rank)),ne=[];j.nodes().forEach(we=>{let De=j.node(we).rank-K;ne[De]||(ne[De]=[]),ne[De].push(we)});let se=0,fe=j.graph().nodeRankFactor;Array.from(ne).forEach((we,De)=>{we===void 0&&De%fe!==0?--se:we!==void 0&&se&&we.forEach(Pe=>j.node(Pe).rank+=se)})}function z(j,K,ne,se){let fe={width:0,height:0};return arguments.length>=4&&(fe.rank=ne,fe.order=se),H(j,"border",fe,K)}function F(j){return Math.max(...j.nodes().map(K=>{let ne=j.node(K).rank;return ne===void 0?Number.MIN_VALUE:ne}))}function Q(j,K){let ne={lhs:[],rhs:[]};return j.forEach(se=>{K(se)?ne.lhs.push(se):ne.rhs.push(se)}),ne}function oe(j,K){let ne=Date.now();try{return K()}finally{console.log(j+" time: "+(Date.now()-ne)+"ms")}}function ve(j,K){return K()}let Ce=0;function he(j){var K=++Ce;return toString(j)+K}function me(j,K,ne=1){K==null&&(K=j,j=0);let se=we=>we<K;ne<0&&(se=we=>K<we);const fe=[];for(let we=j;se(we);we+=ne)fe.push(we);return fe}function ee(j,K){const ne={};for(const se of K)j[se]!==void 0&&(ne[se]=j[se]);return ne}function ce(j,K){let ne=K;return typeof K=="string"&&(ne=se=>se[K]),Object.entries(j).reduce((se,[fe,we])=>(se[fe]=ne(we,fe),se),{})}function pe(j,K){return j.reduce((ne,se,fe)=>(ne[se]=K[fe],ne),{})}},23:re=>{re.exports="1.0.4"},105:(re,le,N)=>{var q=N(459);re.exports={Graph:q.Graph,json:N(643),alg:N(515),version:q.version}},722:re=>{re.exports=le;function le(N){var q={},H=[],R;function V(O){q.hasOwnProperty(O)||(q[O]=!0,R.push(O),N.successors(O).forEach(V),N.predecessors(O).forEach(V))}return N.nodes().forEach(function(O){R=[],V(O),R.length&&H.push(R)}),H}},330:re=>{re.exports=le;function le(R,V,O){Array.isArray(V)||(V=[V]);var A=R.isDirected()?D=>R.successors(D):D=>R.neighbors(D),E=O==="post"?N:q,P=[],C={};return V.forEach(D=>{if(!R.hasNode(D))throw new Error("Graph does not have node: "+D);E(D,A,C,P)}),P}function N(R,V,O,A){for(var E=[[R,!1]];E.length>0;){var P=E.pop();P[1]?A.push(P[0]):O.hasOwnProperty(P[0])||(O[P[0]]=!0,E.push([P[0],!0]),H(V(P[0]),C=>E.push([C,!1])))}}function q(R,V,O,A){for(var E=[R];E.length>0;){var P=E.pop();O.hasOwnProperty(P)||(O[P]=!0,A.push(P),H(V(P),C=>E.push(C)))}}function H(R,V){for(var O=R.length;O--;)V(R[O],O,R);return R}},414:(re,le,N)=>{var q=N(7);re.exports=H;function H(R,V,O){return R.nodes().reduce(function(A,E){return A[E]=q(R,E,V,O),A},{})}},7:(re,le,N)=>{var q=N(890);re.exports=R;var H=()=>1;function R(O,A,E,P){return V(O,String(A),E||H,P||function(C){return O.outEdges(C)})}function V(O,A,E,P){var C={},D=new q,z,F,Q=function(oe){var ve=oe.v!==z?oe.v:oe.w,Ce=C[ve],he=E(oe),me=F.distance+he;if(he<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+oe+" Weight: "+he);me<Ce.distance&&(Ce.distance=me,Ce.predecessor=z,D.decrease(ve,me))};for(O.nodes().forEach(function(oe){var ve=oe===A?0:Number.POSITIVE_INFINITY;C[oe]={distance:ve},D.add(oe,ve)});D.size()>0&&(z=D.removeMin(),F=C[z],F.distance!==Number.POSITIVE_INFINITY);)P(z).forEach(Q);return C}},866:(re,le,N)=>{var q=N(177);re.exports=H;function H(R){return q(R).filter(function(V){return V.length>1||V.length===1&&R.hasEdge(V[0],V[0])})}},941:re=>{re.exports=N;var le=()=>1;function N(H,R,V){return q(H,R||le,V||function(O){return H.outEdges(O)})}function q(H,R,V){var O={},A=H.nodes();return A.forEach(function(E){O[E]={},O[E][E]={distance:0},A.forEach(function(P){E!==P&&(O[E][P]={distance:Number.POSITIVE_INFINITY})}),V(E).forEach(function(P){var C=P.v===E?P.w:P.v,D=R(P);O[E][C]={distance:D,predecessor:E}})}),A.forEach(function(E){var P=O[E];A.forEach(function(C){var D=O[C];A.forEach(function(z){var F=D[E],Q=P[z],oe=D[z],ve=F.distance+Q.distance;ve<oe.distance&&(oe.distance=ve,oe.predecessor=Q.predecessor)})})}),O}},515:(re,le,N)=>{re.exports={components:N(722),dijkstra:N(7),dijkstraAll:N(414),findCycles:N(866),floydWarshall:N(941),isAcyclic:N(800),postorder:N(359),preorder:N(842),prim:N(375),tarjan:N(177),topsort:N(825)}},800:(re,le,N)=>{var q=N(825);re.exports=H;function H(R){try{q(R)}catch(V){if(V instanceof q.CycleException)return!1;throw V}return!0}},359:(re,le,N)=>{var q=N(330);re.exports=H;function H(R,V){return q(R,V,"post")}},842:(re,le,N)=>{var q=N(330);re.exports=H;function H(R,V){return q(R,V,"pre")}},375:(re,le,N)=>{var q=N(550),H=N(890);re.exports=R;function R(V,O){var A=new q,E={},P=new H,C;function D(F){var Q=F.v===C?F.w:F.v,oe=P.priority(Q);if(oe!==void 0){var ve=O(F);ve<oe&&(E[Q]=C,P.decrease(Q,ve))}}if(V.nodeCount()===0)return A;V.nodes().forEach(function(F){P.add(F,Number.POSITIVE_INFINITY),A.setNode(F)}),P.decrease(V.nodes()[0],0);for(var z=!1;P.size()>0;){if(C=P.removeMin(),E.hasOwnProperty(C))A.setEdge(C,E[C]);else{if(z)throw new Error("Input graph is not connected: "+V);z=!0}V.nodeEdges(C).forEach(D)}return A}},177:re=>{re.exports=le;function le(N){var q=0,H=[],R={},V=[];function O(A){var E=R[A]={onStack:!0,lowlink:q,index:q++};if(H.push(A),N.successors(A).forEach(function(D){R.hasOwnProperty(D)?R[D].onStack&&(E.lowlink=Math.min(E.lowlink,R[D].index)):(O(D),E.lowlink=Math.min(E.lowlink,R[D].lowlink))}),E.lowlink===E.index){var P=[],C;do C=H.pop(),R[C].onStack=!1,P.push(C);while(A!==C);V.push(P)}}return N.nodes().forEach(function(A){R.hasOwnProperty(A)||O(A)}),V}},825:re=>{function le(q){var H={},R={},V=[];function O(A){if(R.hasOwnProperty(A))throw new N;H.hasOwnProperty(A)||(R[A]=!0,H[A]=!0,q.predecessors(A).forEach(O),delete R[A],V.push(A))}if(q.sinks().forEach(O),Object.keys(H).length!==q.nodeCount())throw new N;return V}class N extends Error{constructor(){super(...arguments)}}re.exports=le,le.CycleException=N},890:re=>{class le{#e=[];#r={};size(){return this.#e.length}keys(){return this.#e.map(function(q){return q.key})}has(q){return this.#r.hasOwnProperty(q)}priority(q){var H=this.#r[q];if(H!==void 0)return this.#e[H].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this.#e[0].key}add(q,H){var R=this.#r;if(q=String(q),!R.hasOwnProperty(q)){var V=this.#e,O=V.length;return R[q]=O,V.push({key:q,priority:H}),this.#h(O),!0}return!1}removeMin(){this.#a(0,this.#e.length-1);var q=this.#e.pop();return delete this.#r[q.key],this.#t(0),q.key}decrease(q,H){var R=this.#r[q];if(H>this.#e[R].priority)throw new Error("New priority is greater than current priority. Key: "+q+" Old: "+this.#e[R].priority+" New: "+H);this.#e[R].priority=H,this.#h(R)}#t(q){var H=this.#e,R=2*q,V=R+1,O=q;R<H.length&&(O=H[R].priority<H[O].priority?R:O,V<H.length&&(O=H[V].priority<H[O].priority?V:O),O!==q&&(this.#a(q,O),this.#t(O)))}#h(q){for(var H=this.#e,R=H[q].priority,V;q!==0&&(V=q>>1,!(H[V].priority<R));)this.#a(q,V),q=V}#a(q,H){var R=this.#e,V=this.#r,O=R[q],A=R[H];R[q]=A,R[H]=O,V[A.key]=q,V[O.key]=H}}re.exports=le},550:re=>{"use strict";var le="\0",N="\0",q="";class H{#e=!0;#r=!1;#t=!1;#h;#a=()=>{};#d=()=>{};#n={};#o={};#c={};#s={};#v={};#u={};#l={};#p=0;#g=0;#f;#i;constructor(C){C&&(this.#e=C.hasOwnProperty("directed")?C.directed:!0,this.#r=C.hasOwnProperty("multigraph")?C.multigraph:!1,this.#t=C.hasOwnProperty("compound")?C.compound:!1),this.#t&&(this.#f={},this.#i={},this.#i[N]={})}isDirected(){return this.#e}isMultigraph(){return this.#r}isCompound(){return this.#t}setGraph(C){return this.#h=C,this}graph(){return this.#h}setDefaultNodeLabel(C){return this.#a=C,typeof C!="function"&&(this.#a=()=>C),this}nodeCount(){return this.#p}nodes(){return Object.keys(this.#n)}sources(){var C=this;return this.nodes().filter(D=>Object.keys(C.#o[D]).length===0)}sinks(){var C=this;return this.nodes().filter(D=>Object.keys(C.#s[D]).length===0)}setNodes(C,D){var z=arguments,F=this;return C.forEach(function(Q){z.length>1?F.setNode(Q,D):F.setNode(Q)}),this}setNode(C,D){return this.#n.hasOwnProperty(C)?(arguments.length>1&&(this.#n[C]=D),this):(this.#n[C]=arguments.length>1?D:this.#a(C),this.#t&&(this.#f[C]=N,this.#i[C]={},this.#i[N][C]=!0),this.#o[C]={},this.#c[C]={},this.#s[C]={},this.#v[C]={},++this.#p,this)}node(C){return this.#n[C]}hasNode(C){return this.#n.hasOwnProperty(C)}removeNode(C){var D=this;if(this.#n.hasOwnProperty(C)){var z=F=>D.removeEdge(D.#u[F]);delete this.#n[C],this.#t&&(this.#m(C),delete this.#f[C],this.children(C).forEach(function(F){D.setParent(F)}),delete this.#i[C]),Object.keys(this.#o[C]).forEach(z),delete this.#o[C],delete this.#c[C],Object.keys(this.#s[C]).forEach(z),delete this.#s[C],delete this.#v[C],--this.#p}return this}setParent(C,D){if(!this.#t)throw new Error("Cannot set parent in a non-compound graph");if(D===void 0)D=N;else{D+="";for(var z=D;z!==void 0;z=this.parent(z))if(z===C)throw new Error("Setting "+D+" as parent of "+C+" would create a cycle");this.setNode(D)}return this.setNode(C),this.#m(C),this.#f[C]=D,this.#i[D][C]=!0,this}#m(C){delete this.#i[this.#f[C]][C]}parent(C){if(this.#t){var D=this.#f[C];if(D!==N)return D}}children(C=N){if(this.#t){var D=this.#i[C];if(D)return Object.keys(D)}else{if(C===N)return this.nodes();if(this.hasNode(C))return[]}}predecessors(C){var D=this.#c[C];if(D)return Object.keys(D)}successors(C){var D=this.#v[C];if(D)return Object.keys(D)}neighbors(C){var D=this.predecessors(C);if(D){const F=new Set(D);for(var z of this.successors(C))F.add(z);return Array.from(F.values())}}isLeaf(C){var D;return this.isDirected()?D=this.successors(C):D=this.neighbors(C),D.length===0}filterNodes(C){var D=new this.constructor({directed:this.#e,multigraph:this.#r,compound:this.#t});D.setGraph(this.graph());var z=this;Object.entries(this.#n).forEach(function([oe,ve]){C(oe)&&D.setNode(oe,ve)}),Object.values(this.#u).forEach(function(oe){D.hasNode(oe.v)&&D.hasNode(oe.w)&&D.setEdge(oe,z.edge(oe))});var F={};function Q(oe){var ve=z.parent(oe);return ve===void 0||D.hasNode(ve)?(F[oe]=ve,ve):ve in F?F[ve]:Q(ve)}return this.#t&&D.nodes().forEach(oe=>D.setParent(oe,Q(oe))),D}setDefaultEdgeLabel(C){return this.#d=C,typeof C!="function"&&(this.#d=()=>C),this}edgeCount(){return this.#g}edges(){return Object.values(this.#u)}setPath(C,D){var z=this,F=arguments;return C.reduce(function(Q,oe){return F.length>1?z.setEdge(Q,oe,D):z.setEdge(Q,oe),oe}),this}setEdge(){var C,D,z,F,Q=!1,oe=arguments[0];typeof oe=="object"&&oe!==null&&"v"in oe?(C=oe.v,D=oe.w,z=oe.name,arguments.length===2&&(F=arguments[1],Q=!0)):(C=oe,D=arguments[1],z=arguments[3],arguments.length>2&&(F=arguments[2],Q=!0)),C=""+C,D=""+D,z!==void 0&&(z=""+z);var ve=O(this.#e,C,D,z);if(this.#l.hasOwnProperty(ve))return Q&&(this.#l[ve]=F),this;if(z!==void 0&&!this.#r)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(C),this.setNode(D),this.#l[ve]=Q?F:this.#d(C,D,z);var Ce=A(this.#e,C,D,z);return C=Ce.v,D=Ce.w,Object.freeze(Ce),this.#u[ve]=Ce,R(this.#c[D],C),R(this.#v[C],D),this.#o[D][ve]=Ce,this.#s[C][ve]=Ce,this.#g++,this}edge(C,D,z){var F=arguments.length===1?E(this.#e,arguments[0]):O(this.#e,C,D,z);return this.#l[F]}edgeAsObj(){const C=this.edge(...arguments);return typeof C!="object"?{label:C}:C}hasEdge(C,D,z){var F=arguments.length===1?E(this.#e,arguments[0]):O(this.#e,C,D,z);return this.#l.hasOwnProperty(F)}removeEdge(C,D,z){var F=arguments.length===1?E(this.#e,arguments[0]):O(this.#e,C,D,z),Q=this.#u[F];return Q&&(C=Q.v,D=Q.w,delete this.#l[F],delete this.#u[F],V(this.#c[D],C),V(this.#v[C],D),delete this.#o[D][F],delete this.#s[C][F],this.#g--),this}inEdges(C,D){var z=this.#o[C];if(z){var F=Object.values(z);return D?F.filter(Q=>Q.v===D):F}}outEdges(C,D){var z=this.#s[C];if(z){var F=Object.values(z);return D?F.filter(Q=>Q.w===D):F}}nodeEdges(C,D){var z=this.inEdges(C,D);if(z)return z.concat(this.outEdges(C,D))}}function R(P,C){P[C]?P[C]++:P[C]=1}function V(P,C){--P[C]||delete P[C]}function O(P,C,D,z){var F=""+C,Q=""+D;if(!P&&F>Q){var oe=F;F=Q,Q=oe}return F+q+Q+q+(z===void 0?le:z)}function A(P,C,D,z){var F=""+C,Q=""+D;if(!P&&F>Q){var oe=F;F=Q,Q=oe}var ve={v:F,w:Q};return z&&(ve.name=z),ve}function E(P,C){return O(P,C.v,C.w,C.name)}re.exports=H},459:(re,le,N)=>{re.exports={Graph:N(550),version:N(916)}},643:(re,le,N)=>{var q=N(550);re.exports={write:H,read:O};function H(A){var E={options:{directed:A.isDirected(),multigraph:A.isMultigraph(),compound:A.isCompound()},nodes:R(A),edges:V(A)};return A.graph()!==void 0&&(E.value=structuredClone(A.graph())),E}function R(A){return A.nodes().map(function(E){var P=A.node(E),C=A.parent(E),D={v:E};return P!==void 0&&(D.value=P),C!==void 0&&(D.parent=C),D})}function V(A){return A.edges().map(function(E){var P=A.edge(E),C={v:E.v,w:E.w};return E.name!==void 0&&(C.name=E.name),P!==void 0&&(C.value=P),C})}function O(A){var E=new q(A.options).setGraph(A.value);return A.nodes.forEach(function(P){E.setNode(P.v,P.value),P.parent&&E.setParent(P.v,P.parent)}),A.edges.forEach(function(P){E.setEdge({v:P.v,w:P.w,name:P.name},P.value)}),E}},916:re=>{re.exports="2.1.13"},938:(re,le,N)=>{"use strict";var q;q={value:!0};var H=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof N.g<"u"?N.g:typeof self<"u"?self:{},R=function(d){return d&&d.Math==Math&&d},V=R(typeof globalThis=="object"&&globalThis)||R(typeof window=="object"&&window)||R(typeof self=="object"&&self)||R(typeof H=="object"&&H)||function(){return this}()||H||Function("return this")(),O={},A=function(d){try{return!!d()}catch{return!0}},E=A,P=!E(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),C=A,D=!C(function(){var d=function(){}.bind();return typeof d!="function"||d.hasOwnProperty("prototype")}),z=D,F=Function.prototype.call,Q=z?F.bind(F):function(){return F.apply(F,arguments)},oe={},ve={}.propertyIsEnumerable,Ce=Object.getOwnPropertyDescriptor,he=Ce&&!ve.call({1:2},1);oe.f=he?function(g){var b=Ce(this,g);return!!b&&b.enumerable}:ve;var me=function(d,g){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:g}},ee=D,ce=Function.prototype,pe=ce.call,j=ee&&ce.bind.bind(pe,pe),K=ee?j:function(d){return function(){return pe.apply(d,arguments)}},ne=K,se=ne({}.toString),fe=ne("".slice),we=function(d){return fe(se(d),8,-1)},De=K,Pe=A,Ge=we,$e=Object,Ft=De("".split),Yi=Pe(function(){return!$e("z").propertyIsEnumerable(0)})?function(d){return Ge(d)=="String"?Ft(d,""):$e(d)}:$e,On=function(d){return d==null},xs=On,Ur=TypeError,qa=function(d){if(xs(d))throw Ur("Can't call method on "+d);return d},Ze=Yi,kn=qa,te=function(d){return Ze(kn(d))},ue=typeof document=="object"&&document.all,ge=typeof ue>"u"&&ue!==void 0,Te={all:ue,IS_HTMLDDA:ge},Ne=Te,qe=Ne.all,Be=Ne.IS_HTMLDDA?function(d){return typeof d=="function"||d===qe}:function(d){return typeof d=="function"},rt=Be,Ka=Te,Rt=Ka.all,nt=Ka.IS_HTMLDDA?function(d){return typeof d=="object"?d!==null:rt(d)||d===Rt}:function(d){return typeof d=="object"?d!==null:rt(d)},zt=V,Nn=Be,Qa=function(d){return Nn(d)?d:void 0},Ds=function(d,g){return arguments.length<2?Qa(zt[d]):zt[d]&&zt[d][g]},Is=K,bl=Is({}.isPrototypeOf),wl=typeof navigator<"u"&&String(navigator.userAgent)||"",Ui=V,Wi=wl,Sl=Ui.process,Ps=Ui.Deno,Ja=Sl&&Sl.versions||Ps&&Ps.version,Ye=Ja&&Ja.v8,Ue,Ls;Ye&&(Ue=Ye.split("."),Ls=Ue[0]>0&&Ue[0]<4?1:+(Ue[0]+Ue[1])),!Ls&&Wi&&(Ue=Wi.match(/Edge\/(\d+)/),(!Ue||Ue[1]>=74)&&(Ue=Wi.match(/Chrome\/(\d+)/),Ue&&(Ls=+Ue[1])));var be=Ls,Pt=be,ug=A,it=V,_c=it.String,Kt=!!Object.getOwnPropertySymbols&&!ug(function(){var d=Symbol();return!_c(d)||!(Object(d)instanceof Symbol)||!Symbol.sham&&Pt&&Pt<41}),Ut=Kt,Z=Ut&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Je=Ds,hi=Be,vr=bl,lg=Z,lt=Object,Tl=lg?function(d){return typeof d=="symbol"}:function(d){var g=Je("Symbol");return hi(g)&&vr(g.prototype,lt(d))},ht=String,vn=function(d){try{return ht(d)}catch{return"Object"}},Le=Be,et=vn,ze=TypeError,Cl=function(d){if(Le(d))return d;throw ze(et(d)+" is not a function")},ot=Cl,Re=On,El=function(d,g){var b=d[g];return Re(b)?void 0:ot(b)},At=Q,Xi=Be,ci=nt,bc=TypeError,fg=function(d,g){var b,S;if(g==="string"&&Xi(b=d.toString)&&!ci(S=At(b,d))||Xi(b=d.valueOf)&&!ci(S=At(b,d))||g!=="string"&&Xi(b=d.toString)&&!ci(S=At(b,d)))return S;throw bc("Can't convert object to primitive value")},Ml={exports:{}},Rs=V,We=Object.defineProperty,Wr=function(d,g){try{We(Rs,d,{value:g,configurable:!0,writable:!0})}catch{Rs[d]=g}return g},As=V,xl=Wr,xr="__core-js_shared__",dn=As[xr]||xl(xr,{}),eo=dn,to=eo;(Ml.exports=function(d,g){return to[d]||(to[d]=g!==void 0?g:{})})("versions",[]).push({version:"3.30.2",mode:"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"});var vi=Ml.exports,wc=qa,Dl=Object,Os=function(d){return Dl(wc(d))},Sc=K,ke=Os,Tc=Sc({}.hasOwnProperty),dr=Object.hasOwn||function(g,b){return Tc(ke(g),b)},Il=K,ro=0,Ot=Math.random(),Cc=Il(1 .toString),pn=function(d){return"Symbol("+(d===void 0?"":d)+")_"+Cc(++ro+Ot,36)},kt=V,Xr=vi,Pl=dr,Ll=pn,ks=Kt,Bn=Z,gn=kt.Symbol,Rl=Xr("wks"),Ec=Bn?gn.for||gn:gn&&gn.withoutSetter||Ll,Al=function(d){return Pl(Rl,d)||(Rl[d]=ks&&Pl(gn,d)?gn[d]:Ec("Symbol."+d)),Rl[d]},hg=Q,Mc=nt,xc=Tl,no=El,di=fg,Ns=Al,Dc=TypeError,Ic=Ns("toPrimitive"),Fn=function(d,g){if(!Mc(d)||xc(d))return d;var b=no(d,Ic),S;if(b){if(g===void 0&&(g="default"),S=hg(b,d,g),!Mc(S)||xc(S))return S;throw Dc("Can't convert object to primitive value")}return g===void 0&&(g="number"),di(d,g)},cg=Fn,vg=Tl,jr=function(d){var g=cg(d,"string");return vg(g)?g:g+""},pi=V,zn=nt,mn=pi.document,Pc=zn(mn)&&zn(mn.createElement),Lc=function(d){return Pc?mn.createElement(d):{}},Rc=P,pr=A,Ac=Lc,io=!Rc&&!pr(function(){return Object.defineProperty(Ac("div"),"a",{get:function(){return 7}}).a!=7}),Ol=P,kl=Q,Bs=oe,dg=me,Fs=te,Oc=jr,kc=dr,Nl=io,Bl=Object.getOwnPropertyDescriptor;O.f=Ol?Bl:function(g,b){if(g=Fs(g),b=Oc(b),Nl)try{return Bl(g,b)}catch{}if(kc(g,b))return dg(!kl(Bs.f,g,b),g[b])};var ji={},zs=P,Nc=A,Gs=zs&&Nc(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Bc=nt,Vs=String,Fl=TypeError,Zi=function(d){if(Bc(d))return d;throw Fl(Vs(d)+" is not an object")},gr=P,Fc=io,zc=Gs,ao=Zi,oo=jr,zl=TypeError,Hs=Object.defineProperty,Gl=Object.getOwnPropertyDescriptor,$s="enumerable",qi="configurable",yn="writable";ji.f=gr?zc?function(g,b,S){if(ao(g),b=oo(b),ao(S),typeof g=="function"&&b==="prototype"&&"value"in S&&yn in S&&!S[yn]){var x=Gl(g,b);x&&x[yn]&&(g[b]=S.value,S={configurable:qi in S?S[qi]:x[qi],enumerable:$s in S?S[$s]:x[$s],writable:!1})}return Hs(g,b,S)}:Hs:function(g,b,S){if(ao(g),b=oo(b),ao(S),Fc)try{return Hs(g,b,S)}catch{}if("get"in S||"set"in S)throw zl("Accessors not supported");return"value"in S&&(g[b]=S.value),g};var Gc=P,Ys=ji,Us=me,gi=Gc?function(d,g,b){return Ys.f(d,g,Us(1,b))}:function(d,g,b){return d[g]=b,d},Vl={exports:{}},Ws=P,Hl=dr,Vc=Function.prototype,Hc=Ws&&Object.getOwnPropertyDescriptor,yt=Hl(Vc,"name"),so=yt&&function(){}.name==="something",uo=yt&&(!Ws||Ws&&Hc(Vc,"name").configurable),Gn={EXISTS:yt,PROPER:so,CONFIGURABLE:uo},Vn=K,Hn=Be,Zr=eo,Ki=Vn(Function.toString);Hn(Zr.inspectSource)||(Zr.inspectSource=function(d){return Ki(d)});var Qi=Zr.inspectSource,$c=V,Ke=Be,Xs=$c.WeakMap,Yc=Ke(Xs)&&/native code/.test(String(Xs)),Uc=vi,Wc=pn,mi=Uc("keys"),Xc=function(d){return mi[d]||(mi[d]=Wc(d))},lo={},$l=Yc,Yl=V,Ul=nt,Wl=gi,js=dr,fo=eo,Ji=Xc,Xl=lo,jl="Object already initialized",ho=Yl.TypeError,jc=Yl.WeakMap,ea,$n,yi,Zc=function(d){return yi(d)?$n(d):ea(d,{})},co=function(d){return function(g){var b;if(!Ul(g)||(b=$n(g)).type!==d)throw ho("Incompatible receiver, "+d+" required");return b}};if($l||fo.state){var st=fo.state||(fo.state=new jc);st.get=st.get,st.has=st.has,st.set=st.set,ea=function(d,g){if(st.has(d))throw ho(jl);return g.facade=d,st.set(d,g),g},$n=function(d){return st.get(d)||{}},yi=function(d){return st.has(d)}}else{var Dr=Ji("state");Xl[Dr]=!0,ea=function(d,g){if(js(d,Dr))throw ho(jl);return g.facade=d,Wl(d,Dr,g),g},$n=function(d){return js(d,Dr)?d[Dr]:{}},yi=function(d){return js(d,Dr)}}var _i={set:ea,get:$n,has:yi,enforce:Zc,getterFor:co},vo=K,Zs=A,Zl=Be,po=dr,qs=P,ql=Gn.CONFIGURABLE,Ks=Qi,ta=_i,Kl=ta.enforce,go=ta.get,qr=String,Yn=Object.defineProperty,Ql=vo("".slice),Jl=vo("".replace),mo=vo([].join),Ir=qs&&!Zs(function(){return Yn(function(){},"length",{value:8}).length!==8}),Qt=String(String).split("String"),bi=Vl.exports=function(d,g,b){Ql(qr(g),0,7)==="Symbol("&&(g="["+Jl(qr(g),/^Symbol\(([^)]*)\)/,"$1")+"]"),b&&b.getter&&(g="get "+g),b&&b.setter&&(g="set "+g),(!po(d,"name")||ql&&d.name!==g)&&(qs?Yn(d,"name",{value:g,configurable:!0}):d.name=g),Ir&&b&&po(b,"arity")&&d.length!==b.arity&&Yn(d,"length",{value:b.arity});try{b&&po(b,"constructor")&&b.constructor?qs&&Yn(d,"prototype",{writable:!1}):d.prototype&&(d.prototype=void 0)}catch{}var S=Kl(d);return po(S,"source")||(S.source=mo(Qt,typeof g=="string"?g:"")),d};Function.prototype.toString=bi(function(){return Zl(this)&&go(this).source||Ks(this)},"toString");var _n=Vl.exports,ef=Be,_t=ji,tf=_n,rf=Wr,nf=function(d,g,b,S){S||(S={});var x=S.enumerable,B=S.name!==void 0?S.name:g;if(ef(b)&&tf(b,B,S),S.global)x?d[g]=b:rf(g,b);else{try{S.unsafe?d[g]&&(x=!0):delete d[g]}catch{}x?d[g]=b:_t.f(d,g,{value:b,enumerable:!1,configurable:!S.nonConfigurable,writable:!S.nonWritable})}return d},ra={},qc=Math.ceil,Kc=Math.floor,bt=Math.trunc||function(g){var b=+g;return(b>0?Kc:qc)(b)},af=bt,of=function(d){var g=+d;return g!==g||g===0?0:af(g)},sf=of,na=Math.max,Qc=Math.min,Jc=function(d,g){var b=sf(d);return b<0?na(b+g,0):Qc(b,g)},ev=of,uf=Math.min,tv=function(d){return d>0?uf(ev(d),9007199254740991):0},rv=tv,yo=function(d){return rv(d.length)},nv=te,iv=Jc,ia=yo,Qs=function(d){return function(g,b,S){var x=nv(g),B=ia(x),Y=iv(S,B),W;if(d&&b!=b){for(;B>Y;)if(W=x[Y++],W!=W)return!0}else for(;B>Y;Y++)if((d||Y in x)&&x[Y]===b)return d||Y||0;return!d&&-1}},mr={includes:Qs(!0),indexOf:Qs(!1)},av=K,Un=dr,Js=te,Wn=mr.indexOf,eu=lo,Kr=av([].push),Jt=function(d,g){var b=Js(d),S=0,x=[],B;for(B in b)!Un(eu,B)&&Un(b,B)&&Kr(x,B);for(;g.length>S;)Un(b,B=g[S++])&&(~Wn(x,B)||Kr(x,B));return x},tu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],lf=Jt,_o=tu,wi=_o.concat("length","prototype");ra.f=Object.getOwnPropertyNames||function(g){return lf(g,wi)};var er={};er.f=Object.getOwnPropertySymbols;var ru=Ds,ov=K,ff=ra,pg=er,gg=Zi,mg=ov([].concat),yg=ru("Reflect","ownKeys")||function(g){var b=ff.f(gg(g)),S=pg.f;return S?mg(b,S(g)):b},sv=dr,_g=yg,bg=O,Si=ji,aa=function(d,g,b){for(var S=_g(g),x=Si.f,B=bg.f,Y=0;Y<S.length;Y++){var W=S[Y];!sv(d,W)&&!(b&&sv(b,W))&&x(d,W,B(g,W))}},wg=A,oa=Be,Sg=/#|\.prototype\./,Ti=function(d,g){var b=bo[Tg(d)];return b==Cg?!0:b==hf?!1:oa(g)?wg(g):!!g},Tg=Ti.normalize=function(d){return String(d).replace(Sg,".").toLowerCase()},bo=Ti.data={},hf=Ti.NATIVE="N",Cg=Ti.POLYFILL="P",Eg=Ti,cf=V,Mg=O.f,xg=gi,Dg=nf,Ig=Wr,uv=aa,lv=Eg,vf=function(d,g){var b=d.target,S=d.global,x=d.stat,B,Y,W,J,ae,Se;if(S?Y=cf:x?Y=cf[b]||Ig(b,{}):Y=(cf[b]||{}).prototype,Y)for(W in g){if(ae=g[W],d.dontCallGetSet?(Se=Mg(Y,W),J=Se&&Se.value):J=Y[W],B=lv(S?W:b+(x?".":"#")+W,d.forced),!B&&J!==void 0){if(typeof ae==typeof J)continue;uv(ae,J)}(d.sham||J&&J.sham)&&xg(ae,"sham",!0),Dg(Y,W,ae,d)}},fv=we,hv=Array.isArray||function(g){return fv(g)=="Array"},Pg=P,Lg=hv,Rg=TypeError,Ag=Object.getOwnPropertyDescriptor,Og=Pg&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(d){return d instanceof TypeError}}(),wo=Og?function(d,g){if(Lg(d)&&!Ag(d,"length").writable)throw Rg("Cannot set read only .length");return d.length=g}:function(d,g){return d.length=g},Qr=TypeError,nu=9007199254740991,df=function(d){if(d>nu)throw Qr("Maximum allowed index exceeded");return d},So=vf,pf=Os,cv=yo,vv=wo,To=df,Co=A,dv=Co(function(){return[].push.call({length:4294967296},1)!==4294967297}),Eo=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(d){return d instanceof TypeError}},Mo=dv||!Eo();So({target:"Array",proto:!0,arity:1,forced:Mo},{push:function(g){var b=pf(this),S=cv(b),x=arguments.length;To(S+x);for(var B=0;B<x;B++)b[S]=arguments[B],S++;return vv(b,S),S}});function wt(d,g){let b=d.length;Array.isArray(d[0])||(d=[d]),Array.isArray(g[0])||(g=g.map(Y=>[Y]));let S=g[0].length,x=g[0].map((Y,W)=>g.map(J=>J[W])),B=d.map(Y=>x.map(W=>{let J=0;if(!Array.isArray(Y)){for(let ae of W)J+=Y*ae;return J}for(let ae=0;ae<Y.length;ae++)J+=Y[ae]*(W[ae]||0);return J}));return b===1&&(B=B[0]),S===1?B.map(Y=>Y[0]):B}function Jr(d){return Pr(d)==="string"}function Pr(d){return(Object.prototype.toString.call(d).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function Ci(d,g){d=+d,g=+g;let b=(Math.floor(d)+"").length;if(g>b)return+d.toFixed(g-b);{let S=10**(b-g);return Math.round(d/S)*S}}function iu(d){if(!d)return;d=d.trim();const g=/^([a-z]+)\((.+?)\)$/i,b=/^-?[\d.]+$/;let S=d.match(g);if(S){let x=[];return S[2].replace(/\/?\s*([-\w.]+(?:%|deg)?)/g,(B,Y)=>{/%$/.test(Y)?(Y=new Number(Y.slice(0,-1)/100),Y.type="<percentage>"):/deg$/.test(Y)?(Y=new Number(+Y.slice(0,-3)),Y.type="<angle>",Y.unit="deg"):b.test(Y)&&(Y=new Number(Y),Y.type="<number>"),B.startsWith("/")&&(Y=Y instanceof Number?Y:new Number(Y),Y.alpha=!0),x.push(Y)}),{name:S[1].toLowerCase(),rawName:S[1],rawArgs:S[2],args:x}}}function au(d){return d[d.length-1]}function Xn(d,g,b){return isNaN(d)?g:isNaN(g)?d:d+(g-d)*b}function Ei(d,g,b){return(b-d)/(g-d)}function ou(d,g,b){return Xn(g[0],g[1],Ei(d[0],d[1],b))}function gf(d){return d.map(g=>g.split("|").map(b=>{b=b.trim();let S=b.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(S){let x=new String(S[1]);return x.range=[+S[2],+S[3]],x}return b}))}var su=Object.freeze({__proto__:null,interpolate:Xn,interpolateInv:Ei,isString:Jr,last:au,mapRange:ou,multiplyMatrices:wt,parseCoordGrammar:gf,parseFunction:iu,toPrecision:Ci,type:Pr});class Mi{add(g,b,S){if(typeof arguments[0]!="string"){for(var g in arguments[0])this.add(g,arguments[0][g],arguments[1]);return}(Array.isArray(g)?g:[g]).forEach(function(x){this[x]=this[x]||[],b&&this[x][S?"unshift":"push"](b)},this)}run(g,b){this[g]=this[g]||[],this[g].forEach(function(S){S.call(b&&b.context?b.context:b,b)})}}var sa=new Mi,Lr={gamut_mapping:"lch.c",precision:5,deltaE:"76"},uu=D,xo=Function.prototype,lu=xo.apply,fu=xo.call,hu=typeof Reflect=="object"&&Reflect.apply||(uu?fu.bind(lu):function(){return fu.apply(lu,arguments)}),pv=K,cu=Cl,gv=function(d,g,b){try{return pv(cu(Object.getOwnPropertyDescriptor(d,g)[b]))}catch{}},mf=Be,mv=String,yr=TypeError,vu=function(d){if(typeof d=="object"||mf(d))return d;throw yr("Can't set "+mv(d)+" as a prototype")},yv=gv,_v=Zi,Do=vu,Io=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,g={},b;try{b=yv(Object.prototype,"__proto__","set"),b(g,[]),d=g instanceof Array}catch{}return function(x,B){return _v(x),Do(B),d?b(x,B):x.__proto__=B,x}}():void 0),yf=ji.f,bv=function(d,g,b){b in d||yf(d,b,{configurable:!0,get:function(){return g[b]},set:function(S){g[b]=S}})},wv=Be,_f=nt,Sv=Io,Po=function(d,g,b){var S,x;return Sv&&wv(S=g.constructor)&&S!==b&&_f(x=S.prototype)&&x!==b.prototype&&Sv(d,x),d},du=Al,pu=du("toStringTag"),Lo={};Lo[pu]="z";var Tv=String(Lo)==="[object z]",bf=Tv,wf=Be,Rr=we,jn=Al,xi=jn("toStringTag"),gu=Object,mu=Rr(function(){return arguments}())=="Arguments",Cv=function(d,g){try{return d[g]}catch{}},ua=bf?Rr:function(d){var g,b,S;return d===void 0?"Undefined":d===null?"Null":typeof(b=Cv(g=gu(d),xi))=="string"?b:mu?Rr(g):(S=Rr(g))=="Object"&&wf(g.callee)?"Arguments":S},Ev=ua,Di=String,Sf=function(d){if(Ev(d)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Di(d)},Wt=Sf,Tf=function(d,g){return d===void 0?arguments.length<2?"":g:Wt(d)},Mv=nt,la=gi,Ii=function(d,g){Mv(g)&&"cause"in g&&la(d,"cause",g.cause)},yu=K,xv=Error,fa=yu("".replace),Cf=function(d){return String(xv(d).stack)}("zxcasd"),Ro=/\n\s*at [^:]*:[^\n]*/,_u=Ro.test(Cf),Dv=function(d,g){if(_u&&typeof d=="string"&&!xv.prepareStackTrace)for(;g--;)d=fa(d,Ro,"");return d},Pi=A,Iv=me,bu=!Pi(function(){var d=Error("a");return"stack"in d?(Object.defineProperty(d,"stack",Iv(1,7)),d.stack!==7):!0}),wu=gi,Su=Dv,Pv=bu,Ef=Error.captureStackTrace,Lv=function(d,g,b,S){Pv&&(Ef?Ef(d,g):wu(d,"stack",Su(b,S)))},Mf=Ds,xf=dr,Tu=gi,Df=bl,en=Io,ha=aa,bn=bv,Rv=Po,Av=Tf,Ov=Ii,If=Lv,Ng=P,Bg=function(d,g,b,S){var x="stackTraceLimit",B=S?2:1,Y=d.split("."),W=Y[Y.length-1],J=Mf.apply(null,Y);if(J){var ae=J.prototype;if(xf(ae,"cause")&&delete ae.cause,!b)return J;var Se=Mf("Error"),ye=g(function(Me,Ae){var Fe=Av(S?Ae:Me,void 0),Ve=S?new J(Me):new J;return Fe!==void 0&&Tu(Ve,"message",Fe),If(Ve,ye,Ve.stack,2),this&&Df(ae,this)&&Rv(Ve,this,ye),arguments.length>B&&Ov(Ve,arguments[B]),Ve});ye.prototype=ae,W!=="Error"?en?en(ye,Se):ha(ye,Se,{name:!0}):Ng&&x in J&&(bn(ye,J,x),bn(ye,J,"prepareStackTrace")),ha(ye,J);try{ae.name!==W&&Tu(ae,"name",W),ae.constructor=ye}catch{}return ye}},kv=vf,Nv=V,tn=hu,Cu=Bg,Ao="WebAssembly",Pf=Nv[Ao],ca=Error("e",{cause:7}).cause!==7,Lt=function(d,g){var b={};b[d]=Cu(d,g,ca),kv({global:!0,constructor:!0,arity:1,forced:ca},b)},Oo=function(d,g){if(Pf&&Pf[d]){var b={};b[d]=Cu(Ao+"."+d,g,ca),kv({target:Ao,stat:!0,constructor:!0,arity:1,forced:ca},b)}};Lt("Error",function(d){return function(b){return tn(d,this,arguments)}}),Lt("EvalError",function(d){return function(b){return tn(d,this,arguments)}}),Lt("RangeError",function(d){return function(b){return tn(d,this,arguments)}}),Lt("ReferenceError",function(d){return function(b){return tn(d,this,arguments)}}),Lt("SyntaxError",function(d){return function(b){return tn(d,this,arguments)}}),Lt("TypeError",function(d){return function(b){return tn(d,this,arguments)}}),Lt("URIError",function(d){return function(b){return tn(d,this,arguments)}}),Oo("CompileError",function(d){return function(b){return tn(d,this,arguments)}}),Oo("LinkError",function(d){return function(b){return tn(d,this,arguments)}}),Oo("RuntimeError",function(d){return function(b){return tn(d,this,arguments)}});const rn={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function ko(d){return Array.isArray(d)?d:rn[d]}function No(d,g,b){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(d=ko(d),g=ko(g),!d||!g)throw new TypeError(`Missing white point to convert ${d?"":"from"}${!d&&!g?"/":""}${g?"":"to"}`);if(d===g)return b;let x={W1:d,W2:g,XYZ:b,options:S};if(sa.run("chromatic-adaptation-start",x),x.M||(x.W1===rn.D65&&x.W2===rn.D50?x.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:x.W1===rn.D50&&x.W2===rn.D65&&(x.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),sa.run("chromatic-adaptation-end",x),x.M)return wt(x.M,x.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const Fg=75e-6;class Ie{constructor(g){var b,S,x,B,Y,W,J;this.id=g.id,this.name=g.name,this.base=g.base?Ie.get(g.base):null,this.aliases=g.aliases,this.base&&(this.fromBase=g.fromBase,this.toBase=g.toBase);let ae=(b=g.coords)!==null&&b!==void 0?b:this.base.coords;for(let ye in ae)"name"in ae[ye]||(ae[ye].name=ye);this.coords=ae;let Se=(S=(x=g.white)!==null&&x!==void 0?x:this.base.white)!==null&&S!==void 0?S:"D65";this.white=ko(Se),this.formats=(B=g.formats)!==null&&B!==void 0?B:{};for(let ye in this.formats){let Me=this.formats[ye];Me.type||(Me.type="function"),Me.name||(Me.name=ye)}g.cssId&&!((Y=this.formats.functions)!==null&&Y!==void 0&&Y.color)?(this.formats.color={id:g.cssId},Object.defineProperty(this,"cssId",{value:g.cssId})):(W=this.formats)!==null&&W!==void 0&&W.color&&!((J=this.formats)!==null&&J!==void 0&&J.color.id)&&(this.formats.color.id=this.id),this.referred=g.referred,Object.defineProperty(this,"path",{value:Bv(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),sa.run("colorspace-init-end",this)}inGamut(g){let{epsilon:b=Fg}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isPolar)return g=this.toBase(g),this.base.inGamut(g,{epsilon:b});let S=Object.values(this.coords);return g.every((x,B)=>{let Y=S[B];if(Y.type!=="angle"&&Y.range){if(Number.isNaN(x))return!0;let[W,J]=Y.range;return(W===void 0||x>=W-b)&&(J===void 0||x<=J+b)}return!0})}get cssId(){var g,b;return((g=this.formats.functions)===null||g===void 0||(b=g.color)===null||b===void 0?void 0:b.id)||this.id}get isPolar(){for(let g in this.coords)if(this.coords[g].type==="angle")return!0;return!1}getFormat(g){if(typeof g=="object")return g=Lf(g,this),g;let b;return g==="default"?b=Object.values(this.formats)[0]:b=this.formats[g],b?(b=Lf(b,this),b):null}equals(g){return g?this===g||this.id===g.id:!1}to(g,b){if(arguments.length===1&&([g,b]=[g.space,g.coords]),g=Ie.get(g),this.equals(g))return b;b=b.map(W=>Number.isNaN(W)?0:W);let S=this.path,x=g.path,B,Y;for(let W=0;W<S.length&&S[W].equals(x[W]);W++)B=S[W],Y=W;if(!B)throw new Error(`Cannot convert between color spaces ${this} and ${g}: no connection space was found`);for(let W=S.length-1;W>Y;W--)b=S[W].toBase(b);for(let W=Y+1;W<x.length;W++)b=x[W].fromBase(b);return b}from(g,b){return arguments.length===1&&([g,b]=[g.space,g.coords]),g=Ie.get(g),g.to(this,b)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let g=[];for(let S in this.coords){var b;let x=this.coords[S],B=x.range||x.refRange;g.push((b=B?.min)!==null&&b!==void 0?b:0)}return g}static registry={};static get all(){return[...new Set(Object.values(Ie.registry))]}static register(g,b){if(arguments.length===1&&(b=arguments[0],g=b.id),b=this.get(b),this.registry[g]&&this.registry[g]!==b)throw new Error(`Duplicate color space registration: '${g}'`);if(this.registry[g]=b,arguments.length===1&&b.aliases)for(let S of b.aliases)this.register(S,b);return b}static get(g){if(!g||g instanceof Ie)return g;if(Pr(g)==="string"){let Y=Ie.registry[g.toLowerCase()];if(!Y)throw new TypeError(`No color space found with id = "${g}"`);return Y}for(var S=arguments.length,x=new Array(S>1?S-1:0),B=1;B<S;B++)x[B-1]=arguments[B];if(x.length)return Ie.get(...x);throw new TypeError(`${g} is not a valid color space`)}static resolveCoord(g,b){let S=Pr(g),x,B;if(S==="string"?g.includes(".")?[x,B]=g.split("."):[x,B]=[,g]:Array.isArray(g)?[x,B]=g:(x=g.space,B=g.coordId),x=Ie.get(x),x||(x=b),!x)throw new TypeError(`Cannot resolve coordinate reference ${g}: No color space specified and relative references are not allowed here`);if(S=Pr(B),S==="number"||S==="string"&&B>=0){let ae=Object.entries(x.coords)[B];if(ae)return{space:x,id:ae[0],index:B,...ae[1]}}x=Ie.get(x);let Y=B.toLowerCase(),W=0;for(let ae in x.coords){var J;let Se=x.coords[ae];if(ae.toLowerCase()===Y||((J=Se.name)===null||J===void 0?void 0:J.toLowerCase())===Y)return{space:x,id:ae,index:W,...Se};W++}throw new TypeError(`No "${B}" coordinate found in ${x.name}. Its coordinates are: ${Object.keys(x.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}function Bv(d){let g=[d];for(let b=d;b=b.base;)g.push(b);return g}function Lf(d){let{coords:g}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(d.coords&&!d.coordGrammar){d.type||(d.type="function"),d.name||(d.name="color"),d.coordGrammar=gf(d.coords);let b=Object.entries(g).map((S,x)=>{let[B,Y]=S,W=d.coordGrammar[x][0],J=Y.range||Y.refRange,ae=W.range,Se="";return W=="<percentage>"?(ae=[0,100],Se="%"):W=="<angle>"&&(Se="deg"),{fromRange:J,toRange:ae,suffix:Se}});d.serializeCoords=(S,x)=>S.map((B,Y)=>{let{fromRange:W,toRange:J,suffix:ae}=b[Y];return W&&J&&(B=ou(W,J,B)),B=Ci(B,x),ae&&(B+=ae),B})}return d}var _r=new Ie({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class Xt extends Ie{constructor(g){var b;if(g.coords||(g.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),g.base||(g.base=_r),g.toXYZ_M&&g.fromXYZ_M){var S,x;(S=g.toBase)!==null&&S!==void 0||(g.toBase=B=>{let Y=wt(g.toXYZ_M,B);return this.white!==this.base.white&&(Y=No(this.white,this.base.white,Y)),Y}),(x=g.fromBase)!==null&&x!==void 0||(g.fromBase=B=>(B=No(this.base.white,this.white,B),wt(g.fromXYZ_M,B)))}(b=g.referred)!==null&&b!==void 0||(g.referred="display"),super(g)}}function Fv(d){var g;let{meta:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S={str:(g=String(d))===null||g===void 0?void 0:g.trim()};if(sa.run("parse-start",S),S.color)return S.color;if(S.parsed=iu(S.str),S.parsed){let ae=S.parsed.name;if(ae==="color"){let Se=S.parsed.args.shift(),ye=S.parsed.rawArgs.indexOf("/")>0?S.parsed.args.pop():1;for(let Ae of Ie.all){let Fe=Ae.getFormat("color");if(Fe){var x;if(Se===Fe.id||(x=Fe.ids)!==null&&x!==void 0&&x.includes(Se)){const Ve=Object.keys(Ae.coords).map((ct,Et)=>S.parsed.args[Et]||0);return b&&(b.formatId="color"),{spaceId:Ae.id,coords:Ve,alpha:ye}}}}let Me="";if(Se in Ie.registry){var B,Y,W;let Ae=(B=Ie.registry[Se].formats)===null||B===void 0||(Y=B.functions)===null||Y===void 0||(W=Y.color)===null||W===void 0?void 0:W.id;Ae&&(Me=`Did you mean color(${Ae})?`)}throw new TypeError(`Cannot parse color(${Se}). `+(Me||"Missing a plugin?"))}else for(let Se of Ie.all){let ye=Se.getFormat(ae);if(ye&&ye.type==="function"){let Me=1;(ye.lastAlpha||au(S.parsed.args).alpha)&&(Me=S.parsed.args.pop());let Ae=S.parsed.args,Fe;return ye.coordGrammar&&(Fe=Object.entries(Se.coords).map((Ve,ct)=>{var Et;let[dt,jt]=Ve,Er=ye.coordGrammar[ct],ir=(Et=Ae[ct])===null||Et===void 0?void 0:Et.type,Vt=Er.find(or=>or==ir);if(!Vt){let or=jt.name||dt;throw new TypeError(`${ir} not allowed for ${or} in ${ae}()`)}let ar=Vt.range;ir==="<percentage>"&&(ar||(ar=[0,1]));let Mt=jt.range||jt.refRange;return ar&&Mt&&(Ae[ct]=ou(ar,Mt,Ae[ct])),Vt})),b&&Object.assign(b,{formatId:ye.name,types:Fe}),{spaceId:Se.id,coords:Ae,alpha:Me}}}}else for(let ae of Ie.all)for(let Se in ae.formats){let ye=ae.formats[Se];if(ye.type!=="custom"||ye.test&&!ye.test(S.str))continue;let Me=ye.parse(S.str);if(Me){var J;return(J=Me.alpha)!==null&&J!==void 0||(Me.alpha=1),b&&(b.formatId=Se),Me}}throw new TypeError(`Could not parse ${d} as a color. Missing a plugin?`)}function je(d){if(!d)throw new TypeError("Empty color reference");Jr(d)&&(d=Fv(d));let g=d.space||d.spaceId;return g instanceof Ie||(d.space=Ie.get(g)),d.alpha===void 0&&(d.alpha=1),d}function Li(d,g){return g=Ie.get(g),g.from(d)}function br(d,g){let{space:b,index:S}=Ie.resolveCoord(g,d.space);return Li(d,b)[S]}function Eu(d,g,b){return g=Ie.get(g),d.coords=g.to(d.space,b),d}function Zn(d,g,b){if(d=je(d),arguments.length===2&&Pr(arguments[1])==="object"){let S=arguments[1];for(let x in S)Zn(d,x,S[x])}else{typeof b=="function"&&(b=b(br(d,g)));let{space:S,index:x}=Ie.resolveCoord(g,d.space),B=Li(d,S);B[x]=b,Eu(d,S,B)}return d}var Rf=new Ie({id:"xyz-d50",name:"XYZ D50",white:"D50",base:_r,fromBase:d=>No(_r.white,"D50",d),toBase:d=>No("D50",_r.white,d),formats:{color:{}}});const zg=216/24389,wn=24/116,Mu=24389/27;let Bo=rn.D50;var Gt=new Ie({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Bo,base:Rf,fromBase(d){let b=d.map((S,x)=>S/Bo[x]).map(S=>S>zg?Math.cbrt(S):(Mu*S+16)/116);return[116*b[1]-16,500*(b[0]-b[1]),200*(b[1]-b[2])]},toBase(d){let g=[];return g[1]=(d[0]+16)/116,g[0]=d[1]/500+g[1],g[2]=g[1]-d[2]/200,[g[0]>wn?Math.pow(g[0],3):(116*g[0]-16)/Mu,d[0]>8?Math.pow((d[0]+16)/116,3):d[0]/Mu,g[2]>wn?Math.pow(g[2],3):(116*g[2]-16)/Mu].map((S,x)=>S*Bo[x])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function va(d){return(d%360+360)%360}function Af(d,g){if(d==="raw")return g;let[b,S]=g.map(va),x=S-b;return d==="increasing"?x<0&&(S+=360):d==="decreasing"?x>0&&(b+=360):d==="longer"?-180<x&&x<180&&(x>0?b+=360:S+=360):d==="shorter"&&(x>180?b+=360:x<-180&&(S+=360)),[b,S]}var Ri=new Ie({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Gt,fromBase(d){let[g,b,S]=d,x;const B=.02;return Math.abs(b)<B&&Math.abs(S)<B?x=NaN:x=Math.atan2(S,b)*180/Math.PI,[g,Math.sqrt(b**2+S**2),va(x)]},toBase(d){let[g,b,S]=d;return b<0&&(b=0),isNaN(S)&&(S=0),[g,b*Math.cos(S*Math.PI/180),b*Math.sin(S*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const xu=25**7,vt=Math.PI,Fo=180/vt,qn=vt/180;function Kn(d,g){let{kL:b=1,kC:S=1,kH:x=1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},[B,Y,W]=Gt.from(d),J=Ri.from(Gt,[B,Y,W])[1],[ae,Se,ye]=Gt.from(g),Me=Ri.from(Gt,[ae,Se,ye])[1];J<0&&(J=0),Me<0&&(Me=0);let Fe=((J+Me)/2)**7,Ve=.5*(1-Math.sqrt(Fe/(Fe+xu))),ct=(1+Ve)*Y,Et=(1+Ve)*Se,dt=Math.sqrt(ct**2+W**2),jt=Math.sqrt(Et**2+ye**2),Er=ct===0&&W===0?0:Math.atan2(W,ct),ir=Et===0&&ye===0?0:Math.atan2(ye,Et);Er<0&&(Er+=2*vt),ir<0&&(ir+=2*vt),Er*=Fo,ir*=Fo;let Vt=ae-B,ar=jt-dt,Mt=ir-Er,or=Er+ir,Bi=Math.abs(Mt),kr;dt*jt===0?kr=0:Bi<=180?kr=Mt:Mt>180?kr=Mt-360:Mt<-180?kr=Mt+360:console.log("the unthinkable has happened");let Uu=2*Math.sqrt(jt*dt)*Math.sin(kr*qn/2),yh=(B+ae)/2,Fi=(dt+jt)/2,Wu=Math.pow(Fi,7),Nr;dt*jt===0?Nr=or:Bi<=180?Nr=or/2:or<360?Nr=(or+360)/2:Nr=(or-360)/2;let es=(yh-50)**2,_h=1+.015*es/Math.sqrt(20+es),bh=1+.045*Fi,Ia=1;Ia-=.17*Math.cos((Nr-30)*qn),Ia+=.24*Math.cos(2*Nr*qn),Ia+=.32*Math.cos((3*Nr+6)*qn),Ia-=.2*Math.cos((4*Nr-63)*qn);let Xu=1+.015*Fi*Ia,ln=30*Math.exp(-1*((Nr-275)/25)**2),Wg=2*Math.sqrt(Wu/(Wu+xu)),Xg=-1*Math.sin(2*ln*qn)*Wg,ts=(Vt/(b*_h))**2;return ts+=(ar/(S*bh))**2,ts+=(Uu/(x*Xu))**2,ts+=Xg*(ar/(S*bh))*(Uu/(x*Xu)),Math.sqrt(ts)}const zv=75e-6;function da(d){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.space,{epsilon:b=zv}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};d=je(d),g=Ie.get(g);let S=d.coords;return g!==d.space&&(S=g.from(d)),g.inGamut(S,{epsilon:b})}function pa(d){return{space:d.space,coords:d.coords.slice(),alpha:d.alpha}}function Sn(d){let{method:g=Lr.gamut_mapping,space:b=d.space}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Jr(arguments[1])&&(b=arguments[1]),b=Ie.get(b),da(d,b,{epsilon:0}))return je(d);let S=tr(d,b);if(g!=="clip"&&!da(d,b)){let x=Sn(pa(S),{method:"clip",space:b});if(Kn(d,x)>2){let B=Ie.resolveCoord(g),Y=B.space,W=B.id,J=tr(S,Y),Se=(B.range||B.refRange)[0],ye=.01,Me=Se,Ae=br(J,W);for(;Ae-Me>ye;){let Fe=pa(J);Fe=Sn(Fe,{space:b,method:"clip"}),Kn(J,Fe)-2<ye?Me=br(J,W):Ae=br(J,W),Zn(J,W,(Me+Ae)/2)}S=tr(J,b)}else S=x}if(g==="clip"||!da(S,b,{epsilon:0})){let x=Object.values(b.coords).map(B=>B.range||[]);S.coords=S.coords.map((B,Y)=>{let[W,J]=x[Y];return W!==void 0&&(B=Math.max(W,B)),J!==void 0&&(B=Math.min(B,J)),B})}return b!==d.space&&(S=tr(S,d.space)),d.coords=S.coords,d}Sn.returns="color";function tr(d,g){let{inGamut:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};d=je(d),g=Ie.get(g);let S=g.from(d),x={space:g,coords:S,alpha:d.alpha};return b&&(x=Sn(x)),x}tr.returns="color";var Of=vn,Gv=TypeError,Vv=function(d,g){if(!delete d[g])throw Gv("Cannot delete property "+Of(g)+" of "+Of(d))},kf=vf,ga=Os,rr=yo,Gg=wo,Vg=Vv,Nf=df,ma=[].unshift(0)!==1,Hg=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(d){return d instanceof TypeError}},Hv=ma||!Hg();kf({target:"Array",proto:!0,arity:1,forced:Hv},{unshift:function(g){var b=ga(this),S=rr(b),x=arguments.length;if(x){Nf(S+x);for(var B=S;B--;){var Y=B+x;B in b?b[Y]=b[B]:Vg(b,Y)}for(var W=0;W<x;W++)b[W]=arguments[W]}return Gg(b,S+x)}});function zo(d){var g,b;let{precision:S=Lr.precision,format:x="default",inGamut:B=!0,...Y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W;d=je(d);let J=x;x=(g=(b=d.space.getFormat(x))!==null&&b!==void 0?b:d.space.getFormat("default"))!==null&&g!==void 0?g:Ie.DEFAULT_FORMAT,B||(B=x.toGamut);let ae=d.coords;if(ae=ae.map(ye=>ye||0),B&&!da(d)&&(ae=Sn(pa(d),B===!0?void 0:B).coords),x.type==="custom")if(Y.precision=S,x.serialize)W=x.serialize(ae,d.alpha,Y);else throw new TypeError(`format ${J} can only be used to parse colors, not for serialization`);else{let ye=x.name||"color";x.serializeCoords?ae=x.serializeCoords(ae,S):S!==null&&(ae=ae.map(Ve=>Ci(Ve,S)));let Me=[...ae];if(ye==="color"){var Se;let Ve=x.id||((Se=x.ids)===null||Se===void 0?void 0:Se[0])||d.space.id;Me.unshift(Ve)}let Ae=d.alpha;S!==null&&(Ae=Ci(Ae,S));let Fe=d.alpha<1&&!x.noAlpha?`${x.commas?",":" /"} ${Ae}`:"";W=`${ye}(${Me.join(x.commas?", ":" ")}${Fe})`}return W}const $g=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],Go=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]];var mt=new Xt({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:$g,fromXYZ_M:Go,formats:{color:{}}});const Vo=1.09929682680944,Ho=.018053968510807;var Du=new Xt({id:"rec2020",name:"REC.2020",base:mt,toBase(d){return d.map(function(g){return g<Ho*4.5?g/4.5:Math.pow((g+Vo-1)/Vo,1/.45)})},fromBase(d){return d.map(function(g){return g>=Ho?Vo*Math.pow(g,.45)-(Vo-1):4.5*g})},formats:{color:{}}});const Qn=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],Yg=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]];var ya=new Xt({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:Qn,fromXYZ_M:Yg});const Bf=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],$v=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var Yv=new Xt({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:Bf,fromXYZ_M:$v,formats:{color:{}}}),Uv={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let Wv=Array(3).fill("<percentage> | <number>[0, 255]"),Ff=Array(3).fill("<number>[0, 255]");var wr=new Xt({id:"srgb",name:"sRGB",base:Yv,fromBase:d=>d.map(g=>{let b=g<0?-1:1,S=g*b;return S>.0031308?b*(1.055*S**(1/2.4)-.055):12.92*g}),toBase:d=>d.map(g=>{let b=g<0?-1:1,S=g*b;return S<.04045?g/12.92:b*((S+.055)/1.055)**2.4}),formats:{rgb:{coords:Wv},rgb_number:{name:"rgb",commas:!0,coords:Ff,noAlpha:!0},color:{},rgba:{coords:Wv,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:Ff},hex:{type:"custom",toGamut:!0,test:d=>/^#([a-f0-9]{3,4}){1,2}$/i.test(d),parse(d){d.length<=5&&(d=d.replace(/[a-f0-9]/gi,"$&$&"));let g=[];return d.replace(/[a-f0-9]{2}/gi,b=>{g.push(parseInt(b,16)/255)}),{spaceId:"srgb",coords:g.slice(0,3),alpha:g.slice(3)[0]}},serialize:function(d,g){let{collapse:b=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};g<1&&d.push(g),d=d.map(B=>Math.round(B*255));let S=b&&d.every(B=>B%17===0);return"#"+d.map(B=>S?(B/17).toString(16):B.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:d=>/^[a-z]+$/i.test(d),parse(d){d=d.toLowerCase();let g={spaceId:"srgb",coords:null,alpha:1};if(d==="transparent"?(g.coords=Uv.black,g.alpha=0):g.coords=Uv[d],g.coords)return g}}}}),Iu=new Xt({id:"p3",name:"P3",base:ya,fromBase:wr.fromBase,toBase:wr.toBase,formats:{color:{id:"display-p3"}}});if(Lr.display_space=wr,typeof CSS<"u"&&CSS.supports)for(let d of[Gt,Du,Iu]){let g=d.getMinCoords(),S=zo({space:d,coords:g,alpha:1});if(CSS.supports("color",S)){Lr.display_space=d;break}}function Ar(d){let{space:g=Lr.display_space,...b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=zo(d,b);if(typeof CSS>"u"||CSS.supports("color",S)||!Lr.display_space)S=new String(S),S.color=d;else{let x=tr(d,g);S=new String(zo(x,b)),S.color=x}return S}function zf(d,g){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"lab";b=Ie.get(b);let S=b.from(d),x=b.from(g);return Math.sqrt(S.reduce((B,Y,W)=>{let J=x[W];return isNaN(Y)||isNaN(J)?B:B+(J-Y)**2},0))}function Xv(d,g){return d=je(d),g=je(g),d.space===g.space&&d.alpha===g.alpha&&d.coords.every((b,S)=>b===g.coords[S])}function Or(d){return br(d,[_r,"y"])}function Gf(d,g){Zn(d,[_r,"y"],g)}function Vf(d){Object.defineProperty(d.prototype,"luminance",{get(){return Or(this)},set(g){Gf(this,g)}})}var jv=Object.freeze({__proto__:null,getLuminance:Or,register:Vf,setLuminance:Gf});function Zv(d,g){d=je(d),g=je(g);let b=Math.max(Or(d),0),S=Math.max(Or(g),0);return S>b&&([b,S]=[S,b]),(b+.05)/(S+.05)}const qv=.56,Kv=.57,Pu=.62,_a=.65,Hf=.022,Qv=1.414,Jv=.1,Lu=5e-4,ed=1.14,Ru=.027,$f=1.14;function ba(d){return d>=Hf?d:d+(Hf-d)**Qv}function Tn(d){let g=d<0?-1:1,b=Math.abs(d);return g*Math.pow(b,2.4)}function td(d,g){g=je(g),d=je(d);let b,S,x,B,Y,W;g=tr(g,"srgb"),[B,Y,W]=g.coords;let J=Tn(B)*.2126729+Tn(Y)*.7151522+Tn(W)*.072175;d=tr(d,"srgb"),[B,Y,W]=d.coords;let ae=Tn(B)*.2126729+Tn(Y)*.7151522+Tn(W)*.072175,Se=ba(J),ye=ba(ae),Me=ye>Se;return Math.abs(ye-Se)<Lu?S=0:Me?(b=ye**qv-Se**Kv,S=b*ed):(b=ye**_a-Se**Pu,S=b*$f),Math.abs(S)<Jv?x=0:S>0?x=S-Ru:x=S+Ru,x*100}function Yf(d,g){d=je(d),g=je(g);let b=Math.max(Or(d),0),S=Math.max(Or(g),0);S>b&&([b,S]=[S,b]);let x=b+S;return x===0?0:(b-S)/x}const Uf=5e4;function rd(d,g){d=je(d),g=je(g);let b=Math.max(Or(d),0),S=Math.max(Or(g),0);return S>b&&([b,S]=[S,b]),S===0?Uf:(b-S)/S}function nd(d,g){d=je(d),g=je(g);let b=br(d,[Gt,"l"]),S=br(g,[Gt,"l"]);return Math.abs(b-S)}const id=216/24389,Au=24/116,$o=24389/27;let Ou=rn.D65;var wa=new Ie({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Ou,base:_r,fromBase(d){let b=d.map((S,x)=>S/Ou[x]).map(S=>S>id?Math.cbrt(S):($o*S+16)/116);return[116*b[1]-16,500*(b[0]-b[1]),200*(b[1]-b[2])]},toBase(d){let g=[];return g[1]=(d[0]+16)/116,g[0]=d[1]/500+g[1],g[2]=g[1]-d[2]/200,[g[0]>Au?Math.pow(g[0],3):(116*g[0]-16)/$o,d[0]>8?Math.pow((d[0]+16)/116,3):d[0]/$o,g[2]>Au?Math.pow(g[2],3):(116*g[2]-16)/$o].map((S,x)=>S*Ou[x])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const ku=Math.pow(5,.5)*.5+.5;function ad(d,g){d=je(d),g=je(g);let b=br(d,[wa,"l"]),S=br(g,[wa,"l"]),x=Math.abs(Math.pow(b,ku)-Math.pow(S,ku)),B=Math.pow(x,1/ku)*Math.SQRT2-40;return B<7.5?0:B}var Yo=Object.freeze({__proto__:null,contrastAPCA:td,contrastDeltaPhi:ad,contrastLstar:nd,contrastMichelson:Yf,contrastWCAG21:Zv,contrastWeber:rd});function Wf(d,g){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Jr(b)&&(b={algorithm:b});let{algorithm:S,...x}=b;if(!S){let B=Object.keys(Yo).map(Y=>Y.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${B}`)}d=je(d),g=je(g);for(let B in Yo)if("contrast"+S.toLowerCase()===B.toLowerCase())return Yo[B](d,g,x);throw new TypeError(`Unknown contrast algorithm: ${S}`)}function Uo(d){let[g,b,S]=Li(d,_r),x=g+15*b+3*S;return[4*g/x,9*b/x]}function Cn(d){let[g,b,S]=Li(d,_r),x=g+b+S;return[g/x,b/x]}function Wo(d){Object.defineProperty(d.prototype,"uv",{get(){return Uo(this)}}),Object.defineProperty(d.prototype,"xy",{get(){return Cn(this)}})}var Xf=Object.freeze({__proto__:null,register:Wo,uv:Uo,xy:Cn});function od(d,g){return zf(d,g,"lab")}const Xo=Math.PI/180;function Nu(d,g){let{l:b=2,c:S=1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},[x,B,Y]=Gt.from(d),[,W,J]=Ri.from(Gt,[x,B,Y]),[ae,Se,ye]=Gt.from(g),Me=Ri.from(Gt,[ae,Se,ye])[1];W<0&&(W=0),Me<0&&(Me=0);let Ae=x-ae,Fe=W-Me,Ve=B-Se,ct=Y-ye,Et=Ve**2+ct**2-Fe**2,dt=.511;x>=16&&(dt=.040975*x/(1+.01765*x));let jt=.0638*W/(1+.0131*W)+.638,Er;Number.isNaN(J)&&(J=0),J>=164&&J<=345?Er=.56+Math.abs(.2*Math.cos((J+168)*Xo)):Er=.36+Math.abs(.4*Math.cos((J+35)*Xo));let ir=Math.pow(W,4),Vt=Math.sqrt(ir/(ir+1900)),ar=jt*(Vt*Er+1-Vt),Mt=(Ae/(b*dt))**2;return Mt+=(Fe/(S*jt))**2,Mt+=Et/ar**2,Math.sqrt(Mt)}const jf=203;var Ai=new Ie({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:_r,fromBase(d){return d.map(g=>Math.max(g*jf,0))},toBase(d){return d.map(g=>Math.max(g/jf,0))}});const St=1.15,Tt=.66,jo=2610/2**14,Bu=2**14/2610,En=3424/2**12,Sa=2413/2**7,Ta=2392/2**7,Zo=1.7*2523/2**5,Zf=2**5/(1.7*2523),Ca=-.56,qo=16295499532821565e-27,qf=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],sd=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],ud=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],ld=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var Xe=new Ie({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:Ai,fromBase(d){let[g,b,S]=d,x=St*g-(St-1)*S,B=Tt*b-(Tt-1)*g,W=wt(qf,[x,B,S]).map(function(Me){let Ae=En+Sa*(Me/1e4)**jo,Fe=1+Ta*(Me/1e4)**jo;return(Ae/Fe)**Zo}),[J,ae,Se]=wt(ud,W);return[(1+Ca)*J/(1+Ca*J)-qo,ae,Se]},toBase(d){let[g,b,S]=d,x=(g+qo)/(1+Ca-Ca*(g+qo)),Y=wt(ld,[x,b,S]).map(function(Me){let Ae=En-Me**Zf,Fe=Ta*Me**Zf-Sa;return 1e4*(Ae/Fe)**Bu}),[W,J,ae]=wt(sd,Y),Se=(W+(St-1)*ae)/St,ye=(J+(Tt-1)*Se)/Tt;return[Se,ye,ae]},formats:{color:{}}}),nn=new Ie({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:Xe,fromBase(d){let[g,b,S]=d,x;const B=2e-4;return Math.abs(b)<B&&Math.abs(S)<B?x=NaN:x=Math.atan2(S,b)*180/Math.PI,[g,Math.sqrt(b**2+S**2),va(x)]},toBase(d){return[d[0],d[1]*Math.cos(d[2]*Math.PI/180),d[1]*Math.sin(d[2]*Math.PI/180)]},formats:{color:{}}});function Jn(d,g){let[b,S,x]=nn.from(d),[B,Y,W]=nn.from(g),J=b-B,ae=S-Y;Number.isNaN(x)&&Number.isNaN(W)?(x=0,W=0):Number.isNaN(x)?x=W:Number.isNaN(W)&&(W=x);let Se=x-W,ye=2*Math.sqrt(S*Y)*Math.sin(Se/2*(Math.PI/180));return Math.sqrt(J**2+ae**2+ye**2)}const Sr=3424/4096,an=2413/128,Tr=2392/128,Cr=2610/16384,Fu=2523/32,zu=16384/2610,Mn=32/2523,ei=[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],on=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Gu=[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],xn=[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]];var Ea=new Ie({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:Ai,fromBase(d){let g=wt(ei,d);return Ma(g)},toBase(d){let g=Vu(d);return wt(xn,g)},formats:{color:{}}});function Ma(d){let g=d.map(function(b){let S=Sr+an*(b/1e4)**Cr,x=1+Tr*(b/1e4)**Cr;return(S/x)**Fu});return wt(on,g)}function Vu(d){return wt(Gu,d).map(function(S){let x=Math.max(S**Mn-Sr,0),B=an-Tr*S**Mn;return 1e4*(x/B)**zu})}function fd(d,g){let[b,S,x]=Ea.from(d),[B,Y,W]=Ea.from(g);return 720*Math.sqrt((b-B)**2+.25*(S-Y)**2+(x-W)**2)}const hd=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],Oi=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],ki=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],cd=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]];var Ko=new Ie({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:_r,fromBase(d){let b=wt(hd,d).map(S=>Math.cbrt(S));return wt(ki,b)},toBase(d){let b=wt(cd,d).map(S=>S**3);return wt(Oi,b)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Kf(d,g){let[b,S,x]=Ko.from(d),[B,Y,W]=Ko.from(g),J=b-B,ae=S-Y,Se=x-W;return Math.sqrt(J**2+ae**2+Se**2)}var ti={deltaE76:od,deltaECMC:Nu,deltaE2000:Kn,deltaEJz:Jn,deltaEITP:fd,deltaEOK:Kf};function sn(d,g){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Jr(b)&&(b={method:b});let{method:S=Lr.deltaE,...x}=b;d=je(d),g=je(g);for(let B in ti)if("deltae"+S.toLowerCase()===B.toLowerCase())return ti[B](d,g,x);throw new TypeError(`Unknown deltaE method: ${S}`)}function vd(d){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.25,S=[Ie.get("oklch","lch"),"l"];return Zn(d,S,x=>x*(1+g))}function ri(d){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.25,S=[Ie.get("oklch","lch"),"l"];return Zn(d,S,x=>x*(1-g))}var Dn=Object.freeze({__proto__:null,darken:ri,lighten:vd});function In(d,g){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};[d,g]=[je(d),je(g)],Pr(b)==="object"&&([b,S]=[.5,b]);let{space:x,outputSpace:B,premultiplied:Y}=S;return xa(d,g,{space:x,outputSpace:B,premultiplied:Y})(b)}function Qf(d,g){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S;Ct(d)&&([S,b]=[d,g],[d,g]=S.rangeArgs.colors);let{maxDeltaE:x,deltaEMethod:B,steps:Y=2,maxSteps:W=1e3,...J}=b;S||([d,g]=[je(d),je(g)],S=xa(d,g,J));let ae=sn(d,g),Se=x>0?Math.max(Y,Math.ceil(ae/x)+1):Y,ye=[];if(W!==void 0&&(Se=Math.min(Se,W)),Se===1)ye=[{p:.5,color:S(.5)}];else{let Me=1/(Se-1);ye=Array.from({length:Se},(Ae,Fe)=>{let Ve=Fe*Me;return{p:Ve,color:S(Ve)}})}if(x>0){let Me=ye.reduce((Ae,Fe,Ve)=>{if(Ve===0)return 0;let ct=sn(Fe.color,ye[Ve-1].color,B);return Math.max(Ae,ct)},0);for(;Me>x;){Me=0;for(let Ae=1;Ae<ye.length&&ye.length<W;Ae++){let Fe=ye[Ae-1],Ve=ye[Ae],ct=(Ve.p+Fe.p)/2,Et=S(ct);Me=Math.max(Me,sn(Et,Fe.color),sn(Et,Ve.color)),ye.splice(Ae,0,{p:ct,color:S(ct)}),Ae++}}}return ye=ye.map(Me=>Me.color),ye}function xa(d,g){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Ct(d)){let[J,ae]=[d,g];return xa(...J.rangeArgs.colors,{...J.rangeArgs.options,...ae})}let{space:S,outputSpace:x,progression:B,premultiplied:Y}=b;d=je(d),g=je(g),d=pa(d),g=pa(g);let W={colors:[d,g],options:b};if(S?S=Ie.get(S):S=Ie.registry[Lr.interpolationSpace]||d.space,x=x?Ie.get(x):S,d=tr(d,S),g=tr(g,S),d=Sn(d),g=Sn(g),S.coords.h&&S.coords.h.type==="angle"){let J=b.hue=b.hue||"shorter",ae=[S,"h"],[Se,ye]=[br(d,ae),br(g,ae)];[Se,ye]=Af(J,[Se,ye]),Zn(d,ae,Se),Zn(g,ae,ye)}return Y&&(d.coords=d.coords.map(J=>J*d.alpha),g.coords=g.coords.map(J=>J*g.alpha)),Object.assign(J=>{J=B?B(J):J;let ae=d.coords.map((Me,Ae)=>{let Fe=g.coords[Ae];return Xn(Me,Fe,J)}),Se=Xn(d.alpha,g.alpha,J),ye={space:S,coords:ae,alpha:Se};return Y&&(ye.coords=ye.coords.map(Me=>Me/Se)),x!==S&&(ye=tr(ye,x)),ye},{rangeArgs:W})}function Ct(d){return Pr(d)==="function"&&!!d.rangeArgs}Lr.interpolationSpace="lab";function nr(d){d.defineFunction("mix",In,{returns:"color"}),d.defineFunction("range",xa,{returns:"function<color>"}),d.defineFunction("steps",Qf,{returns:"array<color>"})}var dd=Object.freeze({__proto__:null,isRange:Ct,mix:In,range:xa,register:nr,steps:Qf}),Jf=new Ie({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:wr,fromBase:d=>{let g=Math.max(...d),b=Math.min(...d),[S,x,B]=d,[Y,W,J]=[NaN,0,(b+g)/2],ae=g-b;if(ae!==0){switch(W=J===0||J===1?0:(g-J)/Math.min(J,1-J),g){case S:Y=(x-B)/ae+(x<B?6:0);break;case x:Y=(B-S)/ae+2;break;case B:Y=(S-x)/ae+4}Y=Y*60}return[Y,W*100,J*100]},toBase:d=>{let[g,b,S]=d;g=g%360,g<0&&(g+=360),b/=100,S/=100;function x(B){let Y=(B+g/30)%12,W=b*Math.min(S,1-S);return S-W*Math.max(-1,Math.min(Y-3,9-Y,1))}return[x(0),x(8),x(4)]},formats:{hsl:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),eh=new Ie({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Jf,fromBase(d){let[g,b,S]=d;b/=100,S/=100;let x=S+b*Math.min(S,1-S);return[g,x===0?0:200*(1-S/x),100*x]},toBase(d){let[g,b,S]=d;b/=100,S/=100;let x=S*(1-b/2);return[g,x===0||x===1?0:(S-x)/Math.min(x,1-x)*100,x*100]},formats:{color:{toGamut:!0}}}),pd=new Ie({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:eh,fromBase(d){let[g,b,S]=d;return[g,S*(100-b)/100,100-S]},toBase(d){let[g,b,S]=d;b/=100,S/=100;let x=b+S;if(x>=1){let W=b/x;return[g,0,W*100]}let B=1-S,Y=B===0?0:1-b/B;return[g,Y*100,B*100]},formats:{hwb:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]}}});const th=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],gd=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]];var rh=new Xt({id:"a98rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:th,fromXYZ_M:gd}),nh=new Xt({id:"a98rgb",name:"Adobe\xAE 98 RGB compatible",base:rh,toBase:d=>d.map(g=>Math.pow(Math.abs(g),563/256)*Math.sign(g)),fromBase:d=>d.map(g=>Math.pow(Math.abs(g),256/563)*Math.sign(g)),formats:{color:{id:"a98-rgb"}}});const md=[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],Hu=[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]];var ih=new Xt({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:Rf,toXYZ_M:md,fromXYZ_M:Hu});const ut=1/512,yd=16/512;var ah=new Xt({id:"prophoto",name:"ProPhoto",base:ih,toBase(d){return d.map(g=>g<yd?g/16:g**1.8)},fromBase(d){return d.map(g=>g>=ut?g**(1/1.8):16*g)},formats:{color:{id:"prophoto-rgb"}}}),$u=new Ie({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:Ko,fromBase(d){let[g,b,S]=d,x;const B=2e-4;return Math.abs(b)<B&&Math.abs(S)<B?x=NaN:x=Math.atan2(S,b)*180/Math.PI,[g,Math.sqrt(b**2+S**2),va(x)]},toBase(d){let[g,b,S]=d,x,B;return isNaN(S)?(x=0,B=0):(x=b*Math.cos(S*Math.PI/180),B=b*Math.sin(S*Math.PI/180)),[g,x,B]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});const oh=203,sh=2610/2**14,_d=2**14/2610,uh=2523/2**5,Ni=2**5/2523,lh=3424/2**12,ni=2413/2**7,fh=2392/2**7;var bd=new Xt({id:"rec2100pq",name:"REC.2100-PQ",base:mt,toBase(d){return d.map(function(g){return(Math.max(g**Ni-lh,0)/(ni-fh*g**Ni))**_d*1e4/oh})},fromBase(d){return d.map(function(g){let b=Math.max(g*oh/1e4,0),S=lh+ni*b**sh,x=1+fh*b**sh;return(S/x)**uh})},formats:{color:{id:"rec2100-pq"}}});const Pn=.17883277,hh=.28466892,ch=.55991073,Qo=3.7743;var un=new Xt({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:mt,toBase(d){return d.map(function(g){return g<=.5?g**2/3*Qo:(Math.exp((g-ch)/Pn)+hh)/12*Qo})},fromBase(d){return d.map(function(g){return g/=Qo,g<=1/12?Math.sqrt(3*g):Pn*Math.log(12*g-hh)+ch})},formats:{color:{id:"rec2100-hlg"}}});rn.ACES=[.9526460745698463,1,1.0088251843515859];const vh=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],dh=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]];var ph=new Xt({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:rn.ACES,toXYZ_M:vh,fromXYZ_M:dh,formats:{color:{}}});const Da=2**-16,Yu=-.35828683,Jo=(Math.log2(65504)+9.72)/17.52;var gh=new Xt({id:"acescc",name:"ACEScc",coords:{r:{range:[Yu,Jo],name:"Red"},g:{range:[Yu,Jo],name:"Green"},b:{range:[Yu,Jo],name:"Blue"}},referred:"scene",base:ph,toBase(d){const g=-.3013698630136986;return d.map(function(b){return b<=g?(2**(b*17.52-9.72)-Da)*2:b<Jo?2**(b*17.52-9.72):65504})},fromBase(d){return d.map(function(g){return g<=0?(Math.log2(Da)+9.72)/17.52:g<Da?(Math.log2(Da+g*.5)+9.72)/17.52:(Math.log2(g)+9.72)/17.52})},formats:{color:{}}}),mh=Object.freeze({__proto__:null,A98RGB:nh,A98RGB_Linear:rh,ACEScc:gh,ACEScg:ph,HSL:Jf,HSV:eh,HWB:pd,ICTCP:Ea,JzCzHz:nn,Jzazbz:Xe,LCH:Ri,Lab:Gt,Lab_D65:wa,OKLCH:$u,OKLab:Ko,P3:Iu,P3_Linear:ya,ProPhoto:ah,ProPhoto_Linear:ih,REC_2020:Du,REC_2020_Linear:mt,REC_2100_HLG:un,REC_2100_PQ:bd,XYZ_ABS_D65:Ai,XYZ_D50:Rf,XYZ_D65:_r,sRGB:wr,sRGB_Linear:Yv});class Qe{constructor(){let g;for(var b=arguments.length,S=new Array(b),x=0;x<b;x++)S[x]=arguments[x];S.length===1&&(g=je(S[0]));let B,Y,W;g?(B=g.space||g.spaceId,Y=g.coords,W=g.alpha):[B,Y,W]=S,Object.defineProperty(this,"space",{value:Ie.get(B),writable:!1,enumerable:!0,configurable:!0}),this.coords=Y?Y.slice():[0,0,0],this.alpha=W<1?W:1;for(let J=0;J<this.coords.length;J++)this.coords[J]==="NaN"&&(this.coords[J]=NaN);for(let J in this.space.coords)Object.defineProperty(this,J,{get:()=>this.get(J),set:ae=>this.set(J,ae)})}get spaceId(){return this.space.id}clone(){return new Qe(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(){for(var g=arguments.length,b=new Array(g),S=0;S<g;S++)b[S]=arguments[S];let x=Ar(this,...b);return x.color=new Qe(x.color),x}static get(g){if(g instanceof Qe)return g;for(var b=arguments.length,S=new Array(b>1?b-1:0),x=1;x<b;x++)S[x-1]=arguments[x];return new Qe(g,...S)}static defineFunction(g,b){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b,{instance:x=!0,returns:B}=S,Y=function(){let W=b(...arguments);if(B==="color")W=Qe.get(W);else if(B==="function<color>"){let J=W;W=function(){let ae=J(...arguments);return Qe.get(ae)},Object.assign(W,J)}else B==="array<color>"&&(W=W.map(J=>Qe.get(J)));return W};g in Qe||(Qe[g]=Y),x&&(Qe.prototype[g]=function(){for(var W=arguments.length,J=new Array(W),ae=0;ae<W;ae++)J[ae]=arguments[ae];return Y(this,...J)})}static defineFunctions(g){for(let b in g)Qe.defineFunction(b,g[b],g[b])}static extend(g){if(g.register)g.register(Qe);else for(let b in g)Qe.defineFunction(b,g[b])}}Qe.defineFunctions({get:br,getAll:Li,set:Zn,setAll:Eu,to:tr,equals:Xv,inGamut:da,toGamut:Sn,distance:zf,toString:zo}),Object.assign(Qe,{util:su,hooks:sa,WHITES:rn,Space:Ie,spaces:Ie.registry,parse:Fv,defaults:Lr});for(let d of Object.keys(mh))Ie.register(mh[d]);Qe.extend(ti),Qe.extend({deltaE:sn}),Object.assign(Qe,{deltaEMethods:ti}),Qe.extend(Dn),Qe.extend({contrast:Wf}),Qe.extend(Xf),Qe.extend(jv),Qe.extend(dd),Qe.extend(Yo),le.Z=Qe}},sg={};function Yr(re){var le=sg[re];if(le!==void 0)return le.exports;var N=sg[re]={exports:{}};return Z_[re](N,N.exports,Yr),N.exports}Yr.d=(re,le)=>{for(var N in le)Yr.o(le,N)&&!Yr.o(re,N)&&Object.defineProperty(re,N,{enumerable:!0,get:le[N]})},Yr.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Yr.o=(re,le)=>Object.prototype.hasOwnProperty.call(re,le),Yr.r=re=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(re,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(re,"__esModule",{value:!0})};var yc={};(()=>{"use strict";Yr.r(yc),Yr.d(yc,{default:()=>IT});const re=require("siyuan");let le,N;function q(t){N=t,le=N.i18n}const H="graph-enhance-config";let R;function V(t){R=t}function O(t){return N.data[H][t]}function A(){N.setting=new re.Setting({confirmCallback:()=>{if(!/^[0-9]+$/.test(n.value)){(0,re.showMessage)(le.checkNodesMaximumErrorMsg,3e3,"error");return}if(!/^[0-9]+$/.test(i.value)){(0,re.showMessage)(le.checkNeighborDepthErrorMsg,3e3,"error");return}N.saveData(H,{rankdir:t.value,ranker:e.value,nodesMaximum:n.value,neighborDepth:i.value,autoFollow:r.value,separation:a.value,nodesExclusion:o.value}),r.value==="true"?(N.eventBus.off("switch-protyle",Es),N.eventBus.on("switch-protyle",Es)):N.eventBus.off("switch-protyle",Es)}});const t=document.createElement("select");t.id="direction",t.add(new Option(le.settingDirLR,"LR")),t.add(new Option(le.settingDirRL,"RL")),t.add(new Option(le.settingDirTB,"TB")),t.add(new Option(le.settingDirBT,"BT")),N.setting.addItem({title:le.settingDirTitle,createActionElement:()=>(t.value=N.data[H].rankdir,t)});const e=document.createElement("select");e.id="algorithm",e.add(new Option(le.settingAlgNS,"network-simplex")),e.add(new Option(le.settingAlgTT,"tight-tree")),e.add(new Option(le.settingAlgLP,"longest-path")),N.setting.addItem({title:le.settingAlgTitle,createActionElement:()=>(e.value=N.data[H].ranker,e)});const r=document.createElement("select");r.id="autoFollow",r.add(new Option(le.yes,"true")),r.add(new Option(le.no,"false")),N.setting.addItem({title:le.autoFollow,createActionElement:()=>(r.value=N.data[H].autoFollow,r)});const n=document.createElement("input");n.id="nodesMaximum",n.placeholder=le.pleaseInputNumber,n.className="b3-text-field",N.setting.addItem({title:le.nodesMaximum,createActionElement:()=>(n.value=N.data[H].nodesMaximum,n)});const i=document.createElement("input");i.id="neighborDepth",i.placeholder=le.pleaseInputNumber,i.className="b3-text-field",N.setting.addItem({title:le.settingNeighborDepth,createActionElement:()=>(i.value=N.data[H].neighborDepth,i)});const a=document.createElement("textarea");a.id="separation",a.placeholder=le.pleaseInput,a.className="b3-text-field fn__block",N.setting.addItem({title:le.separationTitle,description:le.separationDescription,createActionElement:()=>(a.value=N.data[H].separation,a)});const o=document.createElement("textarea");o.id="nodesExclusion",o.placeholder=le.pleaseInput,o.className="b3-text-field fn__block",N.setting.addItem({title:le.nodesExclusionTitle,description:le.nodesExclusionDescription,createActionElement:()=>(o.value=N.data[H].nodesExclusion,o)})}var E=Yr(815);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var P=function(t,e){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},P(t,e)};function C(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");P(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var D=function(){return D=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},D.apply(this,arguments)};function z(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function F(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function Q(t,e){return function(r,n){e(r,n,t)}}function oe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ve(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(f){try{l(n.next(f))}catch(h){o(h)}}function u(f){try{l(n.throw(f))}catch(h){o(h)}}function l(f){f.done?a(f.value):i(f.value).then(s,u)}l((n=n.apply(t,e||[])).next())})}function Ce(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(f){return u([l,f])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(f){l=[6,f],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var he=Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function me(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&he(e,t,r)}function ee(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function pe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ce(arguments[e]));return t}function j(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function K(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||e)}function ne(t){return this instanceof ne?(this.v=t,this):new ne(t)}function se(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(c){n[c]&&(i[c]=function(v){return new Promise(function(p,_){a.push([c,v,p,_])>1||s(c,v)})})}function s(c,v){try{u(n[c](v))}catch(p){h(a[0][3],p)}}function u(c){c.value instanceof ne?Promise.resolve(c.value.v).then(l,f):h(a[0][2],c)}function l(c){s("next",c)}function f(c){s("throw",c)}function h(c,v){c(v),a.shift(),a.length&&s(a[0][0],a[0][1])}}function fe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:ne(t[i](o)),done:i==="return"}:a?a(o):o}:a}}function we(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ee=="function"?ee(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,u){o=t[a](o),i(s,u,o.done,o.value)})}}function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}}function De(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Pe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function Ge(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&he(e,t,r);return Pe(e,t),e}function $e(t){return t&&t.__esModule?t:{default:t}}function Ft(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Yi(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}var On=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),xs=function(){function t(){this.browser=new On,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),Ur=new xs;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Ur.wxa=!0,Ur.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Ur.worker=!0:typeof navigator>"u"?(Ur.node=!0,Ur.svgSupported=!0):qa(navigator.userAgent,Ur);function qa(t,e){var r=e.browser,n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),o&&(r.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}const Ze=Ur;var kn=12,te="sans-serif",ue=kn+"px "+te,ge=20,Te=100,Ne="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function qe(t){var e={};if(typeof JSON>"u")return e;for(var r=0;r<t.length;r++){var n=String.fromCharCode(r+32),i=(t.charCodeAt(r)-ge)/Te;e[n]=i}return e}var Be=qe(Ne),rt={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(r,n){if(!t){var i=rt.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==n&&(e=t.font=n||ue),t.measureText(r);r=r||"",n=n||ue;var a=/(\d+)px/.exec(n),o=a&&+a[1]||kn,s=0;if(n.indexOf("mono")>=0)s=o*r.length;else for(var u=0;u<r.length;u++){var l=Be[r[u]];s+=l==null?o:l*o}return{width:s}}}(),loadImage:function(t,e,r){var n=new Image;return n.onload=e,n.onerror=r,n.src=t,n}};function Ka(t){for(var e in rt)t[e]&&(rt[e]=t[e])}var Rt=hi(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),nt=hi(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),zt=Object.prototype.toString,Nn=Array.prototype,Qa=Nn.forEach,Ds=Nn.filter,Is=Nn.slice,bl=Nn.map,wl=function(){}.constructor,Ui=wl?wl.prototype:null,Wi="__proto__",Sl=2311;function Ps(){return Sl++}function Ja(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function Ye(t){if(t==null||typeof t!="object")return t;var e=t,r=zt.call(t);if(r==="[object Array]"){if(!vi(t)){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=Ye(t[n])}}else if(nt[r]){if(!vi(t)){var a=t.constructor;if(a.from)e=a.from(t);else{e=new a(t.length);for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}}}else if(!Rt[r]&&!vi(t)&&!Xi(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==Wi&&(e[o]=Ye(t[o]))}return e}function Ue(t,e,r){if(!Re(e)||!Re(t))return r?Ye(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==Wi){var i=t[n],a=e[n];Re(a)&&Re(i)&&!Le(a)&&!Le(i)&&!Xi(a)&&!Xi(i)&&!El(a)&&!El(i)&&!vi(a)&&!vi(i)?Ue(i,a,r):(r||!(n in t))&&(t[n]=Ye(e[n]))}return t}function Ls(t,e){for(var r=t[0],n=1,i=t.length;n<i;n++)r=Ue(r,t[n],e);return r}function be(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==Wi&&(t[r]=e[r]);return t}function Pt(t,e,r){for(var n=lt(e),i=0;i<n.length;i++){var a=n[i];(r?e[a]!=null:t[a]==null)&&(t[a]=e[a])}return t}var ug=rt.createCanvas;function it(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1}function _c(t,e){var r=t.prototype;function n(){}n.prototype=e.prototype,t.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.prototype.constructor=t,t.superClass=e}function Kt(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(r?e[a]!=null:t[a]==null)&&(t[a]=e[a])}else Pt(t,e,r)}function Ut(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function Z(t,e,r){if(t&&e)if(t.forEach&&t.forEach===Qa)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)}function Je(t,e,r){if(!t)return[];if(!e)return As(t);if(t.map&&t.map===bl)return t.map(e,r);for(var n=[],i=0,a=t.length;i<a;i++)n.push(e.call(r,t[i],i,t));return n}function hi(t,e,r,n){if(t&&e){for(var i=0,a=t.length;i<a;i++)r=e.call(n,r,t[i],i,t);return r}}function vr(t,e,r){if(!t)return[];if(!e)return As(t);if(t.filter&&t.filter===Ds)return t.filter(e,r);for(var n=[],i=0,a=t.length;i<a;i++)e.call(r,t[i],i,t)&&n.push(t[i]);return n}function lg(t,e,r){if(t&&e){for(var n=0,i=t.length;n<i;n++)if(e.call(r,t[n],n,t))return t[n]}}function lt(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function Tl(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return t.apply(e,r.concat(Is.call(arguments)))}}var ht=Ui&&et(Ui.bind)?Ui.call.bind(Ui.bind):Tl;function vn(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){return t.apply(this,e.concat(Is.call(arguments)))}}function Le(t){return Array.isArray?Array.isArray(t):zt.call(t)==="[object Array]"}function et(t){return typeof t=="function"}function ze(t){return typeof t=="string"}function Cl(t){return zt.call(t)==="[object String]"}function ot(t){return typeof t=="number"}function Re(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function El(t){return!!Rt[zt.call(t)]}function At(t){return!!nt[zt.call(t)]}function Xi(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function ci(t){return t.colorStops!=null}function bc(t){return t.image!=null}function fg(t){return zt.call(t)==="[object RegExp]"}function Ml(t){return t!==t}function Rs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=t.length;r<n;r++)if(t[r]!=null)return t[r]}function We(t,e){return t??e}function Wr(t,e,r){return t??e??r}function As(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return Is.apply(t,e)}function xl(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function xr(t,e){if(!t)throw new Error(e)}function dn(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var eo="__ec_primitive__";function to(t){t[eo]=!0}function vi(t){return t[eo]}var wc=function(){function t(){this.data={}}return t.prototype.delete=function(e){var r=this.has(e);return r&&delete this.data[e],r},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){return this.data[e]=r,this},t.prototype.keys=function(){return lt(this.data)},t.prototype.forEach=function(e){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&e(r[n],n)},t}(),Dl=typeof Map=="function";function Os(){return Dl?new Map:new wc}var Sc=function(){function t(e){var r=Le(e);this.data=Os();var n=this;e instanceof t?e.each(i):e&&Z(e,i);function i(a,o){r?n.set(a,o):n.set(o,a)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,r){return this.data.set(e,r),r},t.prototype.each=function(e,r){this.data.forEach(function(n,i){e.call(r,n,i)})},t.prototype.keys=function(){var e=this.data.keys();return Dl?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function ke(t){return new Sc(t)}function Tc(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];for(var i=t.length,n=0;n<e.length;n++)r[n+i]=e[n];return r}function dr(t,e){var r;if(Object.create)r=Object.create(t);else{var n=function(){};n.prototype=t,r=new n}return e&&be(r,e),r}function Il(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function ro(t,e){return t.hasOwnProperty(e)}function Ot(){}var Cc=180/Math.PI;function pn(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function kt(t,e){return t[0]=e[0],t[1]=e[1],t}function Xr(t){return[t[0],t[1]]}function Pl(t,e,r){return t[0]=e,t[1]=r,t}function Ll(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function ks(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function Bn(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function gn(t){return Math.sqrt(Ec(t))}var Rl=null;function Ec(t){return t[0]*t[0]+t[1]*t[1]}var Al=null;function hg(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function Mc(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function xc(t,e){return t[0]*e[0]+t[1]*e[1]}function no(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function di(t,e){var r=gn(e);return r===0?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function Ns(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Dc=Ns;function Ic(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Fn=Ic;function cg(t,e){return t[0]=-e[0],t[1]=-e[1],t}function vg(t,e,r,n){return t[0]=e[0]+n*(r[0]-e[0]),t[1]=e[1]+n*(r[1]-e[1]),t}function jr(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function pi(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function zn(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}var mn=function(){function t(e,r){this.target=e,this.topTarget=r&&r.topTarget}return t}(),Pc=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var r=e.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new mn(r,e),"dragstart",e.event))},t.prototype._drag=function(e){var r=this._draggingTarget;if(r){var n=e.offsetX,i=e.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,r.drift(a,o,e),this.handler.dispatchToElement(new mn(r,e),"drag",e.event);var s=this.handler.findHover(n,i,r).target,u=this._dropTarget;this._dropTarget=s,r!==s&&(u&&s!==u&&this.handler.dispatchToElement(new mn(u,e),"dragleave",e.event),s&&s!==u&&this.handler.dispatchToElement(new mn(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new mn(r,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new mn(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}();const Lc=Pc;var Rc=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,r,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!e)return this;var o=this._$eventProcessor;r!=null&&o&&o.normalizeQuery&&(r=o.normalizeQuery(r)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===n)return this;var u={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=a[e].length-1,f=a[e][l];return f&&f.callAtLast?a[e].splice(l,0,u):a[e].push(u),this},t.prototype.isSilent=function(e){var r=this._$handlers;return!r||!r[e]||!r[e].length},t.prototype.off=function(e,r){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(r){if(n[e]){for(var i=[],a=0,o=n[e].length;a<o;a++)n[e][a].h!==r&&i.push(n[e][a]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},t.prototype.trigger=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=i.length,u=0;u<s;u++){var l=i[u];if(!(a&&a.filter&&l.query!=null&&!a.filter(e,l.query)))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,r[0]);break;case 2:l.h.call(l.ctx,r[0],r[1]);break;default:l.h.apply(l.ctx,r);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=r[o-1],u=i.length,l=0;l<u;l++){var f=i[l];if(!(a&&a.filter&&f.query!=null&&!a.filter(e,f.query)))switch(o){case 0:f.h.call(s);break;case 1:f.h.call(s,r[0]);break;case 2:f.h.call(s,r[0],r[1]);break;default:f.h.apply(s,r.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t}();const pr=Rc;var Ac=Math.log(2);function io(t,e,r,n,i,a){var o=n+"-"+i,s=t.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var u=Math.round(Math.log((1<<s)-1&~i)/Ac);return t[r][u]}for(var l=n|1<<r,f=r+1;n&1<<f;)f++;for(var h=0,c=0,v=0;c<s;c++){var p=1<<c;p&i||(h+=(v%2?-1:1)*t[r][c]*io(t,e-1,f,l,i|p,a),v++)}return a[o]=h,h}function Ol(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},i=io(r,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*io(r,7,o===0?1:0,1<<o,1<<s,n)/i*e[o];return function(u,l,f){var h=l*a[6]+f*a[7]+1;u[0]=(l*a[0]+f*a[1]+a[2])/h,u[1]=(l*a[3]+f*a[4]+a[5])/h}}}var kl="___zrEVENTSAVED",Bs=null;function dg(t,e,r,n,i){return Fs(Bs,e,n,i,!0)&&Fs(t,r,Bs[0],Bs[1])}function Fs(t,e,r,n,i){if(e.getBoundingClientRect&&Ze.domSupported&&!Nl(e)){var a=e[kl]||(e[kl]={}),o=Oc(e,a),s=kc(o,a,i);if(s)return s(t,r,n),!0}return!1}function Oc(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,u=a%2,l=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[u]+":0",i[l]+":0",n[1-u]+":auto",i[1-l]+":auto",""].join("!important;"),t.appendChild(o),r.push(o)}return r}function kc(t,e,r){for(var n=r?"invTrans":"trans",i=e[n],a=e.srcCoords,o=[],s=[],u=!0,l=0;l<4;l++){var f=t[l].getBoundingClientRect(),h=2*l,c=f.left,v=f.top;o.push(c,v),u=u&&a&&c===a[h]&&v===a[h+1],s.push(t[l].offsetLeft,t[l].offsetTop)}return u&&i?i:(e.srcCoords=o,e[n]=r?Ol(s,o):Ol(o,s))}function Nl(t){return t.nodeName.toUpperCase()==="CANVAS"}var Bl=/([&<>"'])/g,ji={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function zs(t){return t==null?"":(t+"").replace(Bl,function(e,r){return ji[r]})}var Nc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Gs=[],Bc=Ze.browser.firefox&&+Ze.browser.version.split(".")[0]<39;function Vs(t,e,r,n){return r=r||{},n?Fl(t,e,r):Bc&&e.layerX!=null&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):e.offsetX!=null?(r.zrX=e.offsetX,r.zrY=e.offsetY):Fl(t,e,r),r}function Fl(t,e,r){if(Ze.domSupported&&t.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(Nl(t)){var a=t.getBoundingClientRect();r.zrX=n-a.left,r.zrY=i-a.top;return}else if(Fs(Gs,t,n,i)){r.zrX=Gs[0],r.zrY=Gs[1];return}}r.zrX=r.zrY=0}function Zi(t){return t||window.event}function gr(t,e,r){if(e=Zi(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&Vs(t,o,e,r)}else{Vs(t,e,e,r);var a=Fc(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&Nc.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function Fc(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,n=t.deltaY;if(r==null||n==null)return e;var i=Math.abs(n!==0?n:r),a=n>0?-1:n<0?1:r>0?-1:1;return 3*i*a}function zc(t,e,r,n){t.addEventListener(e,r,n)}function ao(t,e,r,n){t.removeEventListener(e,r,n)}var oo=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function zl(t){return t.which===2||t.which===3}var Hs=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,r,n){return this._doTrack(e,r,n),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,r,n){var i=e.touches;if(i){for(var a={points:[],touches:[],target:r,event:e},o=0,s=i.length;o<s;o++){var u=i[o],l=Vs(n,u,{});a.points.push([l.zrX,l.zrY]),a.touches.push(u)}this._track.push(a)}},t.prototype._recognize=function(e){for(var r in qi)if(qi.hasOwnProperty(r)){var n=qi[r](this._track,e);if(n)return n}},t}();function Gl(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function $s(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var qi={pinch:function(t,e){var r=t.length;if(r){var n=(t[r-1]||{}).points,i=(t[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=Gl(n)/Gl(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=$s(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};function yn(){return[1,0,0,1,0,0]}function Gc(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Ys(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Us(t,e,r){var n=e[0]*r[0]+e[2]*r[1],i=e[1]*r[0]+e[3]*r[1],a=e[0]*r[2]+e[2]*r[3],o=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],u=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t}function gi(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function Vl(t,e,r){var n=e[0],i=e[2],a=e[4],o=e[1],s=e[3],u=e[5],l=Math.sin(r),f=Math.cos(r);return t[0]=n*f+o*l,t[1]=-n*l+o*f,t[2]=i*f+s*l,t[3]=-i*l+f*s,t[4]=f*a+l*u,t[5]=f*u-l*a,t}function Ws(t,e,r){var n=r[0],i=r[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t}function Hl(t,e){var r=e[0],n=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=r*o-a*n;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-n*u,t[3]=r*u,t[4]=(n*s-o*i)*u,t[5]=(a*i-r*s)*u,t):null}function Vc(t){var e=yn();return Ys(e,t),e}var Hc=function(){function t(e,r){this.x=e||0,this.y=r||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,r){this.x+=e.x*r,this.y+=e.y*r},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)},t.prototype.distanceSquare=function(e){var r=this.x-e.x,n=this.y-e.y;return r*r+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var r=this.x,n=this.y;return this.x=e[0]*r+e[2]*n+e[4],this.y=e[1]*r+e[3]*n+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,r,n){e.x=r,e.y=n},t.copy=function(e,r){e.x=r.x,e.y=r.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,r){return e.x*r.x+e.y*r.y},t.add=function(e,r,n){e.x=r.x+n.x,e.y=r.y+n.y},t.sub=function(e,r,n){e.x=r.x-n.x,e.y=r.y-n.y},t.scale=function(e,r,n){e.x=r.x*n,e.y=r.y*n},t.scaleAndAdd=function(e,r,n,i){e.x=r.x+n.x*i,e.y=r.y+n.y*i},t.lerp=function(e,r,n,i){var a=1-i;e.x=a*r.x+i*n.x,e.y=a*r.y+i*n.y},t}();const yt=Hc;var so=Math.min,uo=Math.max,Gn=new yt,Vn=new yt,Hn=new yt,Zr=new yt,Ki=new yt,Qi=new yt,$c=function(){function t(e,r,n,i){n<0&&(e=e+n,n=-n),i<0&&(r=r+i,i=-i),this.x=e,this.y=r,this.width=n,this.height=i}return t.prototype.union=function(e){var r=so(e.x,this.x),n=so(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=uo(e.x+e.width,this.x+this.width)-r:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=uo(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=r,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var r=this,n=e.width/r.width,i=e.height/r.height,a=yn();return gi(a,a,[-r.x,-r.y]),Ws(a,a,[n,i]),gi(a,a,[e.x,e.y]),a},t.prototype.intersect=function(e,r){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,i=n.x,a=n.x+n.width,o=n.y,s=n.y+n.height,u=e.x,l=e.x+e.width,f=e.y,h=e.y+e.height,c=!(a<u||l<i||s<f||h<o);if(r){var v=1/0,p=0,_=Math.abs(a-u),m=Math.abs(l-i),y=Math.abs(s-f),w=Math.abs(h-o),T=Math.min(_,m),M=Math.min(y,w);a<u||l<i?T>p&&(p=T,_<m?yt.set(Qi,-_,0):yt.set(Qi,m,0)):T<v&&(v=T,_<m?yt.set(Ki,_,0):yt.set(Ki,-m,0)),s<f||h<o?M>p&&(p=M,y<w?yt.set(Qi,0,-y):yt.set(Qi,0,w)):T<v&&(v=T,y<w?yt.set(Ki,0,y):yt.set(Ki,0,-w))}return r&&yt.copy(r,c?Ki:Qi),c},t.prototype.contain=function(e,r){var n=this;return e>=n.x&&e<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,r){e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height},t.applyTransform=function(e,r,n){if(!n){e!==r&&t.copy(e,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],s=n[5];e.x=r.x*i+o,e.y=r.y*a+s,e.width=r.width*i,e.height=r.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Gn.x=Hn.x=r.x,Gn.y=Zr.y=r.y,Vn.x=Zr.x=r.x+r.width,Vn.y=Hn.y=r.y+r.height,Gn.transform(n),Zr.transform(n),Vn.transform(n),Hn.transform(n),e.x=so(Gn.x,Vn.x,Hn.x,Zr.x),e.y=so(Gn.y,Vn.y,Hn.y,Zr.y);var u=uo(Gn.x,Vn.x,Hn.x,Zr.x),l=uo(Gn.y,Vn.y,Hn.y,Zr.y);e.width=u-e.x,e.height=l-e.y},t}();const Ke=$c;var Xs="silent";function Yc(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:Uc}}function Uc(){oo(this.event)}var Wc=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(pr),mi=function(){function t(e,r){this.x=e,this.y=r}return t}(),Xc=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],lo=new Ke(0,0,0,0),$l=function(t){C(e,t);function e(r,n,i,a,o){var s=t.call(this)||this;return s._hovered=new mi(0,0),s.storage=r,s.painter=n,s.painterRoot=a,s._pointerSize=o,i=i||new Wc,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new Lc(s),s}return e.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(Z(Xc,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},e.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,a=Wl(this,n,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var u=this._hovered=a?new mi(n,i):this.findHover(n,i),l=u.target,f=this.proxy;f.setCursor&&f.setCursor(l?l.cursor:"default"),s&&l!==s&&this.dispatchToElement(o,"mouseout",r),this.dispatchToElement(u,"mousemove",r),l&&l!==s&&this.dispatchToElement(u,"mouseover",r)},e.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},e.prototype.resize=function(){this._hovered=new mi(0,0)},e.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},e.prototype.dispatchToElement=function(r,n,i){r=r||{};var a=r.target;if(!(a&&a.silent)){for(var o="on"+n,s=Yc(n,r,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[o]=="function"&&u[o].call(u,s),u.trigger&&u.trigger(n,s)}))}},e.prototype.findHover=function(r,n,i){var a=this.storage.getDisplayList(),o=new mi(r,n);if(Ul(a,o,r,n,i),this._pointerSize&&!o.target){for(var s=[],u=this._pointerSize,l=u/2,f=new Ke(r-l,n-l,u,u),h=a.length-1;h>=0;h--){var c=a[h];c!==i&&!c.ignore&&!c.ignoreCoarsePointer&&(!c.parent||!c.parent.ignoreCoarsePointer)&&(lo.copy(c.getBoundingRect()),c.transform&&lo.applyTransform(c.transform),lo.intersect(f)&&s.push(c))}if(s.length)for(var v=4,p=Math.PI/12,_=Math.PI*2,m=0;m<l;m+=v)for(var y=0;y<_;y+=p){var w=r+m*Math.cos(y),T=n+m*Math.sin(y);if(Ul(s,o,w,T,i),o.target)return o}}return o},e.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new Hs);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;r.gestureEvent=o;var s=new mi;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e}(pr);Z(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){$l.prototype[t]=function(e){var r=e.zrX,n=e.zrY,i=Wl(this,r,n),a,o;if((t!=="mouseup"||!i)&&(a=this.findHover(r,n),o=a.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||Dc(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}});function Yl(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n=t,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(e,r))return!1;n.silent&&(i=!0)}var s=n.__hostTarget;n=s||n.parent}return i?Xs:!0}return!1}function Ul(t,e,r,n,i){for(var a=t.length-1;a>=0;a--){var o=t[a],s=void 0;if(o!==i&&!o.ignore&&(s=Yl(o,r,n))&&(!e.topTarget&&(e.topTarget=o),s!==Xs)){e.target=o;break}}}function Wl(t,e,r){var n=t.painter;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}const js=$l;var fo=32,Ji=7,Xl=256;function jl(t){for(var e=0;t>=fo;)e|=t&1,t>>=1;return t+e}function ho(t,e,r,n){var i=e+1;if(i===r)return 1;if(n(t[i++],t[e])<0){for(;i<r&&n(t[i],t[i-1])<0;)i++;jc(t,e,i)}else for(;i<r&&n(t[i],t[i-1])>=0;)i++;return i-e}function jc(t,e,r){for(r--;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}function ea(t,e,r,n,i){for(n===e&&n++;n<r;n++){for(var a=t[n],o=e,s=n,u;o<s;)u=o+s>>>1,i(a,t[u])<0?s=u:o=u+1;var l=n-o;switch(l){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;l>0;)t[o+l]=t[o+l-1],l--}t[o]=a}}function $n(t,e,r,n,i,a){var o=0,s=0,u=1;if(a(t,e[r+i])>0){for(s=n-i;u<s&&a(t,e[r+i+u])>0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{for(s=i+1;u<s&&a(t,e[r+i-u])<=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}for(o++;o<u;){var f=o+(u-o>>>1);a(t,e[r+f])>0?o=f+1:u=f}return u}function yi(t,e,r,n,i,a){var o=0,s=0,u=1;if(a(t,e[r+i])<0){for(s=i+1;u<s&&a(t,e[r+i-u])<0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}else{for(s=n-i;u<s&&a(t,e[r+i+u])>=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}for(o++;o<u;){var f=o+(u-o>>>1);a(t,e[r+f])<0?u=f:o=f+1}return u}function Zc(t,e){var r=Ji,n=0,i=Xl,a=0,o,s,u=0;n=t.length,n<2*Xl&&(i=n>>>1);var l=[];a=n<120?5:n<1542?10:n<119151?19:40,o=[],s=[];function f(m,y){o[u]=m,s[u]=y,u+=1}function h(){for(;u>1;){var m=u-2;if(m>=1&&s[m-1]<=s[m]+s[m+1]||m>=2&&s[m-2]<=s[m]+s[m-1])s[m-1]<s[m+1]&&m--;else if(s[m]>s[m+1])break;v(m)}}function c(){for(;u>1;){var m=u-2;m>0&&s[m-1]<s[m+1]&&m--,v(m)}}function v(m){var y=o[m],w=s[m],T=o[m+1],M=s[m+1];s[m]=w+M,m===u-3&&(o[m+1]=o[m+2],s[m+1]=s[m+2]),u--;var L=yi(t[T],t,y,w,0,e);y+=L,w-=L,w!==0&&(M=$n(t[y+w-1],t,T,M,M-1,e),M!==0&&(w<=M?p(y,w,T,M):_(y,w,T,M)))}function p(m,y,w,T){var M=0;for(M=0;M<y;M++)l[M]=t[m+M];var L=0,I=w,k=m;if(t[k++]=t[I++],--T===0){for(M=0;M<y;M++)t[k+M]=l[L+M];return}if(y===1){for(M=0;M<T;M++)t[k+M]=t[I+M];t[k+T]=l[L];return}for(var $=r,G,X,U;;){G=0,X=0,U=!1;do if(e(t[I],l[L])<0){if(t[k++]=t[I++],X++,G=0,--T===0){U=!0;break}}else if(t[k++]=l[L++],G++,X=0,--y===1){U=!0;break}while((G|X)<$);if(U)break;do{if(G=yi(t[I],l,L,y,0,e),G!==0){for(M=0;M<G;M++)t[k+M]=l[L+M];if(k+=G,L+=G,y-=G,y<=1){U=!0;break}}if(t[k++]=t[I++],--T===0){U=!0;break}if(X=$n(l[L],t,I,T,0,e),X!==0){for(M=0;M<X;M++)t[k+M]=t[I+M];if(k+=X,I+=X,T-=X,T===0){U=!0;break}}if(t[k++]=l[L++],--y===1){U=!0;break}$--}while(G>=Ji||X>=Ji);if(U)break;$<0&&($=0),$+=2}if(r=$,r<1&&(r=1),y===1){for(M=0;M<T;M++)t[k+M]=t[I+M];t[k+T]=l[L]}else{if(y===0)throw new Error;for(M=0;M<y;M++)t[k+M]=l[L+M]}}function _(m,y,w,T){var M=0;for(M=0;M<T;M++)l[M]=t[w+M];var L=m+y-1,I=T-1,k=w+T-1,$=0,G=0;if(t[k--]=t[L--],--y===0){for($=k-(T-1),M=0;M<T;M++)t[$+M]=l[M];return}if(T===1){for(k-=y,L-=y,G=k+1,$=L+1,M=y-1;M>=0;M--)t[G+M]=t[$+M];t[k]=l[I];return}for(var X=r;;){var U=0,ie=0,de=!1;do if(e(l[I],t[L])<0){if(t[k--]=t[L--],U++,ie=0,--y===0){de=!0;break}}else if(t[k--]=l[I--],ie++,U=0,--T===1){de=!0;break}while((U|ie)<X);if(de)break;do{if(U=y-yi(l[I],t,m,y,y-1,e),U!==0){for(k-=U,L-=U,y-=U,G=k+1,$=L+1,M=U-1;M>=0;M--)t[G+M]=t[$+M];if(y===0){de=!0;break}}if(t[k--]=l[I--],--T===1){de=!0;break}if(ie=T-$n(t[L],l,0,T,T-1,e),ie!==0){for(k-=ie,I-=ie,T-=ie,G=k+1,$=I+1,M=0;M<ie;M++)t[G+M]=l[$+M];if(T<=1){de=!0;break}}if(t[k--]=t[L--],--y===0){de=!0;break}X--}while(U>=Ji||ie>=Ji);if(de)break;X<0&&(X=0),X+=2}if(r=X,r<1&&(r=1),T===1){for(k-=y,L-=y,G=k+1,$=L+1,M=y-1;M>=0;M--)t[G+M]=t[$+M];t[k]=l[I]}else{if(T===0)throw new Error;for($=k-(T-1),M=0;M<T;M++)t[$+M]=l[M]}}return{mergeRuns:h,forceMergeRuns:c,pushRun:f}}function co(t,e,r,n){r||(r=0),n||(n=t.length);var i=n-r;if(!(i<2)){var a=0;if(i<fo){a=ho(t,r,n,e),ea(t,r,n,r+a,e);return}var o=Zc(t,e),s=jl(i);do{if(a=ho(t,r,n,e),a<s){var u=i;u>s&&(u=s),ea(t,r,r+u,r+a,e),a=u}o.pushRun(r,a),o.mergeRuns(),i-=a,r+=a}while(i!==0);o.forceMergeRuns()}}var st=1,Dr=2,_i=4,vo=!1;function Zs(){vo||(vo=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Zl(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var po=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Zl}return t.prototype.traverse=function(e,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,r)},t.prototype.getDisplayList=function(e,r){r=r||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(r),n},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,a=r.length;i<a;i++)this._updateAndAddDisplayable(r[i],null,e);n.length=this._displayListLen,co(n,Zl)},t.prototype._updateAndAddDisplayable=function(e,r,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var a=i,o=e;a;)a.parent=o,a.updateTransform(),r.push(a),o=a,a=a.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),u=0;u<s.length;u++){var l=s[u];e.__dirty&&(l.__dirty|=st),this._updateAndAddDisplayable(l,r,n)}e.__dirty=0}else{var f=e;r&&r.length?f.__clipPaths=r:f.__clipPaths&&f.__clipPaths.length>0&&(f.__clipPaths=[]),isNaN(f.z)&&(Zs(),f.z=0),isNaN(f.z2)&&(Zs(),f.z2=0),isNaN(f.zlevel)&&(Zs(),f.zlevel=0),this._displayList[this._displayListLen++]=f}var h=e.getDecalElement&&e.getDecalElement();h&&this._updateAndAddDisplayable(h,r,n);var c=e.getTextGuideLine();c&&this._updateAndAddDisplayable(c,r,n);var v=e.getTextContent();v&&this._updateAndAddDisplayable(v,r,n)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var r=0,n=e.length;r<n;r++)this.delRoot(e[r]);return}var i=it(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}();const qs=po;var ql;ql=Ze.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};const Ks=ql;var ta={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-ta.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?ta.bounceIn(t*2)*.5:ta.bounceOut(t*2-1)*.5+.5}};const Kl=ta;var go=Math.pow,qr=Math.sqrt,Yn=1e-8,Ql=1e-4,Jl=qr(3),mo=1/3,Ir=pn(),Qt=pn(),bi=pn();function _n(t){return t>-Yn&&t<Yn}function ef(t){return t>Yn||t<-Yn}function _t(t,e,r,n,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*n+3*a*r)}function tf(t,e,r,n,i){var a=1-i;return 3*(((e-t)*a+2*(r-e)*i)*a+(n-r)*i*i)}function rf(t,e,r,n,i,a){var o=n+3*(e-r)-t,s=3*(r-e*2+t),u=3*(e-t),l=t-i,f=s*s-3*o*u,h=s*u-9*o*l,c=u*u-3*s*l,v=0;if(_n(f)&&_n(h))if(_n(s))a[0]=0;else{var p=-u/s;p>=0&&p<=1&&(a[v++]=p)}else{var _=h*h-4*f*c;if(_n(_)){var m=h/f,p=-s/o+m,y=-m/2;p>=0&&p<=1&&(a[v++]=p),y>=0&&y<=1&&(a[v++]=y)}else if(_>0){var w=qr(_),T=f*s+1.5*o*(-h+w),M=f*s+1.5*o*(-h-w);T<0?T=-go(-T,mo):T=go(T,mo),M<0?M=-go(-M,mo):M=go(M,mo);var p=(-s-(T+M))/(3*o);p>=0&&p<=1&&(a[v++]=p)}else{var L=(2*f*s-3*o*h)/(2*qr(f*f*f)),I=Math.acos(L)/3,k=qr(f),$=Math.cos(I),p=(-s-2*k*$)/(3*o),y=(-s+k*($+Jl*Math.sin(I)))/(3*o),G=(-s+k*($-Jl*Math.sin(I)))/(3*o);p>=0&&p<=1&&(a[v++]=p),y>=0&&y<=1&&(a[v++]=y),G>=0&&G<=1&&(a[v++]=G)}}return v}function nf(t,e,r,n,i){var a=6*r-12*e+6*t,o=9*e+3*n-3*t-9*r,s=3*e-3*t,u=0;if(_n(o)){if(ef(a)){var l=-s/a;l>=0&&l<=1&&(i[u++]=l)}}else{var f=a*a-4*o*s;if(_n(f))i[0]=-a/(2*o);else if(f>0){var h=qr(f),l=(-a+h)/(2*o),c=(-a-h)/(2*o);l>=0&&l<=1&&(i[u++]=l),c>=0&&c<=1&&(i[u++]=c)}}return u}function ra(t,e,r,n,i,a){var o=(e-t)*i+t,s=(r-e)*i+e,u=(n-r)*i+r,l=(s-o)*i+o,f=(u-s)*i+s,h=(f-l)*i+l;a[0]=t,a[1]=o,a[2]=l,a[3]=h,a[4]=h,a[5]=f,a[6]=u,a[7]=n}function qc(t,e,r,n,i,a,o,s,u,l,f){var h,c=.005,v=1/0,p,_,m,y;Ir[0]=u,Ir[1]=l;for(var w=0;w<1;w+=.05)Qt[0]=_t(t,r,i,o,w),Qt[1]=_t(e,n,a,s,w),m=Fn(Ir,Qt),m<v&&(h=w,v=m);v=1/0;for(var T=0;T<32&&!(c<Ql);T++)p=h-c,_=h+c,Qt[0]=_t(t,r,i,o,p),Qt[1]=_t(e,n,a,s,p),m=Fn(Qt,Ir),p>=0&&m<v?(h=p,v=m):(bi[0]=_t(t,r,i,o,_),bi[1]=_t(e,n,a,s,_),y=Fn(bi,Ir),_<=1&&y<v?(h=_,v=y):c*=.5);return f&&(f[0]=_t(t,r,i,o,h),f[1]=_t(e,n,a,s,h)),qr(v)}function Kc(t,e,r,n,i,a,o,s,u){for(var l=t,f=e,h=0,c=1/u,v=1;v<=u;v++){var p=v*c,_=_t(t,r,i,o,p),m=_t(e,n,a,s,p),y=_-l,w=m-f;h+=Math.sqrt(y*y+w*w),l=_,f=m}return h}function bt(t,e,r,n){var i=1-n;return i*(i*t+2*n*e)+n*n*r}function af(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))}function of(t,e,r,n,i){var a=t-2*e+r,o=2*(e-t),s=t-n,u=0;if(_n(a)){if(ef(o)){var l=-s/o;l>=0&&l<=1&&(i[u++]=l)}}else{var f=o*o-4*a*s;if(_n(f)){var l=-o/(2*a);l>=0&&l<=1&&(i[u++]=l)}else if(f>0){var h=qr(f),l=(-o+h)/(2*a),c=(-o-h)/(2*a);l>=0&&l<=1&&(i[u++]=l),c>=0&&c<=1&&(i[u++]=c)}}return u}function sf(t,e,r){var n=t+r-2*e;return n===0?.5:(t-e)/n}function na(t,e,r,n,i){var a=(e-t)*n+t,o=(r-e)*n+e,s=(o-a)*n+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=r}function Qc(t,e,r,n,i,a,o,s,u){var l,f=.005,h=1/0;Ir[0]=o,Ir[1]=s;for(var c=0;c<1;c+=.05){Qt[0]=bt(t,r,i,c),Qt[1]=bt(e,n,a,c);var v=Fn(Ir,Qt);v<h&&(l=c,h=v)}h=1/0;for(var p=0;p<32&&!(f<Ql);p++){var _=l-f,m=l+f;Qt[0]=bt(t,r,i,_),Qt[1]=bt(e,n,a,_);var v=Fn(Qt,Ir);if(_>=0&&v<h)l=_,h=v;else{bi[0]=bt(t,r,i,m),bi[1]=bt(e,n,a,m);var y=Fn(bi,Ir);m<=1&&y<h?(l=m,h=y):f*=.5}}return u&&(u[0]=bt(t,r,i,l),u[1]=bt(e,n,a,l)),qr(h)}function Jc(t,e,r,n,i,a,o){for(var s=t,u=e,l=0,f=1/o,h=1;h<=o;h++){var c=h*f,v=bt(t,r,i,c),p=bt(e,n,a,c),_=v-s,m=p-u;l+=Math.sqrt(_*_+m*m),s=v,u=p}return l}var ev=/cubic-bezier\(([0-9,\.e ]+)\)/;function uf(t){var e=t&&ev.exec(t);if(e){var r=e[1].split(","),n=+dn(r[0]),i=+dn(r[1]),a=+dn(r[2]),o=+dn(r[3]);if(isNaN(n+i+a+o))return;var s=[];return function(u){return u<=0?0:u>=1?1:rf(0,n,a,1,u,s)&&_t(0,i,o,1,s[0])}}}var tv=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Ot,this.ondestroy=e.ondestroy||Ot,this.onrestart=e.onrestart||Ot,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,r){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=e-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var u=i%n;this._startTime=e-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=et(e)?e:Kl[e]||uf(e)},t}();const rv=tv;var yo=function(){function t(e){this.value=e}return t}(),nv=function(){function t(){this._len=0}return t.prototype.insert=function(e){var r=new yo(e);return this.insertEntry(r),r},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var r=e.prev,n=e.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),iv=function(){function t(e){this._list=new nv,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,r){var n=this._list,i=this._map,a=null;if(i[e]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=n.head;n.remove(u),delete i[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=r:s=new yo(r),s.key=e,n.insertEntry(s),i[e]=s}return a},t.prototype.get=function(e){var r=this._map[e],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();const ia=iv;var Qs={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function mr(t){return t=Math.round(t),t<0?0:t>255?255:t}function av(t){return t=Math.round(t),t<0?0:t>360?360:t}function Un(t){return t<0?0:t>1?1:t}function Js(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?mr(parseFloat(e)/100*255):mr(parseInt(e,10))}function Wn(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Un(parseFloat(e)/100):Un(parseFloat(e))}function eu(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function Kr(t,e,r){return t+(e-t)*r}function Jt(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function tu(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var lf=new ia(20),_o=null;function wi(t,e){_o&&tu(_o,e),_o=lf.put(t,_o||e.slice())}function er(t,e){if(t){e=e||[];var r=lf.get(t);if(r)return tu(e,r);t=t+"";var n=t.replace(/ /g,"").toLowerCase();if(n in Qs)return tu(e,Qs[n]),wi(t,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){Jt(e,0,0,0,1);return}return Jt(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),wi(t,e),e}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){Jt(e,0,0,0,1);return}return Jt(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),wi(t,e),e}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===i){var u=n.substr(0,o),l=n.substr(o+1,s-(o+1)).split(","),f=1;switch(u){case"rgba":if(l.length!==4)return l.length===3?Jt(e,+l[0],+l[1],+l[2],1):Jt(e,0,0,0,1);f=Wn(l.pop());case"rgb":if(l.length>=3)return Jt(e,Js(l[0]),Js(l[1]),Js(l[2]),l.length===3?f:Wn(l[3])),wi(t,e),e;Jt(e,0,0,0,1);return;case"hsla":if(l.length!==4){Jt(e,0,0,0,1);return}return l[3]=Wn(l[3]),ru(l,e),wi(t,e),e;case"hsl":if(l.length!==3){Jt(e,0,0,0,1);return}return ru(l,e),wi(t,e),e;default:return}}Jt(e,0,0,0,1)}}function ru(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=Wn(t[1]),i=Wn(t[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return e=e||[],Jt(e,mr(eu(o,a,r+1/3)*255),mr(eu(o,a,r)*255),mr(eu(o,a,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function ov(t){if(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=a-i,s=(a+i)/2,u,l;if(o===0)u=0,l=0;else{s<.5?l=o/(a+i):l=o/(2-a-i);var f=((a-e)/6+o/2)/o,h=((a-r)/6+o/2)/o,c=((a-n)/6+o/2)/o;e===a?u=c-h:r===a?u=1/3+f-c:n===a&&(u=2/3+h-f),u<0&&(u+=1),u>1&&(u-=1)}var v=[u*360,l,s];return t[3]!=null&&v.push(t[3]),v}}function ff(t,e){var r=er(t);if(r){for(var n=0;n<3;n++)e<0?r[n]=r[n]*(1-e)|0:r[n]=(255-r[n])*e+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return Si(r,r.length===4?"rgba":"rgb")}}function pg(t){var e=er(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function gg(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){r=r||[];var n=t*(e.length-1),i=Math.floor(n),a=Math.ceil(n),o=e[i],s=e[a],u=n-i;return r[0]=mr(Kr(o[0],s[0],u)),r[1]=mr(Kr(o[1],s[1],u)),r[2]=mr(Kr(o[2],s[2],u)),r[3]=Un(Kr(o[3],s[3],u)),r}}var mg=null;function yg(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var n=t*(e.length-1),i=Math.floor(n),a=Math.ceil(n),o=er(e[i]),s=er(e[a]),u=n-i,l=Si([mr(Kr(o[0],s[0],u)),mr(Kr(o[1],s[1],u)),mr(Kr(o[2],s[2],u)),Un(Kr(o[3],s[3],u))],"rgba");return r?{color:l,leftIndex:i,rightIndex:a,value:n}:l}}var sv=null;function _g(t,e,r,n){var i=er(t);if(t)return i=ov(i),e!=null&&(i[0]=av(e)),r!=null&&(i[1]=Wn(r)),n!=null&&(i[2]=Wn(n)),Si(ru(i),"rgba")}function bg(t,e){var r=er(t);if(r&&e!=null)return r[3]=Un(e),Si(r,"rgba")}function Si(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}}function aa(t,e){var r=er(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}function wg(){return Si([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var oa=Math.round;function Sg(t){var e;if(!t||t==="transparent")t="none";else if(typeof t=="string"&&t.indexOf("rgba")>-1){var r=parse(t);r&&(t="rgb("+r[0]+","+r[1]+","+r[2]+")",e=r[3])}return{color:t,opacity:e??1}}var Ti=1e-4;function Tg(t){return t<Ti&&t>-Ti}function bo(t){return oa(t*1e3)/1e3}function hf(t){return oa(t*1e4)/1e4}function Cg(t){return oa(t*10)/10}function Eg(t){return"matrix("+bo(t[0])+","+bo(t[1])+","+bo(t[2])+","+bo(t[3])+","+hf(t[4])+","+hf(t[5])+")"}var cf={left:"start",right:"end",center:"middle",middle:"middle"};function Mg(t,e,r){return r==="top"?t+=e/2:r==="bottom"&&(t-=e/2),t}function xg(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function Dg(t){var e=t.style,r=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function Ig(t){var e=[];if(t)for(var r=0;r<t.length;r++){var n=t[r];e.push(n.id)}return e.join(",")}function uv(t){return t&&!!t.image}function lv(t){return t&&!!t.svgElement}function vf(t){return uv(t)||lv(t)}function fv(t){return t.type==="linear"}function hv(t){return t.type==="radial"}function Pg(t){return t&&(t.type==="linear"||t.type==="radial")}function Lg(t){return"url(#"+t+")"}function Rg(t){var e=t.getGlobalScale(),r=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function Ag(t){var e=t.x||0,r=t.y||0,n=(t.rotation||0)*RADIAN_TO_DEGREE,i=retrieve2(t.scaleX,1),a=retrieve2(t.scaleY,1),o=t.skewX||0,s=t.skewY||0,u=[];return(e||r)&&u.push("translate("+e+"px,"+r+"px)"),n&&u.push("rotate("+n+")"),(i!==1||a!==1)&&u.push("scale("+i+","+a+")"),(o||s)&&u.push("skew("+oa(o*RADIAN_TO_DEGREE)+"deg, "+oa(s*RADIAN_TO_DEGREE)+"deg)"),u.join(" ")}var Og=function(){return Ze.hasGlobalWindow&&et(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}}(),wo=Array.prototype.slice;function Qr(t,e,r){return(e-t)*r+t}function nu(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=Qr(e[a],r[a],n);return t}function df(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=Qr(e[o][s],r[o][s],n)}return t}function So(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=e[a]+r[a]*n;return t}function pf(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=e[o][s]+r[o][s]*n}return t}function cv(t,e){for(var r=t.length,n=e.length,i=r>n?e:t,a=Math.min(r,n),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(r,n);s++)i.push({offset:o.offset,color:o.color.slice()})}function vv(t,e,r){var n=t,i=e;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var u=a;u<o;u++)n.push(r===1?i[u]:wo.call(i[u]))}for(var l=n[0]&&n[0].length,u=0;u<n.length;u++)if(r===1)isNaN(n[u])&&(n[u]=i[u]);else for(var f=0;f<l;f++)isNaN(n[u][f])&&(n[u][f]=i[u][f])}}function To(t){if(Ut(t)){var e=t.length;if(Ut(t[0])){for(var r=[],n=0;n<e;n++)r.push(wo.call(t[n]));return r}return wo.call(t)}return t}function Co(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function dv(t){return Ut(t&&t[0])?2:1}var Eo=0,Mo=1,wt=2,Jr=3,Pr=4,Ci=5,iu=6;function au(t){return t===Pr||t===Ci}function Xn(t){return t===Mo||t===wt}var Ei=[0,0,0,0],ou=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,r,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=iu,u=r;if(Ut(r)){var l=dv(r);s=l,(l===1&&!ot(r[0])||l===2&&!ot(r[0][0]))&&(o=!0)}else if(ot(r)&&!Ml(r))s=Eo;else if(ze(r))if(!isNaN(+r))s=Eo;else{var f=er(r);f&&(u=f,s=Jr)}else if(ci(r)){var h=be({},u);h.colorStops=Je(r.colorStops,function(v){return{offset:v.offset,color:er(v.color)}}),fv(r)?s=Pr:hv(r)&&(s=Ci),u=h}a===0?this.valType=s:(s!==this.valType||s===iu)&&(o=!0),this.discrete=this.discrete||o;var c={time:e,value:u,rawValue:r,percent:0};return n&&(c.easing=n,c.easingFunc=et(n)?n:Kl[n]||uf(n)),i.push(c),c},t.prototype.prepare=function(e,r){var n=this.keyframes;this._needsSort&&n.sort(function(_,m){return _.time-m.time});for(var i=this.valType,a=n.length,o=n[a-1],s=this.discrete,u=Xn(i),l=au(i),f=0;f<a;f++){var h=n[f],c=h.value,v=o.value;h.percent=h.time/e,s||(u&&f!==a-1?vv(c,v,i):l&&cv(c.colorStops,v.colorStops))}if(!s&&i!==Ci&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var p=n[0].value,f=0;f<a;f++)i===Eo?n[f].additiveValue=n[f].value-p:i===Jr?n[f].additiveValue=So([],n[f].value,p,-1):Xn(i)&&(n[f].additiveValue=i===Mo?So([],n[f].value,p,-1):pf([],n[f].value,p,-1))}},t.prototype.step=function(e,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,u=this.propName,l=a===Jr,f,h=this._lastFr,c=Math.min,v,p;if(s===1)v=p=o[0];else{if(r<0)f=0;else if(r<this._lastFrP){var _=c(h+1,s-1);for(f=_;f>=0&&!(o[f].percent<=r);f--);f=c(f,s-2)}else{for(f=h;f<s&&!(o[f].percent>r);f++);f=c(f-1,s-2)}p=o[f+1],v=o[f]}if(v&&p){this._lastFr=f,this._lastFrP=r;var m=p.percent-v.percent,y=m===0?1:c((r-v.percent)/m,1);p.easingFunc&&(y=p.easingFunc(y));var w=n?this._additiveValue:l?Ei:e[u];if((Xn(a)||l)&&!w&&(w=this._additiveValue=[]),this.discrete)e[u]=y<1?v.rawValue:p.rawValue;else if(Xn(a))a===Mo?nu(w,v[i],p[i],y):df(w,v[i],p[i],y);else if(au(a)){var T=v[i],M=p[i],L=a===Pr;e[u]={type:L?"linear":"radial",x:Qr(T.x,M.x,y),y:Qr(T.y,M.y,y),colorStops:Je(T.colorStops,function(k,$){var G=M.colorStops[$];return{offset:Qr(k.offset,G.offset,y),color:Co(nu([],k.color,G.color,y))}}),global:M.global},L?(e[u].x2=Qr(T.x2,M.x2,y),e[u].y2=Qr(T.y2,M.y2,y)):e[u].r=Qr(T.r,M.r,y)}else if(l)nu(w,v[i],p[i],y),n||(e[u]=Co(w));else{var I=Qr(v[i],p[i],y);n?this._additiveValue=I:e[u]=I}n&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var r=this.valType,n=this.propName,i=this._additiveValue;r===Eo?e[n]=e[n]+i:r===Jr?(er(e[n],Ei),So(Ei,Ei,i,1),e[n]=Co(Ei)):r===Mo?So(e[n],e[n],i,1):r===wt&&pf(e[n],e[n],i,1)},t}(),gf=function(){function t(e,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=r,r&&i){Ja("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,r,n){return this.whenWithKeys(e,r,lt(r),n)},t.prototype.whenWithKeys=function(e,r,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],u=a[s];if(!u){u=a[s]=new ou(s);var l=void 0,f=this._getAdditiveTrack(s);if(f){var h=f.keyframes,c=h[h.length-1];l=c&&c.value,f.valType===Jr&&l&&(l=Co(l))}else l=this._target[s];if(l==null)continue;e>0&&u.addKeyframe(0,To(l),i),this._trackKeys.push(s)}u.addKeyframe(e,To(r[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var r=e.length,n=0;n<r;n++)e[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,r=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)e[r[n]].setFinished()},t.prototype._getAdditiveTrack=function(e){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(e);a&&(r=a)}return r},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],u=this._getAdditiveTrack(o),l=s.keyframes,f=l.length;if(s.prepare(i,u),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var h=l[f-1];h&&(r._target[s.propName]=h.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var c=new rv({life:i,loop:this._loop,delay:this._delay||0,onframe:function(v){r._started=2;var p=r._additiveAnimators;if(p){for(var _=!1,m=0;m<p.length;m++)if(p[m]._clip){_=!0;break}_||(r._additiveAnimators=null)}for(var m=0;m<n.length;m++)n[m].step(r._target,v);var y=r._onframeCbs;if(y)for(var m=0;m<y.length;m++)y[m](r._target,v)},ondestroy:function(){r._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),e&&c.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var r=this._clip;e&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return Je(this._trackKeys,function(r){return e._tracks[r]})},t.prototype.stopTracks=function(e,r){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var o=n[e[a]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,r,n){if(e){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var a=r[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,u=s[n?0:s.length-1];u&&(e[a]=To(u.rawValue))}}}},t.prototype.__changeFinalValue=function(e,r){r=r||lt(e);for(var n=0;n<r.length;n++){var i=r[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},t}();const su=gf;function Mi(){return new Date().getTime()}var kg=function(t){C(e,t);function e(r){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return e.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},e.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},e.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},e.prototype.update=function(r){for(var n=Mi()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(Ks(n),!r._paused&&r.update())}Ks(n)},e.prototype.start=function(){this._running||(this._time=Mi(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Mi(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Mi()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(r,n){n=n||{},this.start();var i=new su(r,n.loop);return this.addAnimator(i),i},e}(pr);const sa=kg;var Lr=300,uu=Ze.domSupported,xo=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Je(t,function(i){var a=i.replace("mouse","pointer");return r.hasOwnProperty(a)?a:i});return{mouse:t,touch:e,pointer:n}}(),lu={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},fu=!1;function hu(t){var e=t.pointerType;return e==="pen"||e==="touch"}function pv(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function cu(t){t&&(t.zrByTouch=!0)}function gv(t,e){return gr(t.dom,new mv(t,e),!0)}function mf(t,e){for(var r=e,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return n}var mv=function(){function t(e,r){this.stopPropagation=Ot,this.stopImmediatePropagation=Ot,this.preventDefault=Ot,this.type=r.type,this.target=this.currentTarget=e.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t}(),yr={mousedown:function(t){t=gr(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=gr(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=gr(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=gr(this.dom,t);var e=t.toElement||t.relatedTarget;mf(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){fu=!0,t=gr(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){fu||(t=gr(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=gr(this.dom,t),cu(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),yr.mousemove.call(this,t),yr.mousedown.call(this,t)},touchmove:function(t){t=gr(this.dom,t),cu(t),this.handler.processGesture(t,"change"),yr.mousemove.call(this,t)},touchend:function(t){t=gr(this.dom,t),cu(t),this.handler.processGesture(t,"end"),yr.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<Lr&&yr.click.call(this,t)},pointerdown:function(t){yr.mousedown.call(this,t)},pointermove:function(t){hu(t)||yr.mousemove.call(this,t)},pointerup:function(t){yr.mouseup.call(this,t)},pointerout:function(t){hu(t)||yr.mouseout.call(this,t)}};Z(["click","dblclick","contextmenu"],function(t){yr[t]=function(e){e=gr(this.dom,e),this.trigger(t,e)}});var vu={pointermove:function(t){hu(t)||vu.mousemove.call(this,t)},pointerup:function(t){vu.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function yv(t,e){var r=e.domHandlers;Ze.pointerEventsSupported?Z(xo.pointer,function(n){Do(e,n,function(i){r[n].call(t,i)})}):(Ze.touchEventsSupported&&Z(xo.touch,function(n){Do(e,n,function(i){r[n].call(t,i),pv(e)})}),Z(xo.mouse,function(n){Do(e,n,function(i){i=Zi(i),e.touching||r[n].call(t,i)})}))}function _v(t,e){Ze.pointerEventsSupported?Z(lu.pointer,r):Ze.touchEventsSupported||Z(lu.mouse,r);function r(n){function i(a){a=Zi(a),mf(t,a.target)||(a=gv(t,a),e.domHandlers[n].call(t,a))}Do(e,n,i,{capture:!0})}}function Do(t,e,r,n){t.mounted[e]=r,t.listenerOpts[e]=n,zc(t.domTarget,e,r,n)}function Io(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&ao(t.domTarget,r,e[r],t.listenerOpts[r]);t.mounted={}}var yf=function(){function t(e,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=r}return t}(),bv=function(t){C(e,t);function e(r,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new yf(r,yr),uu&&(i._globalHandlerScope=new yf(document,vu)),yv(i,i._localHandlerScope),i}return e.prototype.dispose=function(){Io(this._localHandlerScope),uu&&Io(this._globalHandlerScope)},e.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},e.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,uu&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?_v(this,n):Io(n)}},e}(pr);const wv=bv;var _f=1;Ze.hasGlobalWindow&&(_f=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Sv=0,Po=_f,du=.4,pu="#333",Lo="#ccc",Tv="#eee",bf=Gc,wf=5e-5;function Rr(t){return t>wf||t<-wf}var jn=[],xi=[],gu=yn(),mu=Math.abs,Cv=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Rr(this.rotation)||Rr(this.x)||Rr(this.y)||Rr(this.scaleX-1)||Rr(this.scaleY-1)||Rr(this.skewX)||Rr(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||e)){n&&(bf(n),this.invTransform=null);return}n=n||yn(),r?this.getLocalTransform(n):bf(n),e&&(r?Us(n,e,n):Ys(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},t.prototype._resolveGlobalScaleRatio=function(e){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(jn);var n=jn[0]<0?-1:1,i=jn[1]<0?-1:1,a=((jn[0]-n)*r+n)/jn[0]||0,o=((jn[1]-i)*r+i)/jn[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||yn(),Hl(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,r=[];e;)r.push(e),e=e.parent;for(;e=r.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var r=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,r=this.transform;e&&e.transform&&(Us(xi,e.invTransform,r),r=xi);var n=this.originX,i=this.originY;(n||i)&&(gu[4]=n,gu[5]=i,Us(xi,r,gu),xi[4]-=n,xi[5]-=i,r=xi),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(e){var r=this.transform;return e=e||[],r?(e[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),e[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(e[0]=-e[0]),r[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,r){var n=[e,r],i=this.invTransform;return i&&jr(n,n,i),n},t.prototype.transformCoordToGlobal=function(e,r){var n=[e,r],i=this.transform;return i&&jr(n,n,i),n},t.prototype.getLineScale=function(){var e=this.transform;return e&&mu(e[0]-1)>1e-10&&mu(e[3]-1)>1e-10?Math.sqrt(mu(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){Ev(this,e)},t.getLocalTransform=function(e,r){r=r||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,u=e.anchorY,l=e.rotation||0,f=e.x,h=e.y,c=e.skewX?Math.tan(e.skewX):0,v=e.skewY?Math.tan(-e.skewY):0;if(n||i||s||u){var p=n+s,_=i+u;r[4]=-p*a-c*_*o,r[5]=-_*o-v*p*a}else r[4]=r[5]=0;return r[0]=a,r[3]=o,r[1]=v*a,r[2]=c*o,l&&Vl(r,r,l),r[4]+=n+f,r[5]+=i+h,r},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),ua=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Ev(t,e){for(var r=0;r<ua.length;r++){var n=ua[r];t[n]=e[n]}}const Di=Cv;var Sf={};function Wt(t,e){e=e||ue;var r=Sf[e];r||(r=Sf[e]=new ia(500));var n=r.get(t);return n==null&&(n=rt.measureText(t,e).width,r.put(t,n)),n}function Tf(t,e,r,n){var i=Wt(t,e),a=yu(e),o=la(0,i,r),s=Ii(0,a,n),u=new Ke(o,s,i,a);return u}function Mv(t,e,r,n){var i=((t||"")+"").split(`
`),a=i.length;if(a===1)return Tf(i[0],e,r,n);for(var o=new Ke(0,0,0,0),s=0;s<i.length;s++){var u=Tf(i[s],e,r,n);s===0?o.copy(u):o.union(u)}return o}function la(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Ii(t,e,r){return r==="middle"?t-=e/2:r==="bottom"&&(t-=e),t}function yu(t){return Wt("\u56FD",t)}function xv(t,e){return platformApi.measureText(t,e)}function fa(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Cf(t,e,r){var n=e.position||"inside",i=e.distance!=null?e.distance:5,a=r.height,o=r.width,s=a/2,u=r.x,l=r.y,f="left",h="top";if(n instanceof Array)u+=fa(n[0],r.width),l+=fa(n[1],r.height),f=null,h=null;else switch(n){case"left":u-=i,l+=s,f="right",h="middle";break;case"right":u+=i+o,l+=s,h="middle";break;case"top":u+=o/2,l-=i,f="center",h="bottom";break;case"bottom":u+=o/2,l+=a+i,f="center";break;case"inside":u+=o/2,l+=s,f="center",h="middle";break;case"insideLeft":u+=i,l+=s,h="middle";break;case"insideRight":u+=o-i,l+=s,f="right",h="middle";break;case"insideTop":u+=o/2,l+=i,f="center";break;case"insideBottom":u+=o/2,l+=a-i,f="center",h="bottom";break;case"insideTopLeft":u+=i,l+=i;break;case"insideTopRight":u+=o-i,l+=i,f="right";break;case"insideBottomLeft":u+=i,l+=a-i,h="bottom";break;case"insideBottomRight":u+=o-i,l+=a-i,f="right",h="bottom";break}return t=t||{},t.x=u,t.y=l,t.align=f,t.verticalAlign=h,t}var Ro="__zr_normal__",_u=ua.concat(["ignore"]),Dv=hi(ua,function(t,e){return t[e]=!0,t},{ignore:!1}),Pi={},Iv=new Ke(0,0,0,0),bu=function(){function t(e){this.id=Ps(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var r=this._textContent;if(r&&(!r.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=r.innerTransformable,o=void 0,s=void 0,u=!1;a.parent=i?this:null;var l=!1;if(a.copyTransform(r),n.position!=null){var f=Iv;n.layoutRect?f.copy(n.layoutRect):f.copy(this.getBoundingRect()),i||f.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Pi,n,f):Cf(Pi,n,f),a.x=Pi.x,a.y=Pi.y,o=Pi.align,s=Pi.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var c=void 0,v=void 0;h==="center"?(c=f.width*.5,v=f.height*.5):(c=fa(h[0],f.width),v=fa(h[1],f.height)),l=!0,a.originX=-a.x+c+(i?0:f.x),a.originY=-a.y+v+(i?0:f.y)}}n.rotation!=null&&(a.rotation=n.rotation);var p=n.offset;p&&(a.x+=p[0],a.y+=p[1],l||(a.originX=-p[0],a.originY=-p[1]));var _=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,w=void 0,T=void 0;_&&this.canBeInsideText()?(y=n.insideFill,w=n.insideStroke,(y==null||y==="auto")&&(y=this.getInsideTextFill()),(w==null||w==="auto")&&(w=this.getInsideTextStroke(y),T=!0)):(y=n.outsideFill,w=n.outsideStroke,(y==null||y==="auto")&&(y=this.getOutsideFill()),(w==null||w==="auto")&&(w=this.getOutsideStroke(y),T=!0)),y=y||"#000",(y!==m.fill||w!==m.stroke||T!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(u=!0,m.fill=y,m.stroke=w,m.autoStroke=T,m.align=o,m.verticalAlign=s,r.setDefaultTextStyle(m)),r.__dirty|=st,u&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Lo:pu},t.prototype.getOutsideStroke=function(e){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&er(r);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,Si(n,"rgba")},t.prototype.traverse=function(e,r){},t.prototype.attrKV=function(e,r){e==="textConfig"?this.setTextConfig(r):e==="textContent"?this.setTextContent(r):e==="clipPath"?this.setClipPath(r):e==="extra"?(this.extra=this.extra||{},be(this.extra,r)):this[e]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,r){if(typeof e=="string")this.attrKV(e,r);else if(Re(e))for(var n=e,i=lt(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==Ro)){var o=i.targetName,s=o?r[o]:r;i.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var r=this._normalState;r||(r=this._normalState={}),e.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(e,r,_u)},t.prototype._savePrimaryToNormal=function(e,r,n){for(var i=0;i<n.length;i++){var a=n[i];e[a]!=null&&!(a in r)&&(r[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var r=this.states;return r[e]||(r[e]={}),r[e]},t.prototype.clearStates=function(e){this.useState(Ro,!1,e)},t.prototype.useState=function(e,r,n,i){var a=e===Ro,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,u=this.stateTransition;if(!(it(s,e)>=0&&(r||s.length===1))){var l;if(this.stateProxy&&!a&&(l=this.stateProxy(e)),l||(l=this.states&&this.states[e]),!l&&!a){Ja("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(l);var f=!!(l&&l.hoverLayer||i);f&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,l,this._normalState,r,!n&&!this.__inHover&&u&&u.duration>0,u);var h=this._textContent,c=this._textGuide;return h&&h.useState(e,r,n,f),c&&c.useState(e,r,n,f),a?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~st),l}}},t.prototype.useStates=function(e,r,n){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var u=0;u<o;u++)if(e[u]!==a[u]){s=!1;break}}if(s)return;for(var u=0;u<o;u++){var l=e[u],f=void 0;this.stateProxy&&(f=this.stateProxy(l,e)),f||(f=this.states[l]),f&&i.push(f)}var h=i[o-1],c=!!(h&&h.hoverLayer||n);c&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(e.join(","),v,this._normalState,!1,!r&&!this.__inHover&&p&&p.duration>0,p);var _=this._textContent,m=this._textGuide;_&&_.useStates(e,r,c),m&&m.useStates(e,r,c),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~st)}},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var r=this.animators[e];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(e){var r=it(this.currentStates,e);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},t.prototype.replaceState=function(e,r,n){var i=this.currentStates.slice(),a=it(i,e),o=it(i,r)>=0;a>=0?o?i.splice(a,1):i[a]=r:n&&!o&&i.push(r),this.useStates(i)},t.prototype.toggleState=function(e,r){r?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var r={},n,i=0;i<e.length;i++){var a=e[i];be(r,a),a.textConfig&&(n=n||{},be(n,a.textConfig))}return n&&(r.textConfig=n),r},t.prototype._applyStateObj=function(e,r,n,i,a,o){var s=!(r&&i);r&&r.textConfig?(this.textConfig=be({},i?this.textConfig:n.textConfig),be(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var u={},l=!1,f=0;f<_u.length;f++){var h=_u[f],c=a&&Dv[h];r&&r[h]!=null?c?(l=!0,u[h]=r[h]):this[h]=r[h]:s&&n[h]!=null&&(c?(l=!0,u[h]=n[h]):this[h]=n[h])}if(!a)for(var f=0;f<this.animators.length;f++){var v=this.animators[f],p=v.targetName;v.getLoop()||v.__changeFinalValue(p?(r||n)[p]:r||n)}l&&this._transitionState(e,u,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var r=this.__zr;r&&e.addSelfToZr(r),e.__zr=r,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var r=this._textContent;r!==e&&(r&&r!==e&&this.removeTextContent(),e.innerTransformable=new Di,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),be(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=st;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=e),n&&(n.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,r,n){var i=e?this[e]:this,a=new su(i,r,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},t.prototype.addAnimator=function(e,r){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(r)}).done(function(){var a=i.animators,o=it(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,r){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var s=n[o];!e||e===s.scope?s.stop(r):a.push(s)}return this.animators=a,this},t.prototype.animateTo=function(e,r,n){wu(this,e,r,n)},t.prototype.animateFrom=function(e,r,n){wu(this,e,r,n,!0)},t.prototype._transitionState=function(e,r,n,i){for(var a=wu(this,r,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=st;var r={};function n(a,o,s){r[a+o+s]||(console.warn("DEPRECATED: '"+a+"' has been deprecated. use '"+o+"', '"+s+"' instead"),r[a+o+s]=!0)}function i(a,o,s,u){Object.defineProperty(e,a,{get:function(){if(!this[o]){var f=this[o]=[];l(this,f)}return this[o]},set:function(f){this[s]=f[0],this[u]=f[1],this[o]=f,l(this,f)}});function l(f,h){Object.defineProperty(h,0,{get:function(){return f[s]},set:function(c){f[s]=c}}),Object.defineProperty(h,1,{get:function(){return f[u]},set:function(c){f[u]=c}})}}Object.defineProperty&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),t}();Kt(bu,pr),Kt(bu,Di);function wu(t,e,r,n,i){r=r||{};var a=[];xf(t,"",t,e,r,n,a,i);var o=a.length,s=!1,u=r.done,l=r.aborted,f=function(){s=!0,o--,o<=0&&(s?u&&u():l&&l())},h=function(){o--,o<=0&&(s?u&&u():l&&l())};o||u&&u(),a.length>0&&r.during&&a[0].during(function(p,_){r.during(_)});for(var c=0;c<a.length;c++){var v=a[c];f&&v.done(f),h&&v.aborted(h),r.force&&v.duration(r.duration),v.start(r.easing)}return a}function Su(t,e,r){for(var n=0;n<r;n++)t[n]=e[n]}function Pv(t){return Ut(t[0])}function Ef(t,e,r){if(Ut(e[r]))if(Ut(t[r])||(t[r]=[]),At(e[r])){var n=e[r].length;t[r].length!==n&&(t[r]=new e[r].constructor(n),Su(t[r],e[r],n))}else{var i=e[r],a=t[r],o=i.length;if(Pv(i))for(var s=i[0].length,u=0;u<o;u++)a[u]?Su(a[u],i[u],s):a[u]=Array.prototype.slice.call(i[u]);else Su(a,i,o);a.length=i.length}else t[r]=e[r]}function Lv(t,e){return t===e||Ut(t)&&Ut(e)&&Mf(t,e)}function Mf(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function xf(t,e,r,n,i,a,o,s){for(var u=lt(n),l=i.duration,f=i.delay,h=i.additive,c=i.setToFinal,v=!Re(a),p=t.animators,_=[],m=0;m<u.length;m++){var y=u[m],w=n[y];if(w!=null&&r[y]!=null&&(v||a[y]))if(Re(w)&&!Ut(w)&&!ci(w)){if(e){s||(r[y]=w,t.updateDuringAnimation(e));continue}xf(t,y,r[y],w,i,a&&a[y],o,s)}else _.push(y);else s||(r[y]=w,t.updateDuringAnimation(e),_.push(y))}var T=_.length;if(!h&&T)for(var M=0;M<p.length;M++){var L=p[M];if(L.targetName===e){var I=L.stopTracks(_);if(I){var k=it(p,L);p.splice(k,1)}}}if(i.force||(_=vr(_,function(U){return!Lv(n[U],r[U])}),T=_.length),T>0||i.force&&!o.length){var $=void 0,G=void 0,X=void 0;if(s){G={},c&&($={});for(var M=0;M<T;M++){var y=_[M];G[y]=r[y],c?$[y]=n[y]:r[y]=n[y]}}else if(c){X={};for(var M=0;M<T;M++){var y=_[M];X[y]=To(r[y]),Ef(r,n,y)}}var L=new su(r,!1,!1,h?vr(p,function(ie){return ie.targetName===e}):null);L.targetName=e,i.scope&&(L.scope=i.scope),c&&$&&L.whenWithKeys(0,$,_),X&&L.whenWithKeys(0,X,_),L.whenWithKeys(l??500,s?G:n,_).delay(f||0),t.addAnimator(L,e),o.push(L)}}const Tu=bu;var Df=function(t){C(e,t);function e(r){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(r){return this._children[r]},e.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},e.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,r),this._doAdd(r))}return this},e.prototype.replace=function(r,n){var i=it(this._children,r);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(r,n){var i=this._children,a=i[n];if(r&&r!==this&&r.parent!==this&&r!==a){i[n]=r,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(r)}return this},e.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(r){var n=this.__zr,i=this._children,a=it(i,r);return a<0?this:(i.splice(a,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var a=r[i];n&&a.removeSelfFromZr(n),a.parent=null}return r.length=0,this},e.prototype.eachChild=function(r,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];r.call(n,o,a)}return this},e.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=r.call(n,a);a.isGroup&&!o&&a.traverse(r,n)}return this},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},e.prototype.getBoundingRect=function(r){for(var n=new Ke(0,0,0,0),i=r||this._children,a=[],o=null,s=0;s<i.length;s++){var u=i[s];if(!(u.ignore||u.invisible)){var l=u.getBoundingRect(),f=u.getLocalTransform(a);f?(Ke.applyTransform(n,l,f),o=o||n.clone(),o.union(n)):(o=o||l.clone(),o.union(l))}}return o||n},e}(Tu);Df.prototype.type="group";const en=Df;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var ha={},bn={};function Rv(t){delete bn[t]}function Av(t){if(!t)return!1;if(typeof t=="string")return aa(t,1)<du;if(t.colorStops){for(var e=t.colorStops,r=0,n=e.length,i=0;i<n;i++)r+=aa(e[i].color,1);return r/=n,r<du}return!1}var Ov=function(){function t(e,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=e;var a=new qs,o=n.renderer||"canvas";ha[o]||(o=lt(ha)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new ha[o](r,a,n,e),u=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var l=!Ze.node&&!Ze.worker&&!u?new wv(s.getViewportRoot(),s.root):null,f=n.useCoarsePointer,h=f==null||f==="auto"?Ze.touchEventsSupported:!!f,c=44,v;h&&(v=We(n.pointerSize,c)),this.handler=new js(a,s,l,s.root,v),this.animation=new sa({stage:{update:u?null:function(){return i._flush(!0)}}}),u||this.animation.start()}return t.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,r){this.painter.configLayer&&this.painter.configLayer(e,r),this.refresh()},t.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=Av(e)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(e){var r,n=Mi();this._needsRefresh&&(r=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=Mi();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},t.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,r){return this.handler.findHover(e,r)},t.prototype.on=function(e,r,n){return this.handler.on(e,r,n),this},t.prototype.off=function(e,r){this.handler.off(e,r)},t.prototype.trigger=function(e,r){this.handler.trigger(e,r)},t.prototype.clear=function(){for(var e=this.storage.getRoots(),r=0;r<e.length;r++)e[r]instanceof en&&e[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Rv(this.id)},t}();function If(t,e){var r=new Ov(Ps(),t,e);return bn[r.id]=r,r}function Ng(t){t.dispose()}function Bg(){for(var t in bn)bn.hasOwnProperty(t)&&bn[t].dispose();bn={}}function kv(t){return bn[t]}function Nv(t,e){ha[t]=e}var tn="5.4.4",Cu=1e-4,Ao=20;function Pf(t){return t.replace(/^\s+|\s+$/g,"")}function ca(t,e,r,n){var i=e[0],a=e[1],o=r[0],s=r[1],u=a-i,l=s-o;if(u===0)return l===0?o:(o+s)/2;if(n)if(u>0){if(t<=i)return o;if(t>=a)return s}else{if(t>=i)return o;if(t<=a)return s}else{if(t===i)return o;if(t===a)return s}return(t-i)/u*l+o}function Lt(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return ze(t)?Pf(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function Oo(t,e,r){return e==null&&(e=10),e=Math.min(Math.max(0,e),Ao),t=(+t).toFixed(e),r?t:+t}function rn(t){return t.sort(function(e,r){return e-r}),t}function ko(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,r=0;r<15;r++,e*=10)if(Math.round(t*e)/e===t)return r}return No(t)}function No(t){var e=t.toString().toLowerCase(),r=e.indexOf("e"),n=r>0?+e.slice(r+1):0,i=r>0?r:e.length,a=e.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function Fg(t,e){var r=Math.log,n=Math.LN10,i=Math.floor(r(t[1]-t[0])/n),a=Math.round(r(Math.abs(e[1]-e[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function Ie(t,e,r){if(!t[e])return 0;var n=Bv(t,r);return n[e]||0}function Bv(t,e){var r=zrUtil.reduce(t,function(v,p){return v+(isNaN(p)?0:p)},0);if(r===0)return[];for(var n=Math.pow(10,e),i=zrUtil.map(t,function(v){return(isNaN(v)?0:v)/r*n*100}),a=n*100,o=zrUtil.map(i,function(v){return Math.floor(v)}),s=zrUtil.reduce(o,function(v,p){return v+p},0),u=zrUtil.map(i,function(v,p){return v-o[p]});s<a;){for(var l=Number.NEGATIVE_INFINITY,f=null,h=0,c=u.length;h<c;++h)u[h]>l&&(l=u[h],f=h);++o[f],u[f]=0,++s}return zrUtil.map(o,function(v){return v/n})}function Lf(t,e){var r=Math.max(ko(t),ko(e)),n=t+e;return r>Ao?n:Oo(n,r)}var _r=9007199254740991;function Xt(t){var e=Math.PI*2;return(t%e+e)%e}function Fv(t){return t>-Cu&&t<Cu}var je=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Li(t){if(t instanceof Date)return t;if(ze(t)){var e=je.exec(t);if(!e)return new Date(NaN);if(e[8]){var r=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(r-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function br(t){return Math.pow(10,Eu(t))}function Eu(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Zn(t,e){var r=Eu(t),n=Math.pow(10,r),i=t/n,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,t=a*n,r>=-20?+t.toFixed(r<0?-r:0):t}function Rf(t,e){var r=(t.length-1)*e+1,n=Math.floor(r),i=+t[n-1],a=r-n;return a?i+a*(t[n]-i):i}function zg(t){t.sort(function(u,l){return s(u,l,0)?-1:1});for(var e=-1/0,r=1,n=0;n<t.length;){for(var i=t[n].interval,a=t[n].close,o=0;o<2;o++)i[o]<=e&&(i[o]=e,a[o]=o?1:1-r),e=i[o],r=a[o];i[0]===i[1]&&a[0]*a[1]!==1?t.splice(n,1):n++}return t;function s(u,l,f){return u.interval[f]<l.interval[f]||u.interval[f]===l.interval[f]&&(u.close[f]-l.close[f]===(f?-1:1)||!f&&s(u,l,1))}}function wn(t){var e=parseFloat(t);return e==t&&(e!==0||!ze(t)||t.indexOf("x")<=0)?e:NaN}function Mu(t){return!isNaN(wn(t))}function Bo(){return Math.round(Math.random()*9)}function Gt(t,e){return e===0?t:Gt(e,t%e)}function va(t,e){return t==null?e:e==null?t:t*e/Gt(t,e)}function Af(t,e,r){return(e-t)*r+t}var Ri="series\0",xu="\0_ec_\0";function vt(t){return t instanceof Array?t:t==null?[]:[t]}function Fo(t,e,r){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,i=r.length;n<i;n++){var a=r[n];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var qn=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Kn(t){return Re(t)&&!Le(t)&&!(t instanceof Date)?t.value:t}function zv(t){return Re(t)&&!(t instanceof Array)}function da(t,e,r){var n=r==="normalMerge",i=r==="replaceMerge",a=r==="replaceAll";t=t||[],e=(e||[]).slice();var o=ke();Z(e,function(u,l){if(!Re(u)){e[l]=null;return}});var s=pa(t,o,r);return(n||i)&&Sn(s,t,o,e),n&&tr(s,e),n||i?Of(s,e,i):a&&Gv(s,e),Vv(s),s}function pa(t,e,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<t.length;i++){var a=t[i];a&&a.id!=null&&e.set(a.id,i),n.push({existing:r==="replaceMerge"||ma(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function Sn(t,e,r,n){Z(n,function(i,a){if(!(!i||i.id==null)){var o=ga(i.id),s=r.get(o);if(s!=null){var u=t[s];xr(!u.newOption,'Duplicated option on id "'+o+'".'),u.newOption=i,u.existing=e[s],n[a]=null}}})}function tr(t,e){Z(e,function(r,n){if(!(!r||r.name==null))for(var i=0;i<t.length;i++){var a=t[i].existing;if(!t[i].newOption&&a&&(a.id==null||r.id==null)&&!ma(r)&&!ma(a)&&kf("name",a,r)){t[i].newOption=r,e[n]=null;return}}})}function Of(t,e,r){Z(e,function(n){if(n){for(var i,a=0;(i=t[a])&&(i.newOption||ma(i.existing)||i.existing&&n.id!=null&&!kf("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=r):t.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),a++}})}function Gv(t,e){Z(e,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function Vv(t){var e=ke();Z(t,function(r){var n=r.existing;n&&e.set(n.id,r)}),Z(t,function(r){var n=r.newOption;xr(!n||n.id==null||!e.get(n.id)||e.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),Z(t,function(r,n){var i=r.existing,a=r.newOption,o=r.keyInfo;if(Re(a)){if(o.name=a.name!=null?ga(a.name):i?i.name:Ri+n,i)o.id=ga(i.id);else if(a.id!=null)o.id=ga(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,r)}})}function kf(t,e,r){var n=rr(e[t],null),i=rr(r[t],null);return n!=null&&i!=null&&n===i}function ga(t){return rr(t,"")}function rr(t,e){return t==null?e:ze(t)?t:ot(t)||Cl(t)?t+"":e}function Gg(t){}function Vg(t){return isStringSafe(t)||isNumeric(t)}function Nf(t){var e=t.name;return!!(e&&e.indexOf(Ri))}function ma(t){return t&&t.id!=null&&ga(t.id).indexOf(xu)===0}function Hg(t){return xu+t}function Hv(t,e,r){Z(t,function(n){var i=n.newOption;Re(i)&&(n.keyInfo.mainType=e,n.keyInfo.subType=zo(e,i,n.existing,r))})}function zo(t,e,r,n){var i=e.type?e.type:r?r.subType:n.determineSubType(t,e);return i}function $g(t,e){var r={},n={};return i(t||[],r),i(e||[],n,r),[a(r),a(n)];function i(o,s,u){for(var l=0,f=o.length;l<f;l++){var h=rr(o[l].seriesId,null);if(h==null)return;for(var c=vt(o[l].dataIndex),v=u&&u[h],p=0,_=c.length;p<_;p++){var m=c[p];v&&v[m]?v[m]=null:(s[h]||(s[h]={}))[m]=1}}}function a(o,s){var u=[];for(var l in o)if(o.hasOwnProperty(l)&&o[l]!=null)if(s)u.push(+l);else{var f=a(o[l],!0);f.length&&u.push({seriesId:l,dataIndex:f})}return u}}function Go(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Le(e.dataIndex)?Je(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Le(e.name)?Je(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name)}function mt(){var t="__ec_inner_"+Vo++;return function(e){return e[t]||(e[t]={})}}var Vo=Bo();function Ho(t,e,r){var n=Du(e,r),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,u=r?r.defaultMainType:null;return!i&&u&&a.set(u,{}),a.each(function(l,f){var h=ya(t,f,l,{useDefault:u===f,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[f+"Models"]=h.models,s[f+"Model"]=h.models[0]}),s}function Du(t,e){var r;if(ze(t)){var n={};n[t+"Index"]=0,r=n}else r=t;var i=ke(),a={},o=!1;return Z(r,function(s,u){if(u==="dataIndex"||u==="dataIndexInside"){a[u]=s;return}var l=u.match(/^(\w+)(Index|Id|Name)$/)||[],f=l[1],h=(l[2]||"").toLowerCase();if(!(!f||!h||e&&e.includeMainTypes&&it(e.includeMainTypes,f)<0)){o=o||!!f;var c=i.get(f)||i.set(f,{});c[h]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var Qn={useDefault:!0,enableAll:!1,enableNone:!1},Yg={useDefault:!1,enableAll:!0,enableNone:!0};function ya(t,e,r,n){n=n||Qn;var i=r.index,a=r.id,o=r.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var u=void 0;return s.models=n.useDefault&&(u=t.getComponent(e))?[u]:[],s}return i==="none"||i===!1?(xr(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(xr(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=t.queryComponents({mainType:e,index:i,id:a,name:o}),s)}function Bf(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function $v(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Yv(t){return t==="auto"?env.domSupported?"html":"richText":t||"html"}function Uv(t,e){var r=createHashMap(),n=[];return each(t,function(i){var a=e(i);(r.get(a)||(n.push(a),r.set(a,[]))).push(i)}),{keys:n,buckets:r}}function Wv(t,e,r,n,i){var a=e==null||e==="auto";if(n==null)return n;if(isNumber(n)){var o=Af(r||0,n,i);return round(o,a?Math.max(getPrecision(r||0),getPrecision(n)):e)}else{if(isString(n))return i<1?r:n;for(var s=[],u=r,l=n,f=Math.max(u?u.length:0,l.length),h=0;h<f;++h){var c=t.getDimensionInfo(h);if(c&&c.type==="ordinal")s[h]=(i<1&&u?u:l)[h];else{var v=u&&u[h]?u[h]:0,p=l[h],o=Af(v,p,i);s[h]=round(o,a?Math.max(getPrecision(v),getPrecision(p)):e)}}return s}}var Ff=".",wr="___EC__COMPONENT__CONTAINER___",Iu="___EC__EXTENDED_CLASS___";function Ar(t){var e={main:"",sub:""};if(t){var r=t.split(Ff);e.main=r[0]||"",e.sub=r[1]||""}return e}function zf(t){xr(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function Xv(t){return!!(t&&t[Iu])}function Or(t,e){t.$constructor=t,t.extend=function(r){var n=this,i;return Gf(n)?i=function(a){C(o,a);function o(){return a.apply(this,arguments)||this}return o}(n):(i=function(){(r.$constructor||n).apply(this,arguments)},_c(i,this)),be(i.prototype,r),i[Iu]=!0,i.extend=this.extend,i.superCall=qv,i.superApply=Kv,i.superClass=n,i}}function Gf(t){return et(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function Vf(t,e){t.extend=e.extend}var jv=Math.round(Math.random()*10);function Zv(t){var e=["__\0is_clz",jv++].join("_");t.prototype[e]=!0,t.isInstance=function(r){return!!(r&&r[e])}}function qv(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,r)}function Kv(t,e,r){return this.superClass.prototype[e].apply(t,r)}function Pu(t){var e={};t.registerClass=function(n){var i=n.type||n.prototype.type;if(i){zf(i),n.prototype.type=i;var a=Ar(i);if(!a.sub)e[a.main]=n;else if(a.sub!==wr){var o=r(a);o[a.sub]=n}}return n},t.getClass=function(n,i,a){var o=e[n];if(o&&o[wr]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},t.getClassesByMainType=function(n){var i=Ar(n),a=[],o=e[i.main];return o&&o[wr]?Z(o,function(s,u){u!==wr&&a.push(s)}):a.push(o),a},t.hasClass=function(n){var i=Ar(n);return!!e[i.main]},t.getAllClassMainTypes=function(){var n=[];return Z(e,function(i,a){n.push(a)}),n},t.hasSubTypes=function(n){var i=Ar(n),a=e[i.main];return a&&a[wr]};function r(n){var i=e[n.main];return(!i||!i[wr])&&(i=e[n.main]={},i[wr]=!0),i}}function _a(t,e){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return e=e||!1,function(n,i,a){for(var o={},s=0;s<t.length;s++){var u=t[s][1];if(!(i&&it(i,u)>=0||a&&it(a,u)<0)){var l=n.getShallow(u,e);l!=null&&(o[t[s][0]]=l)}}return o}}var Hf=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Qv=_a(Hf),Jv=function(){function t(){}return t.prototype.getAreaStyle=function(e,r){return Qv(this,e,r)},t}(),Lu=new ia(50);function ed(t){if(typeof t=="string"){var e=Lu.get(t);return e&&e.image}else return t}function Ru(t,e,r,n,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!r)return e;var a=Lu.get(t),o={hostEl:r,cb:n,cbPayload:i};return a?(e=a.image,!ba(e)&&a.pending.push(o)):(e=rt.loadImage(t,$f,$f),e.__zrImageSrc=t,Lu.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function $f(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function ba(t){return t&&t.width&&t.height}var Tn=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function td(t,e,r,n,i){if(!e)return"";var a=(t+"").split(`
`);i=Yf(e,r,n,i);for(var o=0,s=a.length;o<s;o++)a[o]=Uf(a[o],i);return a.join(`
`)}function Yf(t,e,r,n){n=n||{};var i=be({},n);i.font=e,r=We(r,"..."),i.maxIterations=We(n.maxIterations,2);var a=i.minChar=We(n.minChar,0);i.cnCharWidth=Wt("\u56FD",e);var o=i.ascCharWidth=Wt("a",e);i.placeholder=We(n.placeholder,"");for(var s=t=Math.max(0,t-1),u=0;u<a&&s>=o;u++)s-=o;var l=Wt(r,e);return l>s&&(r="",l=0),s=t-l,i.ellipsis=r,i.ellipsisWidth=l,i.contentWidth=s,i.containerWidth=t,i}function Uf(t,e){var r=e.containerWidth,n=e.font,i=e.contentWidth;if(!r)return"";var a=Wt(t,n);if(a<=r)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=o===0?rd(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,s),a=Wt(t,n)}return t===""&&(t=e.placeholder),t}function rd(t,e,r,n){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?r:n}return a}function nd(t,e){t!=null&&(t+="");var r=e.overflow,n=e.padding,i=e.font,a=r==="truncate",o=yu(i),s=We(e.lineHeight,o),u=!!e.backgroundColor,l=e.lineOverflow==="truncate",f=e.width,h;f!=null&&(r==="break"||r==="breakAll")?h=t?Wf(t,e.font,f,r==="breakAll",0).lines:[]:h=t?t.split(`
`):[];var c=h.length*s,v=We(e.height,c);if(c>v&&l){var p=Math.floor(v/s);h=h.slice(0,p)}if(t&&a&&f!=null)for(var _=Yf(f,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m=0;m<h.length;m++)h[m]=Uf(h[m],_);for(var y=v,w=0,m=0;m<h.length;m++)w=Math.max(Wt(h[m],i),w);f==null&&(f=w);var T=w;return n&&(y+=n[0]+n[2],T+=n[1]+n[3],f+=n[1]+n[3]),u&&(T=f),{lines:h,height:v,outerWidth:T,outerHeight:y,lineHeight:s,calculatedLineHeight:o,contentWidth:w,contentHeight:c,width:f}}var id=function(){function t(){}return t}(),Au=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),$o=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function Ou(t,e){var r=new $o;if(t!=null&&(t+=""),!t)return r;for(var n=e.width,i=e.height,a=e.overflow,o=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,s=Tn.lastIndex=0,u;(u=Tn.exec(t))!=null;){var l=u.index;l>s&&wa(r,t.substring(s,l),e,o),wa(r,u[2],e,o,u[1]),s=Tn.lastIndex}s<t.length&&wa(r,t.substring(s,t.length),e,o);var f=[],h=0,c=0,v=e.padding,p=a==="truncate",_=e.lineOverflow==="truncate";function m(gt,tt,Dt){gt.width=tt,gt.lineHeight=Dt,h+=Dt,c=Math.max(c,tt)}e:for(var y=0;y<r.lines.length;y++){for(var w=r.lines[y],T=0,M=0,L=0;L<w.tokens.length;L++){var I=w.tokens[L],k=I.styleName&&e.rich[I.styleName]||{},$=I.textPadding=k.padding,G=$?$[1]+$[3]:0,X=I.font=k.font||e.font;I.contentHeight=yu(X);var U=We(k.height,I.contentHeight);if(I.innerHeight=U,$&&(U+=$[0]+$[2]),I.height=U,I.lineHeight=Wr(k.lineHeight,e.lineHeight,U),I.align=k&&k.align||e.align,I.verticalAlign=k&&k.verticalAlign||"middle",_&&i!=null&&h+I.lineHeight>i){L>0?(w.tokens=w.tokens.slice(0,L),m(w,M,T),r.lines=r.lines.slice(0,y+1)):r.lines=r.lines.slice(0,y);break e}var ie=k.width,de=ie==null||ie==="auto";if(typeof ie=="string"&&ie.charAt(ie.length-1)==="%")I.percentWidth=ie,f.push(I),I.contentWidth=Wt(I.text,X);else{if(de){var _e=k.backgroundColor,xe=_e&&_e.image;xe&&(xe=ed(xe),ba(xe)&&(I.width=Math.max(I.width,xe.width*U/xe.height)))}var Ee=p&&n!=null?n-M:null;Ee!=null&&Ee<I.width?!de||Ee<G?(I.text="",I.width=I.contentWidth=0):(I.text=td(I.text,Ee-G,X,e.ellipsis,{minChar:e.truncateMinChar}),I.width=I.contentWidth=Wt(I.text,X)):I.contentWidth=Wt(I.text,X)}I.width+=G,M+=I.width,k&&(T=Math.max(T,I.lineHeight))}m(w,M,T)}r.outerWidth=r.width=We(n,c),r.outerHeight=r.height=We(i,h),r.contentHeight=h,r.contentWidth=c,v&&(r.outerWidth+=v[1]+v[3],r.outerHeight+=v[0]+v[2]);for(var y=0;y<f.length;y++){var I=f[y],ft=I.percentWidth;I.width=parseInt(ft,10)/100*r.width}return r}function wa(t,e,r,n,i){var a=e==="",o=i&&r.rich[i]||{},s=t.lines,u=o.font||r.font,l=!1,f,h;if(n){var c=o.padding,v=c?c[1]+c[3]:0;if(o.width!=null&&o.width!=="auto"){var p=fa(o.width,n.width)+v;s.length>0&&p+n.accumWidth>n.width&&(f=e.split(`
`),l=!0),n.accumWidth=p}else{var _=Wf(e,u,n.width,n.breakAll,n.accumWidth);n.accumWidth=_.accumWidth+v,h=_.linesWidths,f=_.lines}}else f=e.split(`
`);for(var m=0;m<f.length;m++){var y=f[m],w=new id;if(w.styleName=i,w.text=y,w.isLineHolder=!y&&!a,typeof o.width=="number"?w.width=o.width:w.width=h?h[m]:Wt(y,u),!m&&!l){var T=(s[s.length-1]||(s[0]=new Au)).tokens,M=T.length;M===1&&T[0].isLineHolder?T[0]=w:(y||!M||a)&&T.push(w)}else s.push(new Au([w]))}}function ku(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var ad=hi(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function Yo(t){return ku(t)?!!ad[t]:!0}function Wf(t,e,r,n,i){for(var a=[],o=[],s="",u="",l=0,f=0,h=0;h<t.length;h++){var c=t.charAt(h);if(c===`
`){u&&(s+=u,f+=l),a.push(s),o.push(f),s="",u="",l=0,f=0;continue}var v=Wt(c,e),p=n?!1:!Yo(c);if(a.length?f+v>r:i+f+v>r){f?(s||u)&&(p?(s||(s=u,u="",l=0,f=l),a.push(s),o.push(f-l),u+=c,l+=v,s="",f=l):(u&&(s+=u,u="",l=0),a.push(s),o.push(f),s=c,f=v)):p?(a.push(u),o.push(l),u=c,l=v):(a.push(c),o.push(v));continue}f+=v,p?(u+=c,l+=v):(u&&(s+=u,u="",l=0),s+=c)}return!a.length&&!s&&(s=t,u="",l=0),u&&(s+=u),s&&(a.push(s),o.push(f)),a.length===1&&(f+=i),{accumWidth:f,lines:a,linesWidths:o}}var Uo="__zr_style_"+Math.round(Math.random()*10),Cn={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Wo={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Cn[Uo]=!0;var Xf=["z","z2","invisible"],od=["invisible"],Ug=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype._init=function(r){for(var n=lt(r),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(r[a]):t.prototype.attrKV.call(this,a,r[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(r,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&jf(this,r,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},e.prototype.contain=function(r,n){return this.rectContain(r,n)},e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,u=a.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Ke(0,0,0,0)),n?Ke.applyTransform(r,i,n):r.copy(i),(o||s||u)&&(r.width+=o*2+Math.abs(s),r.height+=o*2+Math.abs(u),r.x=Math.min(r.x,r.x+s-o),r.y=Math.min(r.y,r.y+u-o));var l=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-l),r.y=Math.floor(r.y-l),r.width=Math.ceil(r.width+1+l*2),r.height=Math.ceil(r.height+1+l*2))}return r},e.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Ke(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(r){return this.animate("style",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(r,n){r!=="style"?t.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:be(this.style,r),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=Dr,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&Dr)},e.prototype.styleUpdated=function(){this.__dirty&=~Dr},e.prototype.createStyle=function(r){return dr(Cn,r)},e.prototype.useStyle=function(r){r[Uo]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},e.prototype.isStyleObject=function(r){return r[Uo]},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,Xf)},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var u=!(n&&a),l;if(n&&n.style?o?a?l=n.style:(l=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(l,n.style)):(l=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(l,n.style)):u&&(l=i.style),l)if(o){var f=this.style;if(this.style=this.createStyle(u?{}:f),u)for(var h=lt(f),c=0;c<h.length;c++){var v=h[c];v in l&&(l[v]=l[v],this.style[v]=f[v])}for(var p=lt(l),c=0;c<p.length;c++){var v=p[c];this.style[v]=this.style[v]}this._transitionState(r,{style:l},s,this.getAnimationStyleProps())}else this.useStyle(l);for(var _=this.__inHover?od:Xf,c=0;c<_.length;c++){var v=_[c];n&&n[v]!=null?this[v]=n[v]:u&&i[v]!=null&&(this[v]=i[v])}},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(r,n){return be(r,n),r},e.prototype.getAnimationStyleProps=function(){return Wo},e.initDefaultProps=function(){var r=e.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=st|Dr}(),e}(Tu),Xo=new Ke(0,0,0,0),Nu=new Ke(0,0,0,0);function jf(t,e,r){return Xo.copy(t.getBoundingRect()),t.transform&&Xo.applyTransform(t.transform),Nu.width=e,Nu.height=r,!Xo.intersect(Nu)}const Ai=Ug;var St=Math.min,Tt=Math.max,jo=Math.sin,Bu=Math.cos,En=Math.PI*2,Sa=pn(),Ta=pn(),Zo=pn();function Zf(t,e,r){if(t.length!==0){for(var n=t[0],i=n[0],a=n[0],o=n[1],s=n[1],u=1;u<t.length;u++)n=t[u],i=St(i,n[0]),a=Tt(a,n[0]),o=St(o,n[1]),s=Tt(s,n[1]);e[0]=i,e[1]=o,r[0]=a,r[1]=s}}function Ca(t,e,r,n,i,a){i[0]=St(t,r),i[1]=St(e,n),a[0]=Tt(t,r),a[1]=Tt(e,n)}var qo=[],qf=[];function sd(t,e,r,n,i,a,o,s,u,l){var f=nf,h=_t,c=f(t,r,i,o,qo);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var v=0;v<c;v++){var p=h(t,r,i,o,qo[v]);u[0]=St(p,u[0]),l[0]=Tt(p,l[0])}c=f(e,n,a,s,qf);for(var v=0;v<c;v++){var _=h(e,n,a,s,qf[v]);u[1]=St(_,u[1]),l[1]=Tt(_,l[1])}u[0]=St(t,u[0]),l[0]=Tt(t,l[0]),u[0]=St(o,u[0]),l[0]=Tt(o,l[0]),u[1]=St(e,u[1]),l[1]=Tt(e,l[1]),u[1]=St(s,u[1]),l[1]=Tt(s,l[1])}function ud(t,e,r,n,i,a,o,s){var u=sf,l=bt,f=Tt(St(u(t,r,i),1),0),h=Tt(St(u(e,n,a),1),0),c=l(t,r,i,f),v=l(e,n,a,h);o[0]=St(t,i,c),o[1]=St(e,a,v),s[0]=Tt(t,i,c),s[1]=Tt(e,a,v)}function ld(t,e,r,n,i,a,o,s,u){var l=pi,f=zn,h=Math.abs(i-a);if(h%En<1e-4&&h>1e-4){s[0]=t-r,s[1]=e-n,u[0]=t+r,u[1]=e+n;return}if(Sa[0]=Bu(i)*r+t,Sa[1]=jo(i)*n+e,Ta[0]=Bu(a)*r+t,Ta[1]=jo(a)*n+e,l(s,Sa,Ta),f(u,Sa,Ta),i=i%En,i<0&&(i=i+En),a=a%En,a<0&&(a=a+En),i>a&&!o?a+=En:i<a&&o&&(i+=En),o){var c=a;a=i,i=c}for(var v=0;v<a;v+=Math.PI/2)v>i&&(Zo[0]=Bu(v)*r+t,Zo[1]=jo(v)*n+e,l(s,Zo,s),f(u,Zo,u))}var Xe={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},nn=[],Jn=[],Sr=[],an=[],Tr=[],Cr=[],Fu=Math.min,zu=Math.max,Mn=Math.cos,ei=Math.sin,on=Math.abs,Gu=Math.PI,xn=Gu*2,Ea=typeof Float32Array<"u",Ma=[];function Vu(t){var e=Math.round(t/Gu*1e8)/1e8;return e%2*Gu}function fd(t,e){var r=Vu(t[0]);r<0&&(r+=xn);var n=r-t[0],i=t[1];i+=n,!e&&i-r>=xn?i=r+xn:e&&r-i>=xn?i=r-xn:!e&&r>i?i=r+(xn-Vu(r-i)):e&&r<i&&(i=r-(xn-Vu(i-r))),t[0]=r,t[1]=i}var hd=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,r,n){n=n||0,n>0&&(this._ux=on(n/Po/e)||0,this._uy=on(n/Po/r)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,r){return this._drawPendingPt(),this.addData(Xe.M,e,r),this._ctx&&this._ctx.moveTo(e,r),this._x0=e,this._y0=r,this._xi=e,this._yi=r,this},t.prototype.lineTo=function(e,r){var n=on(e-this._xi),i=on(r-this._yi),a=n>this._ux||i>this._uy;if(this.addData(Xe.L,e,r),this._ctx&&a&&this._ctx.lineTo(e,r),a)this._xi=e,this._yi=r,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=r,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,r,n,i,a,o){return this._drawPendingPt(),this.addData(Xe.C,e,r,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(e,r,n,i,a,o),this._xi=a,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,r,n,i){return this._drawPendingPt(),this.addData(Xe.Q,e,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,r,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(e,r,n,i,a,o){this._drawPendingPt(),Ma[0]=i,Ma[1]=a,fd(Ma,o),i=Ma[0],a=Ma[1];var s=a-i;return this.addData(Xe.A,e,r,n,n,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,r,n,i,a,o),this._xi=Mn(a)*n+e,this._yi=ei(a)*n+r,this},t.prototype.arcTo=function(e,r,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,r,n,i,a),this},t.prototype.rect=function(e,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,r,n,i),this.addData(Xe.R,e,r,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Xe.Z);var e=this._ctx,r=this._x0,n=this._y0;return e&&e.closePath(),this._xi=r,this._yi=n,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var r=e.length;!(this.data&&this.data.length===r)&&Ea&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=e[n];this._len=r},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var r=e.length,n=0,i=this._len,a=0;a<r;a++)n+=e[a].len();Ea&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<r;a++)for(var o=e[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},t.prototype.addData=function(e,r,n,i,a,o,s,u,l){if(this._saveData){var f=this.data;this._len+arguments.length>f.length&&(this._expandData(),f=this.data);for(var h=0;h<arguments.length;h++)f[this._len++]=arguments[h]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],r=0;r<this._len;r++)e[r]=this.data[r];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,Ea&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Sr[0]=Sr[1]=Tr[0]=Tr[1]=Number.MAX_VALUE,an[0]=an[1]=Cr[0]=Cr[1]=-Number.MAX_VALUE;var e=this.data,r=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],u=o===1;switch(u&&(r=e[o],n=e[o+1],i=r,a=n),s){case Xe.M:r=i=e[o++],n=a=e[o++],Tr[0]=i,Tr[1]=a,Cr[0]=i,Cr[1]=a;break;case Xe.L:Ca(r,n,e[o],e[o+1],Tr,Cr),r=e[o++],n=e[o++];break;case Xe.C:sd(r,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Tr,Cr),r=e[o++],n=e[o++];break;case Xe.Q:ud(r,n,e[o++],e[o++],e[o],e[o+1],Tr,Cr),r=e[o++],n=e[o++];break;case Xe.A:var l=e[o++],f=e[o++],h=e[o++],c=e[o++],v=e[o++],p=e[o++]+v;o+=1;var _=!e[o++];u&&(i=Mn(v)*h+l,a=ei(v)*c+f),ld(l,f,h,c,v,p,_,Tr,Cr),r=Mn(p)*h+l,n=ei(p)*c+f;break;case Xe.R:i=r=e[o++],a=n=e[o++];var m=e[o++],y=e[o++];Ca(i,a,i+m,a+y,Tr,Cr);break;case Xe.Z:r=i,n=a;break}pi(Sr,Sr,Tr),zn(an,an,Cr)}return o===0&&(Sr[0]=Sr[1]=an[0]=an[1]=0),new Ke(Sr[0],Sr[1],an[0]-Sr[0],an[1]-Sr[1])},t.prototype._calculateLength=function(){var e=this.data,r=this._len,n=this._ux,i=this._uy,a=0,o=0,s=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,f=0,h=0,c=0;c<r;){var v=e[c++],p=c===1;p&&(a=e[c],o=e[c+1],s=a,u=o);var _=-1;switch(v){case Xe.M:a=s=e[c++],o=u=e[c++];break;case Xe.L:{var m=e[c++],y=e[c++],w=m-a,T=y-o;(on(w)>n||on(T)>i||c===r-1)&&(_=Math.sqrt(w*w+T*T),a=m,o=y);break}case Xe.C:{var M=e[c++],L=e[c++],m=e[c++],y=e[c++],I=e[c++],k=e[c++];_=Kc(a,o,M,L,m,y,I,k,10),a=I,o=k;break}case Xe.Q:{var M=e[c++],L=e[c++],m=e[c++],y=e[c++];_=Jc(a,o,M,L,m,y,10),a=m,o=y;break}case Xe.A:var $=e[c++],G=e[c++],X=e[c++],U=e[c++],ie=e[c++],de=e[c++],_e=de+ie;c+=1;var xe=!e[c++];p&&(s=Mn(ie)*X+$,u=ei(ie)*U+G),_=zu(X,U)*Fu(xn,Math.abs(de)),a=Mn(_e)*X+$,o=ei(_e)*U+G;break;case Xe.R:{s=a=e[c++],u=o=e[c++];var Ee=e[c++],ft=e[c++];_=Ee*2+ft*2;break}case Xe.Z:{var w=s-a,T=u-o;_=Math.sqrt(w*w+T*T),a=s,o=u;break}}_>=0&&(l[h++]=_,f+=_)}return this._pathLen=f,f},t.prototype.rebuildPath=function(e,r){var n=this.data,i=this._ux,a=this._uy,o=this._len,s,u,l,f,h,c,v=r<1,p,_,m=0,y=0,w,T=0,M,L;if(!(v&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,_=this._pathLen,w=r*_,!w)))e:for(var I=0;I<o;){var k=n[I++],$=I===1;switch($&&(l=n[I],f=n[I+1],s=l,u=f),k!==Xe.L&&T>0&&(e.lineTo(M,L),T=0),k){case Xe.M:s=l=n[I++],u=f=n[I++],e.moveTo(l,f);break;case Xe.L:{h=n[I++],c=n[I++];var G=on(h-l),X=on(c-f);if(G>i||X>a){if(v){var U=p[y++];if(m+U>w){var ie=(w-m)/U;e.lineTo(l*(1-ie)+h*ie,f*(1-ie)+c*ie);break e}m+=U}e.lineTo(h,c),l=h,f=c,T=0}else{var de=G*G+X*X;de>T&&(M=h,L=c,T=de)}break}case Xe.C:{var _e=n[I++],xe=n[I++],Ee=n[I++],ft=n[I++],gt=n[I++],tt=n[I++];if(v){var U=p[y++];if(m+U>w){var ie=(w-m)/U;ra(l,_e,Ee,gt,ie,nn),ra(f,xe,ft,tt,ie,Jn),e.bezierCurveTo(nn[1],Jn[1],nn[2],Jn[2],nn[3],Jn[3]);break e}m+=U}e.bezierCurveTo(_e,xe,Ee,ft,gt,tt),l=gt,f=tt;break}case Xe.Q:{var _e=n[I++],xe=n[I++],Ee=n[I++],ft=n[I++];if(v){var U=p[y++];if(m+U>w){var ie=(w-m)/U;na(l,_e,Ee,ie,nn),na(f,xe,ft,ie,Jn),e.quadraticCurveTo(nn[1],Jn[1],nn[2],Jn[2]);break e}m+=U}e.quadraticCurveTo(_e,xe,Ee,ft),l=Ee,f=ft;break}case Xe.A:var Dt=n[I++],Vr=n[I++],It=n[I++],Hr=n[I++],$r=n[I++],$i=n[I++],Xa=n[I++],ja=!n[I++],Ms=It>Hr?It:Hr,Mr=on(It-Hr)>.001,Bt=$r+$i,Oe=!1;if(v){var U=p[y++];m+U>w&&(Bt=$r+$i*(w-m)/U,Oe=!0),m+=U}if(Mr&&e.ellipse?e.ellipse(Dt,Vr,It,Hr,Xa,$r,Bt,ja):e.arc(Dt,Vr,Ms,$r,Bt,ja),Oe)break e;$&&(s=Mn($r)*It+Dt,u=ei($r)*Hr+Vr),l=Mn(Bt)*It+Dt,f=ei(Bt)*Hr+Vr;break;case Xe.R:s=l=n[I],u=f=n[I+1],h=n[I++],c=n[I++];var He=n[I++],Za=n[I++];if(v){var U=p[y++];if(m+U>w){var qt=w-m;e.moveTo(h,c),e.lineTo(h+Fu(qt,He),c),qt-=He,qt>0&&e.lineTo(h+He,c+Fu(qt,Za)),qt-=Za,qt>0&&e.lineTo(h+zu(He-qt,0),c+Za),qt-=He,qt>0&&e.lineTo(h,c+zu(Za-qt,0));break e}m+=U}e.rect(h,c,He,Za);break;case Xe.Z:if(v){var U=p[y++];if(m+U>w){var ie=(w-m)/U;e.lineTo(l*(1-ie)+s*ie,f*(1-ie)+u*ie);break e}m+=U}e.closePath(),l=s,f=u}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.CMD=Xe,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();const Oi=hd;function ki(t,e,r,n,i,a,o){if(i===0)return!1;var s=i,u=0,l=t;if(o>e+s&&o>n+s||o<e-s&&o<n-s||a>t+s&&a>r+s||a<t-s&&a<r-s)return!1;if(t!==r)u=(e-n)/(t-r),l=(t*n-r*e)/(t-r);else return Math.abs(a-t)<=s/2;var f=u*a-o+l,h=f*f/(u*u+1);return h<=s/2*s/2}function cd(t,e,r,n,i,a,o,s,u,l,f){if(u===0)return!1;var h=u;if(f>e+h&&f>n+h&&f>a+h&&f>s+h||f<e-h&&f<n-h&&f<a-h&&f<s-h||l>t+h&&l>r+h&&l>i+h&&l>o+h||l<t-h&&l<r-h&&l<i-h&&l<o-h)return!1;var c=qc(t,e,r,n,i,a,o,s,l,f,null);return c<=h/2}function Ko(t,e,r,n,i,a,o,s,u){if(o===0)return!1;var l=o;if(u>e+l&&u>n+l&&u>a+l||u<e-l&&u<n-l&&u<a-l||s>t+l&&s>r+l&&s>i+l||s<t-l&&s<r-l&&s<i-l)return!1;var f=Qc(t,e,r,n,i,a,s,u,null);return f<=l/2}var Kf=Math.PI*2;function ti(t){return t%=Kf,t<0&&(t+=Kf),t}var sn=Math.PI*2;function vd(t,e,r,n,i,a,o,s,u){if(o===0)return!1;var l=o;s-=t,u-=e;var f=Math.sqrt(s*s+u*u);if(f-l>r||f+l<r)return!1;if(Math.abs(n-i)%sn<1e-4)return!0;if(a){var h=n;n=ti(i),i=ti(h)}else n=ti(n),i=ti(i);n>i&&(i+=sn);var c=Math.atan2(u,s);return c<0&&(c+=sn),c>=n&&c<=i||c+sn>=n&&c+sn<=i}function ri(t,e,r,n,i,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var o=(a-e)/(n-e),s=n<e?1:-1;(o===1||o===0)&&(s=n<e?.5:-.5);var u=o*(r-t)+t;return u===i?1/0:u>i?s:0}var Dn=Oi.CMD,In=Math.PI*2,Qf=1e-4;function xa(t,e){return Math.abs(t-e)<Qf}var Ct=[-1,-1,-1],nr=[-1,-1];function dd(){var t=nr[0];nr[0]=nr[1],nr[1]=t}function Jf(t,e,r,n,i,a,o,s,u,l){if(l>e&&l>n&&l>a&&l>s||l<e&&l<n&&l<a&&l<s)return 0;var f=rf(e,n,a,s,l,Ct);if(f===0)return 0;for(var h=0,c=-1,v=void 0,p=void 0,_=0;_<f;_++){var m=Ct[_],y=m===0||m===1?.5:1,w=_t(t,r,i,o,m);w<u||(c<0&&(c=nf(e,n,a,s,nr),nr[1]<nr[0]&&c>1&&dd(),v=_t(e,n,a,s,nr[0]),c>1&&(p=_t(e,n,a,s,nr[1]))),c===2?m<nr[0]?h+=v<e?y:-y:m<nr[1]?h+=p<v?y:-y:h+=s<p?y:-y:m<nr[0]?h+=v<e?y:-y:h+=s<v?y:-y)}return h}function eh(t,e,r,n,i,a,o,s){if(s>e&&s>n&&s>a||s<e&&s<n&&s<a)return 0;var u=of(e,n,a,s,Ct);if(u===0)return 0;var l=sf(e,n,a);if(l>=0&&l<=1){for(var f=0,h=bt(e,n,a,l),c=0;c<u;c++){var v=Ct[c]===0||Ct[c]===1?.5:1,p=bt(t,r,i,Ct[c]);p<o||(Ct[c]<l?f+=h<e?v:-v:f+=a<h?v:-v)}return f}else{var v=Ct[0]===0||Ct[0]===1?.5:1,p=bt(t,r,i,Ct[0]);return p<o?0:a<e?v:-v}}function pd(t,e,r,n,i,a,o,s){if(s-=e,s>r||s<-r)return 0;var u=Math.sqrt(r*r-s*s);Ct[0]=-u,Ct[1]=u;var l=Math.abs(n-i);if(l<1e-4)return 0;if(l>=In-1e-4){n=0,i=In;var f=a?1:-1;return o>=Ct[0]+t&&o<=Ct[1]+t?f:0}if(n>i){var h=n;n=i,i=h}n<0&&(n+=In,i+=In);for(var c=0,v=0;v<2;v++){var p=Ct[v];if(p+t>o){var _=Math.atan2(s,p),f=a?1:-1;_<0&&(_=In+_),(_>=n&&_<=i||_+In>=n&&_+In<=i)&&(_>Math.PI/2&&_<Math.PI*1.5&&(f=-f),c+=f)}}return c}function th(t,e,r,n,i){for(var a=t.data,o=t.len(),s=0,u=0,l=0,f=0,h=0,c,v,p=0;p<o;){var _=a[p++],m=p===1;switch(_===Dn.M&&p>1&&(r||(s+=ri(u,l,f,h,n,i))),m&&(u=a[p],l=a[p+1],f=u,h=l),_){case Dn.M:f=a[p++],h=a[p++],u=f,l=h;break;case Dn.L:if(r){if(ki(u,l,a[p],a[p+1],e,n,i))return!0}else s+=ri(u,l,a[p],a[p+1],n,i)||0;u=a[p++],l=a[p++];break;case Dn.C:if(r){if(cd(u,l,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,n,i))return!0}else s+=Jf(u,l,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],n,i)||0;u=a[p++],l=a[p++];break;case Dn.Q:if(r){if(Ko(u,l,a[p++],a[p++],a[p],a[p+1],e,n,i))return!0}else s+=eh(u,l,a[p++],a[p++],a[p],a[p+1],n,i)||0;u=a[p++],l=a[p++];break;case Dn.A:var y=a[p++],w=a[p++],T=a[p++],M=a[p++],L=a[p++],I=a[p++];p+=1;var k=!!(1-a[p++]);c=Math.cos(L)*T+y,v=Math.sin(L)*M+w,m?(f=c,h=v):s+=ri(u,l,c,v,n,i);var $=(n-y)*M/T+y;if(r){if(vd(y,w,M,L,L+I,k,e,$,i))return!0}else s+=pd(y,w,M,L,L+I,k,$,i);u=Math.cos(L+I)*T+y,l=Math.sin(L+I)*M+w;break;case Dn.R:f=u=a[p++],h=l=a[p++];var G=a[p++],X=a[p++];if(c=f+G,v=h+X,r){if(ki(f,h,c,h,e,n,i)||ki(c,h,c,v,e,n,i)||ki(c,v,f,v,e,n,i)||ki(f,v,f,h,e,n,i))return!0}else s+=ri(c,h,c,v,n,i),s+=ri(f,v,f,h,n,i);break;case Dn.Z:if(r){if(ki(u,l,f,h,e,n,i))return!0}else s+=ri(u,l,f,h,n,i);u=f,l=h;break}}return!r&&!xa(l,h)&&(s+=ri(u,l,f,h,n,i)||0),s!==0}function gd(t,e,r){return th(t,0,!1,e,r)}function rh(t,e,r,n){return th(t,e,!0,r,n)}var nh=Pt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Cn),md={style:Pt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Wo.style)},Hu=ua.concat(["invisible","culling","z","z2","zlevel","parent"]),ih=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.update=function(){var r=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(u){r.buildPath(u,r.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<Hu.length;++s)i[Hu[s]]=this[Hu[s]];i.__dirty|=st}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(r){var n=lt(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],s=r[o];o==="style"?this.style?be(this.style,s):this.useStyle(s):o==="shape"?be(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(ze(r)){var n=aa(r,0);return n>.5?pu:n>.2?Tv:Lo}else if(r)return Lo}return pu},e.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(ze(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=aa(r,0)<du;if(a===o)return n}},e.prototype.buildPath=function(r,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=~_i},e.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},e.prototype.createPathProxy=function(){this.path=new Oi(!1)},e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&_i)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),r=o.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){s.copy(r);var u=n.strokeNoScale?this.getLineScale():1,l=n.lineWidth;if(!this.hasFill()){var f=this.strokeContainThreshold;l=Math.max(l,f??4)}u>1e-10&&(s.width+=l/u,s.height+=l/u,s.x-=l/u/2,s.y-=l/u/2)}return s}return r},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect(),o=this.style;if(r=i[0],n=i[1],a.contain(r,n)){var s=this.path;if(this.hasStroke()){var u=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),rh(s,u/l,r,n)))return!0}if(this.hasFill())return gd(s,r,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=_i,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(r){return this.animate("shape",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):t.prototype.attrKV.call(this,r,n)},e.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:be(i,r),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&_i)},e.prototype.createStyle=function(r){return dr(nh,r)},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=be({},this.shape))},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var u=!(n&&a),l;if(n&&n.shape?o?a?l=n.shape:(l=be({},i.shape),be(l,n.shape)):(l=be({},a?this.shape:i.shape),be(l,n.shape)):u&&(l=i.shape),l)if(o){this.shape=be({},this.shape);for(var f={},h=lt(l),c=0;c<h.length;c++){var v=h[c];typeof l[v]=="object"?this.shape[v]=l[v]:f[v]=l[v]}this._transitionState(r,{shape:f},s)}else this.shape=l,this.dirtyShape()},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return md},e.prototype.isZeroArea=function(){return!1},e.extend=function(r){var n=function(a){C(o,a);function o(s){var u=a.call(this,s)||this;return r.init&&r.init.call(u,s),u}return o.prototype.getDefaultStyle=function(){return Ye(r.style)},o.prototype.getDefaultShape=function(){return Ye(r.shape)},o}(e);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},e.initDefaultProps=function(){var r=e.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=st|Dr|_i}(),e}(Ai);const ut=ih;var yd=Pt({strokeFirst:!0,font:ue,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},nh),ah=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(r){return dr(yd,r)},e.prototype.setBoundingRect=function(r){this._rect=r},e.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=Mv(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var a=r.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var r=e.prototype;r.dirtyRectTolerance=10}(),e}(Ai);ah.prototype.type="tspan";const $u=ah;var oh=Pt({x:0,y:0},Cn),sh={style:Pt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Wo.style)};function _d(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var uh=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(r){return dr(oh,r)},e.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var a=_d(n.image)?n.image:this.__image;if(!a)return 0;var o=r==="width"?"height":"width",s=n[o];return s==null?a[r]:a[r]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return sh},e.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Ke(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Ai);uh.prototype.type="image";const Ni=uh;function lh(t,e){var r=e.x,n=e.y,i=e.width,a=e.height,o=e.r,s,u,l,f;i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?s=u=l=f=o:o instanceof Array?o.length===1?s=u=l=f=o[0]:o.length===2?(s=l=o[0],u=f=o[1]):o.length===3?(s=o[0],u=f=o[1],l=o[2]):(s=o[0],u=o[1],l=o[2],f=o[3]):s=u=l=f=0;var h;s+u>i&&(h=s+u,s*=i/h,u*=i/h),l+f>i&&(h=l+f,l*=i/h,f*=i/h),u+l>a&&(h=u+l,u*=a/h,l*=a/h),s+f>a&&(h=s+f,s*=a/h,f*=a/h),t.moveTo(r+s,n),t.lineTo(r+i-u,n),u!==0&&t.arc(r+i-u,n+u,u,-Math.PI/2,0),t.lineTo(r+i,n+a-l),l!==0&&t.arc(r+i-l,n+a-l,l,0,Math.PI/2),t.lineTo(r+f,n+a),f!==0&&t.arc(r+f,n+a-f,f,Math.PI/2,Math.PI),t.lineTo(r,n+s),s!==0&&t.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var ni=Math.round;function fh(t,e,r){if(e){var n=e.x1,i=e.x2,a=e.y1,o=e.y2;t.x1=n,t.x2=i,t.y1=a,t.y2=o;var s=r&&r.lineWidth;return s&&(ni(n*2)===ni(i*2)&&(t.x1=t.x2=Pn(n,s,!0)),ni(a*2)===ni(o*2)&&(t.y1=t.y2=Pn(a,s,!0))),t}}function bd(t,e,r){if(e){var n=e.x,i=e.y,a=e.width,o=e.height;t.x=n,t.y=i,t.width=a,t.height=o;var s=r&&r.lineWidth;return s&&(t.x=Pn(n,s,!0),t.y=Pn(i,s,!0),t.width=Math.max(Pn(n+a,s,!1)-t.x,a===0?0:1),t.height=Math.max(Pn(i+o,s,!1)-t.y,o===0?0:1)),t}}function Pn(t,e,r){if(!e)return t;var n=ni(t*2);return(n+ni(e))%2===0?n/2:(n+(r?1:-1))/2}var hh=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),ch={},Qo=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new hh},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var u=bd(ch,n,this.style);i=u.x,a=u.y,o=u.width,s=u.height,u.r=n.r,n=u}else i=n.x,a=n.y,o=n.width,s=n.height;n.r?lh(r,n):r.rect(i,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(ut);Qo.prototype.type="rect";const un=Qo;var vh={fill:"#000"},dh=2,ph={style:Pt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Wo.style)},Da=function(t){C(e,t);function e(r){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=vh,n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,g(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Ke(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var s=n[o],u=s.getBoundingRect(),l=s.getLocalTransform(i);l?(r.copy(u),r.applyTransform(l),a=a||r.clone(),a.union(r)):(a=a||u.clone(),a.union(u))}this._rect=a||r}return this._rect},e.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||vh},e.prototype.setTextContent=function(r){},e.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,a=r.rich||i&&{};return be(r,n),i&&a?(this._mergeRich(a,i),r.rich=a):a&&(r.rich=a),r},e.prototype._mergeRich=function(r,n){for(var i=lt(n),a=0;a<i.length;a++){var o=i[a];r[o]=r[o]||{},be(r[o],n[o])}},e.prototype.getAnimationStyleProps=function(){return ph},e.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||ue,i=r.padding,a=Y(r),o=nd(a,r),s=W(r),u=!!r.backgroundColor,l=o.outerHeight,f=o.outerWidth,h=o.contentWidth,c=o.lines,v=o.lineHeight,p=this._defaultStyle,_=r.x||0,m=r.y||0,y=r.align||p.align||"left",w=r.verticalAlign||p.verticalAlign||"top",T=_,M=Ii(m,o.contentHeight,w);if(s||i){var L=la(_,f,y),I=Ii(m,l,w);s&&this._renderBackground(r,r,L,I,f,l)}M+=v/2,i&&(T=B(_,y,i),w==="top"?M+=i[0]:w==="bottom"&&(M-=i[2]));for(var k=0,$=!1,G=x("fill"in r?r.fill:($=!0,p.fill)),X=S("stroke"in r?r.stroke:!u&&(!p.autoStroke||$)?(k=dh,p.stroke):null),U=r.textShadowBlur>0,ie=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),de=o.calculatedLineHeight,_e=0;_e<c.length;_e++){var xe=this._getOrCreateChild($u),Ee=xe.createStyle();xe.useStyle(Ee),Ee.text=c[_e],Ee.x=T,Ee.y=M,y&&(Ee.textAlign=y),Ee.textBaseline="middle",Ee.opacity=r.opacity,Ee.strokeFirst=!0,U&&(Ee.shadowBlur=r.textShadowBlur||0,Ee.shadowColor=r.textShadowColor||"transparent",Ee.shadowOffsetX=r.textShadowOffsetX||0,Ee.shadowOffsetY=r.textShadowOffsetY||0),Ee.stroke=X,Ee.fill=G,X&&(Ee.lineWidth=r.lineWidth||k,Ee.lineDash=r.lineDash,Ee.lineDashOffset=r.lineDashOffset||0),Ee.font=n,Qe(Ee,r),M+=v,ie&&xe.setBoundingRect(new Ke(la(Ee.x,r.width,Ee.textAlign),Ii(Ee.y,de,Ee.textBaseline),h,de))}},e.prototype._updateRichTexts=function(){var r=this.style,n=Y(r),i=Ou(n,r),a=i.width,o=i.outerWidth,s=i.outerHeight,u=r.padding,l=r.x||0,f=r.y||0,h=this._defaultStyle,c=r.align||h.align,v=r.verticalAlign||h.verticalAlign,p=la(l,o,c),_=Ii(f,s,v),m=p,y=_;u&&(m+=u[3],y+=u[0]);var w=m+a;W(r)&&this._renderBackground(r,r,p,_,o,s);for(var T=!!r.backgroundColor,M=0;M<i.lines.length;M++){for(var L=i.lines[M],I=L.tokens,k=I.length,$=L.lineHeight,G=L.width,X=0,U=m,ie=w,de=k-1,_e=void 0;X<k&&(_e=I[X],!_e.align||_e.align==="left");)this._placeToken(_e,r,$,y,U,"left",T),G-=_e.width,U+=_e.width,X++;for(;de>=0&&(_e=I[de],_e.align==="right");)this._placeToken(_e,r,$,y,ie,"right",T),G-=_e.width,ie-=_e.width,de--;for(U+=(a-(U-m)-(w-ie)-G)/2;X<=de;)_e=I[X],this._placeToken(_e,r,$,y,U+_e.width/2,"center",T),U+=_e.width,X++;y+=$}},e.prototype._placeToken=function(r,n,i,a,o,s,u){var l=n.rich[r.styleName]||{};l.text=r.text;var f=r.verticalAlign,h=a+i/2;f==="top"?h=a+r.height/2:f==="bottom"&&(h=a+i-r.height/2);var c=!r.isLineHolder&&W(l);c&&this._renderBackground(l,n,s==="right"?o-r.width:s==="center"?o-r.width/2:o,h-r.height/2,r.width,r.height);var v=!!l.backgroundColor,p=r.textPadding;p&&(o=B(o,s,p),h-=r.height/2-p[0]-r.innerHeight/2);var _=this._getOrCreateChild($u),m=_.createStyle();_.useStyle(m);var y=this._defaultStyle,w=!1,T=0,M=x("fill"in l?l.fill:"fill"in n?n.fill:(w=!0,y.fill)),L=S("stroke"in l?l.stroke:"stroke"in n?n.stroke:!v&&!u&&(!y.autoStroke||w)?(T=dh,y.stroke):null),I=l.textShadowBlur>0||n.textShadowBlur>0;m.text=r.text,m.x=o,m.y=h,I&&(m.shadowBlur=l.textShadowBlur||n.textShadowBlur||0,m.shadowColor=l.textShadowColor||n.textShadowColor||"transparent",m.shadowOffsetX=l.textShadowOffsetX||n.textShadowOffsetX||0,m.shadowOffsetY=l.textShadowOffsetY||n.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=r.font||ue,m.opacity=Wr(l.opacity,n.opacity,1),Qe(m,l),L&&(m.lineWidth=Wr(l.lineWidth,n.lineWidth,T),m.lineDash=We(l.lineDash,n.lineDash),m.lineDashOffset=n.lineDashOffset||0,m.stroke=L),M&&(m.fill=M);var k=r.contentWidth,$=r.contentHeight;_.setBoundingRect(new Ke(la(m.x,k,m.textAlign),Ii(m.y,$,m.textBaseline),k,$))},e.prototype._renderBackground=function(r,n,i,a,o,s){var u=r.backgroundColor,l=r.borderWidth,f=r.borderColor,h=u&&u.image,c=u&&!h,v=r.borderRadius,p=this,_,m;if(c||r.lineHeight||l&&f){_=this._getOrCreateChild(un),_.useStyle(_.createStyle()),_.style.fill=null;var y=_.shape;y.x=i,y.y=a,y.width=o,y.height=s,y.r=v,_.dirtyShape()}if(c){var w=_.style;w.fill=u||null,w.fillOpacity=We(r.fillOpacity,1)}else if(h){m=this._getOrCreateChild(Ni),m.onload=function(){p.dirtyStyle()};var T=m.style;T.image=u.image,T.x=i,T.y=a,T.width=o,T.height=s}if(l&&f){var w=_.style;w.lineWidth=l,w.stroke=f,w.strokeOpacity=We(r.strokeOpacity,1),w.lineDash=r.borderDash,w.lineDashOffset=r.borderDashOffset||0,_.strokeContainThreshold=0,_.hasFill()&&_.hasStroke()&&(w.strokeFirst=!0,w.lineWidth*=2)}var M=(_||m).style;M.shadowBlur=r.shadowBlur||0,M.shadowColor=r.shadowColor||"transparent",M.shadowOffsetX=r.shadowOffsetX||0,M.shadowOffsetY=r.shadowOffsetY||0,M.opacity=Wr(r.opacity,n.opacity,1)},e.makeFont=function(r){var n="";return d(r)&&(n=[r.fontStyle,r.fontWeight,mh(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&dn(n)||r.textFont||r.font},e}(Ai),Yu={left:!0,right:1,center:1},Jo={top:1,bottom:1,middle:1},gh=["fontStyle","fontWeight","fontSize","fontFamily"];function mh(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?kn+"px":t+"px"}function Qe(t,e){for(var r=0;r<gh.length;r++){var n=gh[r],i=e[n];i!=null&&(t[n]=i)}}function d(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function g(t){return b(t),Z(t.rich,b),t}function b(t){if(t){t.font=Da.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||Yu[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||Jo[r]?r:"top";var n=t.padding;n&&(t.padding=xl(t.padding))}}function S(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function x(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function B(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function Y(t){var e=t.text;return e!=null&&(e+=""),e}function W(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}const J=Da;var ae=mt(),Se=function(t,e,r,n){if(n){var i=ae(n);i.dataIndex=r,i.dataType=e,i.seriesIndex=t,n.type==="group"&&n.traverse(function(a){var o=ae(a);o.seriesIndex=t,o.dataIndex=r,o.dataType=e})}},ye=1,Me={},Ae=mt(),Fe=mt(),Ve=0,ct=1,Et=2,dt=["emphasis","blur","select"],jt=["normal","emphasis","blur","select"],Er=10,ir=9,Vt="highlight",ar="downplay",Mt="select",or="unselect",Bi="toggleSelect";function kr(t){return t!=null&&t!=="none"}var Uu=new ia(100);function yh(t){if(ze(t)){var e=Uu.get(t);return e||(e=ff(t,-.1),Uu.put(t,e)),e}else if(ci(t)){var r=be({},t);return r.colorStops=Je(t.colorStops,function(n){return{offset:n.offset,color:ff(n.color,-.1)}}),r}return t}function Fi(t,e,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(e),t.hoverState=r}function Wu(t){Fi(t,"emphasis",Et)}function Nr(t){t.hoverState===Et&&Fi(t,"normal",Ve)}function es(t){Fi(t,"blur",ct)}function _h(t){t.hoverState===ct&&Fi(t,"normal",Ve)}function bh(t){t.selected=!0}function Ia(t){t.selected=!1}function Xu(t,e,r){e(t,r)}function ln(t,e,r){Xu(t,e,r),t.isGroup&&t.traverse(function(n){Xu(n,e,r)})}function Wg(t,e){switch(e){case"emphasis":t.hoverState=Et;break;case"normal":t.hoverState=Ve;break;case"blur":t.hoverState=ct;break;case"select":t.selected=!0}}function Xg(t){t.isGroup?t.traverse(function(e){e.clearStates()}):t.clearStates()}function ts(t,e,r,n){for(var i=t.style,a={},o=0;o<e.length;o++){var s=e[o],u=i[s];a[s]=u??(n&&n[s])}for(var o=0;o<t.animators.length;o++){var l=t.animators[o];l.__fromStateTransition&&l.__fromStateTransition.indexOf(r)<0&&l.targetName==="style"&&l.saveTo(a,e)}return a}function q_(t,e,r,n){var i=r&&it(r,"select")>=0,a=!1;if(t instanceof ut){var o=Ae(t),s=i&&o.selectFill||o.normalFill,u=i&&o.selectStroke||o.normalStroke;if(kr(s)||kr(u)){n=n||{};var l=n.style||{};l.fill==="inherit"?(a=!0,n=be({},n),l=be({},l),l.fill=s):!kr(l.fill)&&kr(s)?(a=!0,n=be({},n),l=be({},l),l.fill=yh(s)):!kr(l.stroke)&&kr(u)&&(a||(n=be({},n),l=be({},l)),l.stroke=yh(u)),n.style=l}}if(n&&n.z2==null){a||(n=be({},n));var f=t.z2EmphasisLift;n.z2=t.z2+(f??Er)}return n}function K_(t,e,r){if(r&&r.z2==null){r=be({},r);var n=t.z2SelectLift;r.z2=t.z2+(n??ir)}return r}function Q_(t,e,r){var n=it(t.currentStates,e)>=0,i=t.style.opacity,a=n?null:ts(t,["opacity"],e,{opacity:1});r=r||{};var o=r.style||{};return o.opacity==null&&(r=be({},r),o=be({opacity:n?i:a.opacity*.1},o),r.style=o),r}function wd(t,e){var r=this.states[t];if(this.style){if(t==="emphasis")return q_(this,t,e,r);if(t==="blur")return Q_(this,t,r);if(t==="select")return K_(this,t,r)}return r}function J_(t){t.stateProxy=wd;var e=t.getTextContent(),r=t.getTextGuideLine();e&&(e.stateProxy=wd),r&&(r.stateProxy=wd)}function jg(t,e){!Jg(t,e)&&!t.__highByOuter&&ln(t,Wu)}function Zg(t,e){!Jg(t,e)&&!t.__highByOuter&&ln(t,Nr)}function ju(t,e){t.__highByOuter|=1<<(e||0),ln(t,Wu)}function Zu(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&ln(t,Nr)}function e1(t){ln(t,es)}function qg(t){ln(t,_h)}function Kg(t){ln(t,bh)}function Qg(t){ln(t,Ia)}function Jg(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function e0(t){var e=t.getModel(),r=[],n=[];e.eachComponent(function(i,a){var o=Fe(a),s=i==="series",u=s?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!s&&n.push(u),o.isBlured&&(u.group.traverse(function(l){_h(l)}),s&&r.push(a)),o.isBlured=!1}),Z(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,e)})}function Sd(t,e,r,n){var i=n.getModel();r=r||"coordinateSystem";function a(l,f){for(var h=0;h<f.length;h++){var c=l.getItemGraphicEl(f[h]);c&&qg(c)}}if(t!=null&&!(!e||e==="none")){var o=i.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var u=[];i.eachSeries(function(l){var f=o===l,h=l.coordinateSystem;h&&h.master&&(h=h.master);var c=h&&s?h===s:f;if(!(r==="series"&&!f||r==="coordinateSystem"&&!c||e==="series"&&f)){var v=n.getViewOfSeriesModel(l);if(v.group.traverse(function(m){m.__highByOuter&&f&&e==="self"||es(m)}),Ut(e))a(l.getData(),e);else if(Re(e))for(var p=lt(e),_=0;_<p.length;_++)a(l.getData(p[_]),e[p[_]]);u.push(l),Fe(l).isBlured=!0}}),i.eachComponent(function(l,f){if(l!=="series"){var h=n.getViewOfComponentModel(f);h&&h.toggleBlurSeries&&h.toggleBlurSeries(u,!0,i)}})}}function Td(t,e,r){if(!(t==null||e==null)){var n=r.getModel().getComponent(t,e);if(n){Fe(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){es(a)})}}}function t1(t,e,r){var n=t.seriesIndex,i=t.getData(e.dataType);if(i){var a=Go(i,e);a=(Le(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),u=0;!o&&u<s;)o=i.getItemGraphicEl(u++);if(o){var l=ae(o);Sd(n,l.focus,l.blurScope,r)}else{var f=t.get(["emphasis","focus"]),h=t.get(["emphasis","blurScope"]);f!=null&&Sd(n,f,h,r)}}}function Cd(t,e,r,n){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||r==null)return i;var a=n.getModel().getComponent(t,e);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(r),u,l=0;l<s.length;l++)if(ae(s[l]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:s}}function r1(t,e,r){var n=ae(t),i=Cd(n.componentMainType,n.componentIndex,n.componentHighDownName,r),a=i.dispatchers,o=i.focusSelf;a?(o&&Td(n.componentMainType,n.componentIndex,r),Z(a,function(s){return jg(s,e)})):(Sd(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&Td(n.componentMainType,n.componentIndex,r),jg(t,e))}function n1(t,e,r){e0(r);var n=ae(t),i=Cd(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?Z(i,function(a){return Zg(a,e)}):Zg(t,e)}function i1(t,e,r){if(Md(e)){var n=e.dataType,i=t.getData(n),a=Go(i,e);Le(a)||(a=[a]),t[e.type===Bi?"toggleSelect":e.type===Mt?"select":"unselect"](a,n)}}function t0(t){var e=t.getAllData();Z(e,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(a,o){t.isSelected(o,i)?Kg(a):Qg(a)})})}function a1(t){var e=[];return t.eachSeries(function(r){var n=r.getAllData();Z(n,function(i){var a=i.data,o=i.type,s=r.getSelectedDataIndices();if(s.length>0){var u={dataIndex:s,seriesIndex:r.seriesIndex};o!=null&&(u.dataType=o),e.push(u)}})}),e}function o1(t,e,r){i0(t,!0),ln(t,J_),u1(t,e,r)}function s1(t){i0(t,!1)}function r0(t,e,r,n){n?s1(t):o1(t,e,r)}function u1(t,e,r){var n=ae(t);e!=null?(n.focus=e,n.blurScope=r):n.focus&&(n.focus=null)}var n0=null,l1={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function PT(t,e,r,n){r=r||"itemStyle";for(var i=0;i<n0.length;i++){var a=n0[i],o=e.getModel([a,r]),s=t.ensureState(a);s.style=n?n(o):o[l1[r]]()}}function i0(t,e){var r=e===!1,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function Ed(t){return!!(t&&t.__highDownDispatcher)}function LT(t,e,r){var n=getECData(t);n.componentMainType=e.mainType,n.componentIndex=e.componentIndex,n.componentHighDownName=r}function f1(t){var e=Me[t];return e==null&&ye<=32&&(e=Me[t]=ye++),e}function Md(t){var e=t.type;return e===Mt||e===or||e===Bi}function a0(t){var e=t.type;return e===Vt||e===ar}function h1(t){var e=Ae(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null,e.selectStroke=r.style&&r.style.stroke||null}var wh={};function o0(t,e){for(var r=0;r<dt.length;r++){var n=dt[r],i=e[n],a=t.ensureState(n);a.style=a.style||{},a.style.text=i}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function xd(t,e,r){var n=t.labelFetcher,i=t.labelDataIndex,a=t.labelDimIndex,o=e.normal,s;n&&(s=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=et(t.defaultText)?t.defaultText(i,t,r):t.defaultText);for(var u={normal:s},l=0;l<dt.length;l++){var f=dt[l],h=e[f];u[f]=We(n?n.getFormattedLabel(i,f,null,a,h&&h.get("formatter")):null,s)}return u}function s0(t,e,r,n){r=r||wh;for(var i=t instanceof J,a=!1,o=0;o<jt.length;o++){var s=e[jt[o]];if(s&&s.getShallow("show")){a=!0;break}}var u=i?t:t.getTextContent();if(a){i||(u||(u=new J,t.setTextContent(u)),t.stateProxy&&(u.stateProxy=t.stateProxy));var l=xd(r,e),f=e.normal,h=!!f.getShallow("show"),c=Th(f,n&&n.normal,r,!1,!i);c.text=l.normal,i||t.setTextConfig(u0(f,r,!1));for(var o=0;o<dt.length;o++){var v=dt[o],s=e[v];if(s){var p=u.ensureState(v),_=!!We(s.getShallow("show"),h);if(_!==h&&(p.ignore=!_),p.style=Th(s,n&&n[v],r,!0,!i),p.style.text=l[v],!i){var m=t.ensureState(v);m.textConfig=u0(s,r,!0)}}}u.silent=!!f.getShallow("silent"),u.style.x!=null&&(c.x=u.style.x),u.style.y!=null&&(c.y=u.style.y),u.ignore=!h,u.useStyle(c),u.dirty(),r.enableTextSetter&&(Dd(u).setLabelText=function(y){var w=xd(r,e,y);o0(u,w)})}else u&&(u.ignore=!0);t.dirty()}function Sh(t,e){e=e||"label";for(var r={normal:t.getModel(e)},n=0;n<dt.length;n++){var i=dt[n];r[i]=t.getModel([i,e])}return r}function Th(t,e,r,n,i){var a={};return c1(a,t,r,n,i),e&&be(a,e),a}function u0(t,e,r){e=e||{};var n={},i,a=t.getShallow("rotate"),o=We(t.getShallow("distance"),r?null:5),s=t.getShallow("offset");return i=t.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(n.position=i),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",n}function c1(t,e,r,n,i){r=r||wh;var a=e.ecModel,o=a&&a.option.textStyle,s=v1(e),u;if(s){u={};for(var l in s)if(s.hasOwnProperty(l)){var f=e.getModel(["rich",l]);c0(u[l]={},f,o,r,n,i,!1,!0)}}u&&(t.rich=u);var h=e.get("overflow");h&&(t.overflow=h);var c=e.get("minMargin");c!=null&&(t.margin=c),c0(t,e,o,r,n,i,!0,!1)}function v1(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||wh).rich;if(r){e=e||{};for(var n=lt(r),i=0;i<n.length;i++){var a=n[i];e[a]=1}}t=t.parentModel}return e}var l0=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],f0=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],h0=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function c0(t,e,r,n,i,a,o,s){r=!i&&r||wh;var u=n&&n.inheritColor,l=e.getShallow("color"),f=e.getShallow("textBorderColor"),h=We(e.getShallow("opacity"),r.opacity);(l==="inherit"||l==="auto")&&(u?l=u:l=null),(f==="inherit"||f==="auto")&&(u?f=u:f=null),a||(l=l||r.color,f=f||r.textBorderColor),l!=null&&(t.fill=l),f!=null&&(t.stroke=f);var c=We(e.getShallow("textBorderWidth"),r.textBorderWidth);c!=null&&(t.lineWidth=c);var v=We(e.getShallow("textBorderType"),r.textBorderType);v!=null&&(t.lineDash=v);var p=We(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);p!=null&&(t.lineDashOffset=p),!i&&h==null&&!s&&(h=n&&n.defaultOpacity),h!=null&&(t.opacity=h),!i&&!a&&t.fill==null&&n.inheritColor&&(t.fill=n.inheritColor);for(var _=0;_<l0.length;_++){var m=l0[_],y=We(e.getShallow(m),r[m]);y!=null&&(t[m]=y)}for(var _=0;_<f0.length;_++){var m=f0[_],y=e.getShallow(m);y!=null&&(t[m]=y)}if(t.verticalAlign==null){var w=e.getShallow("baseline");w!=null&&(t.verticalAlign=w)}if(!o||!n.disableBox){for(var _=0;_<h0.length;_++){var m=h0[_],y=e.getShallow(m);y!=null&&(t[m]=y)}var T=e.getShallow("borderType");T!=null&&(t.borderDash=T),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&u&&(t.backgroundColor=u),(t.borderColor==="auto"||t.borderColor==="inherit")&&u&&(t.borderColor=u)}}function d1(t,e){var r=e&&e.getModel("textStyle");return dn([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var Dd=mt();function RT(t,e,r,n){if(t){var i=Dd(t);i.prevValue=i.value,i.value=r;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=e)}}function AT(t,e,r,n,i){var a=Dd(t);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=retrieve2(a.interpolatedValue,a.prevValue),u=a.value;function l(f){var h=interpolateRawValues(r,a.precision,s,u,f);a.interpolatedValue=f===1?null:h;var c=xd({labelDataIndex:e,labelFetcher:i,defaultText:o?o(h):h+""},a.statesModels,h);o0(t,c)}t.percent=0,(a.prevValue==null?initProps:updateProps)(t,{percent:1},n,e,null,l)}var p1=["textStyle","color"],Id=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Pd=new J,g1=function(){function t(){}return t.prototype.getTextColor=function(e){var r=this.ecModel;return this.getShallow("color")||(!e&&r?r.get(p1):null)},t.prototype.getFont=function(){return d1({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var r={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<Id.length;n++)r[Id[n]]=this.getShallow(Id[n]);return Pd.useStyle(r),Pd.update(),Pd.getBoundingRect()},t}();const m1=g1;var v0=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],y1=_a(v0),_1=function(){function t(){}return t.prototype.getLineStyle=function(e){return y1(this,e)},t}(),d0=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],b1=_a(d0),w1=function(){function t(){}return t.prototype.getItemStyle=function(e,r){return b1(this,e,r)},t}(),Pa=function(){function t(e,r,n){this.parentModel=r,this.ecModel=n,this.option=e}return t.prototype.init=function(e,r,n){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a]},t.prototype.mergeOption=function(e,r){Ue(this.option,e,!0)},t.prototype.get=function(e,r){return e==null?this.option:this._doGet(this.parsePath(e),!r&&this.parentModel)},t.prototype.getShallow=function(e,r){var n=this.option,i=n==null?n:n[e];if(i==null&&!r){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},t.prototype.getModel=function(e,r){var n=e!=null,i=n?this.parsePath(e):null,a=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(a,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(Ye(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!Ze.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,r){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&!(e[i]&&(n=n&&typeof n=="object"?n[e[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(e),r.parentModel)),n},t}();Or(Pa),Zv(Pa),Kt(Pa,_1),Kt(Pa,w1),Kt(Pa,Jv),Kt(Pa,m1);const ii=Pa;var S1=Math.round(Math.random()*10);function Ch(t){return[t||"",S1++].join("_")}function T1(t){var e={};t.registerSubTypeDefaulter=function(r,n){var i=Ar(r);e[i.main]=n},t.determineSubType=function(r,n){var i=n.type;if(!i){var a=Ar(r).main;t.hasSubTypes(r)&&e[a]&&(i=e[a](n))}return i}}function C1(t,e){t.topologicalTravel=function(a,o,s,u){if(!a.length)return;var l=r(o),f=l.graph,h=l.noEntryList,c={};for(Z(a,function(w){c[w]=!0});h.length;){var v=h.pop(),p=f[v],_=!!c[v];_&&(s.call(u,v,p.originalDeps.slice()),delete c[v]),Z(p.successor,_?y:m)}Z(c,function(){var w="";throw new Error(w)});function m(w){f[w].entryCount--,f[w].entryCount===0&&h.push(w)}function y(w){c[w]=!0,m(w)}};function r(a){var o={},s=[];return Z(a,function(u){var l=n(o,u),f=l.originalDeps=e(u),h=i(f,a);l.entryCount=h.length,l.entryCount===0&&s.push(u),Z(h,function(c){it(l.predecessor,c)<0&&l.predecessor.push(c);var v=n(o,c);it(v.successor,c)<0&&v.successor.push(u)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return Z(a,function(u){it(o,u)>=0&&s.push(u)}),s}}function OT(t,e){return zrUtil.merge(zrUtil.merge({},t,!0),e,!0)}function E1(t){if(!isNumeric(t))return zrUtil.isString(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function kT(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var M1=xl;function NT(t,e,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(f){return f&&zrUtil.trim(f)?f:"-"}function a(f){return!!(f!=null&&!isNaN(f)&&isFinite(f))}var o=e==="time",s=t instanceof Date;if(o||s){var u=o?parseDate(t):t;if(isNaN(+u)){if(s)return"-"}else return timeFormat(u,n,r)}if(e==="ordinal")return zrUtil.isStringSafe(t)?i(t):zrUtil.isNumber(t)&&a(t)?t+"":"-";var l=numericToNumber(t);return a(l)?E1(l):zrUtil.isStringSafe(t)?i(t):typeof t=="boolean"?t+"":"-"}var p0=["a","b","c","d","e","f","g"],Ld=function(t,e){return"{"+t+(e??"")+"}"};function x1(t,e,r){Le(e)||(e=[e]);var n=e.length;if(!n)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=p0[a];t=t.replace(Ld(o),Ld(o,0))}for(var s=0;s<n;s++)for(var u=0;u<i.length;u++){var l=e[s][i[u]];t=t.replace(Ld(p0[u],s),r?zs(l):l)}return t}function BT(t,e,r){return zrUtil.each(e,function(n,i){t=t.replace("{"+i+"}",r?encodeHTML(n):n)}),t}function D1(t,e){var r=ze(t)?{color:t,extraCssText:e}:t||{},n=r.color,i=r.type;e=r.extraCssText;var a=r.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+zs(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+zs(n)+";"+(e||"")+'"></span>';var o=r.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function FT(t,e,r){(t==="week"||t==="month"||t==="quarter"||t==="half-year"||t==="year")&&(t=`MM-dd
yyyy`);var n=parseDate(e),i=r?"getUTC":"get",a=n[i+"FullYear"](),o=n[i+"Month"]()+1,s=n[i+"Date"](),u=n[i+"Hours"](),l=n[i+"Minutes"](),f=n[i+"Seconds"](),h=n[i+"Milliseconds"]();return t=t.replace("MM",pad(o,2)).replace("M",o).replace("yyyy",a).replace("yy",pad(a%100+"",2)).replace("dd",pad(s,2)).replace("d",s).replace("hh",pad(u,2)).replace("h",u).replace("mm",pad(l,2)).replace("m",l).replace("ss",pad(f,2)).replace("s",f).replace("SSS",pad(h,3)),t}function zT(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)}function I1(t,e){return e=e||"transparent",ze(t)?t:Re(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function g0(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null,r.location.href=t}else window.open(t,e)}var Eh=Z,P1=["left","right","top","bottom","width","height"],La=[["width","left","right"],["height","top","bottom"]];function m0(t,e,r,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(u,l){var f=u.getBoundingRect(),h=e.childAt(l+1),c=h&&h.getBoundingRect(),v,p;if(t==="horizontal"){var _=f.width+(c?-c.x+f.x:0);v=a+_,v>n||u.newline?(a=0,v=_,o+=s+r,s=f.height):s=Math.max(s,f.height)}else{var m=f.height+(c?-c.y+f.y:0);p=o+m,p>i||u.newline?(a+=s+r,o=0,p=m,s=f.width):s=Math.max(s,f.width)}u.newline||(u.x=a,u.y=o,u.markRedraw(),t==="horizontal"?a=v+r:o=p+r)})}var GT=null,VT=vn(m0,"vertical"),HT=vn(m0,"horizontal");function $T(t,e,r){var n=e.width,i=e.height,a=parsePercent(t.left,n),o=parsePercent(t.top,i),s=parsePercent(t.right,n),u=parsePercent(t.bottom,i);return(isNaN(a)||isNaN(parseFloat(t.left)))&&(a=0),(isNaN(s)||isNaN(parseFloat(t.right)))&&(s=n),(isNaN(o)||isNaN(parseFloat(t.top)))&&(o=0),(isNaN(u)||isNaN(parseFloat(t.bottom)))&&(u=i),r=formatUtil.normalizeCssArray(r||0),{width:Math.max(s-a-r[1]-r[3],0),height:Math.max(u-o-r[0]-r[2],0)}}function Rd(t,e,r){r=M1(r||0);var n=e.width,i=e.height,a=Lt(t.left,n),o=Lt(t.top,i),s=Lt(t.right,n),u=Lt(t.bottom,i),l=Lt(t.width,n),f=Lt(t.height,i),h=r[2]+r[0],c=r[1]+r[3],v=t.aspect;switch(isNaN(l)&&(l=n-s-c-a),isNaN(f)&&(f=i-u-h-o),v!=null&&(isNaN(l)&&isNaN(f)&&(v>n/i?l=n*.8:f=i*.8),isNaN(l)&&(l=v*f),isNaN(f)&&(f=l/v)),isNaN(a)&&(a=n-s-l-c),isNaN(o)&&(o=i-u-f-h),t.left||t.right){case"center":a=n/2-l/2-r[3];break;case"right":a=n-l-c;break}switch(t.top||t.bottom){case"middle":case"center":o=i/2-f/2-r[0];break;case"bottom":o=i-f-h;break}a=a||0,o=o||0,isNaN(l)&&(l=n-c-a-(s||0)),isNaN(f)&&(f=i-h-o-(u||0));var p=new Ke(a+r[3],o+r[0],l,f);return p.margin=r,p}function YT(t,e,r,n,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],u=i&&i.boundingMode||"all";if(a=a||t,a.x=t.x,a.y=t.y,!o&&!s)return!1;var l;if(u==="raw")l=t.type==="group"?new BoundingRect(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var f=t.getLocalTransform();l=l.clone(),l.applyTransform(f)}var h=Rd(zrUtil.defaults({width:l.width,height:l.height},e),r,n),c=o?h.x-l.x:0,v=s?h.y-l.y:0;return u==="raw"?(a.x=c,a.y=v):(a.x+=c,a.y+=v),a===t&&t.markRedraw(),!0}function UT(t,e){return t[La[e][0]]!=null||t[La[e][1]]!=null&&t[La[e][2]]!=null}function Mh(t){var e=t.layoutMode||t.constructor.layoutMode;return Re(e)?e:e?{type:e}:null}function xh(t,e,r){var n=r&&r.ignoreSize;!Le(n)&&(n=[n,n]);var i=o(La[0],0),a=o(La[1],1);l(La[0],t,i),l(La[1],t,a);function o(f,h){var c={},v=0,p={},_=0,m=2;if(Eh(f,function(T){p[T]=t[T]}),Eh(f,function(T){s(e,T)&&(c[T]=p[T]=e[T]),u(c,T)&&v++,u(p,T)&&_++}),n[h])return u(e,f[1])?p[f[2]]=null:u(e,f[2])&&(p[f[1]]=null),p;if(_===m||!v)return p;if(v>=m)return c;for(var y=0;y<f.length;y++){var w=f[y];if(!s(c,w)&&s(t,w)){c[w]=t[w];break}}return c}function s(f,h){return f.hasOwnProperty(h)}function u(f,h){return f[h]!=null&&f[h]!=="auto"}function l(f,h,c){Eh(f,function(v){h[v]=c[v]})}}function y0(t){return L1({},t)}function L1(t,e){return e&&t&&Eh(P1,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var R1=mt(),rs=function(t){C(e,t);function e(r,n,i){var a=t.call(this,r,n,i)||this;return a.uid=Ch("ec_cpt_model"),a}return e.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=Mh(this),a=i?y0(r):{},o=n.getTheme();Ue(r,o.get(this.mainType)),Ue(r,this.getDefaultOption()),i&&xh(r,a,i)},e.prototype.mergeOption=function(r,n){Ue(this.option,r,!0);var i=Mh(this);i&&xh(this.option,r,i)},e.prototype.optionUpdated=function(r,n){},e.prototype.getDefaultOption=function(){var r=this.constructor;if(!Xv(r))return r.defaultOption;var n=R1(this);if(!n.defaultOption){for(var i=[],a=r;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},u=i.length-1;u>=0;u--)s=Ue(s,i[u],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(r,n){var i=r+"Index",a=r+"Id";return ya(this.ecModel,r,{index:this.get(i,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(r){this.option.zlevel=r},e.protoInitialize=function(){var r=e.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),e}(ii);Vf(rs,ii),Pu(rs),T1(rs),C1(rs,A1);function A1(t){var e=[];return Z(rs.getClassesByMainType(t),function(r){e=e.concat(r.dependencies||r.prototype.dependencies||[])}),e=Je(e,function(r){return Ar(r).main}),t!=="dataset"&&it(e,"dataset")<=0&&e.unshift("dataset"),e}const xt=rs;var _0="";typeof navigator<"u"&&(_0=navigator.platform||"");var ns="rgba(0, 0, 0, 0.2)";const O1={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:ns,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:ns,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:ns,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:ns,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:ns,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:ns,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:_0.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var b0=ke(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Br="original",sr="arrayRows",Ln="objectRows",ai="keyedColumns",oi="typedArray",w0="unknown",si="column",is="row",Nt={Must:1,Might:2,Not:3},S0=mt();function k1(t){S0(t).datasetMap=ke()}function N1(t,e,r){var n={},i=Ad(e);if(!i||!t)return n;var a=[],o=[],s=e.ecModel,u=S0(s).datasetMap,l=i.uid+"_"+r.seriesLayoutBy,f,h;t=t.slice(),Z(t,function(_,m){var y=Re(_)?_:t[m]={name:_};y.type==="ordinal"&&f==null&&(f=m,h=p(y)),n[y.name]=[]});var c=u.get(l)||u.set(l,{categoryWayDim:h,valueWayDim:0});Z(t,function(_,m){var y=_.name,w=p(_);if(f==null){var T=c.valueWayDim;v(n[y],T,w),v(o,T,w),c.valueWayDim+=w}else if(f===m)v(n[y],0,w),v(a,0,w);else{var T=c.categoryWayDim;v(n[y],T,w),v(o,T,w),c.categoryWayDim+=w}});function v(_,m,y){for(var w=0;w<y;w++)_.push(m+w)}function p(_){var m=_.dimsDef;return m?m.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function WT(t,e,r){var n={},i=Ad(t);if(!i)return n;var a=e.sourceFormat,o=e.dimensionsDefine,s;(a===SOURCE_FORMAT_OBJECT_ROWS||a===SOURCE_FORMAT_KEYED_COLUMNS)&&each(o,function(f,h){(isObject(f)?f.name:f)==="name"&&(s=h)});var u=function(){for(var f={},h={},c=[],v=0,p=Math.min(5,r);v<p;v++){var _=C0(e.data,a,e.seriesLayoutBy,o,e.startIndex,v);c.push(_);var m=_===Nt.Not;if(m&&f.v==null&&v!==s&&(f.v=v),(f.n==null||f.n===f.v||!m&&c[f.n]===Nt.Not)&&(f.n=v),y(f)&&c[f.n]!==Nt.Not)return f;m||(_===Nt.Might&&h.v==null&&v!==s&&(h.v=v),(h.n==null||h.n===h.v)&&(h.n=v))}function y(w){return w.v!=null&&w.n!=null}return y(f)?f:y(h)?h:null}();if(u){n.value=[u.v];var l=s??u.n;n.itemName=[l],n.seriesName=[l]}return n}function Ad(t){var e=t.get("data",!0);if(!e)return ya(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},Qn).models[0]}function B1(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:ya(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},Qn).models}function T0(t,e){return C0(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function C0(t,e,r,n,i,a){var o,s=5;if(At(t))return Nt.Not;var u,l;if(n){var f=n[a];Re(f)?(u=f.name,l=f.type):ze(f)&&(u=f)}if(l!=null)return l==="ordinal"?Nt.Must:Nt.Not;if(e===sr){var h=t;if(r===is){for(var c=h[a],v=0;v<(c||[]).length&&v<s;v++)if((o=M(c[i+v]))!=null)return o}else for(var v=0;v<h.length&&v<s;v++){var p=h[i+v];if(p&&(o=M(p[a]))!=null)return o}}else if(e===Ln){var _=t;if(!u)return Nt.Not;for(var v=0;v<_.length&&v<s;v++){var m=_[v];if(m&&(o=M(m[u]))!=null)return o}}else if(e===ai){var y=t;if(!u)return Nt.Not;var c=y[u];if(!c||At(c))return Nt.Not;for(var v=0;v<c.length&&v<s;v++)if((o=M(c[v]))!=null)return o}else if(e===Br)for(var w=t,v=0;v<w.length&&v<s;v++){var m=w[v],T=Kn(m);if(!Le(T))return Nt.Not;if((o=M(T[a]))!=null)return o}function M(L){var I=ze(L);if(L!=null&&isFinite(L)&&L!=="")return I?Nt.Might:Nt.Not;if(I&&L!=="-")return Nt.Must}return Nt.Not}var Od=ke();function XT(t,e){assert(Od.get(t)==null&&e),Od.set(t,e)}function F1(t,e,r){var n=Od.get(e);if(!n)return r;var i=n(t);if(!i)return r;if(!1)var a;return r.concat(i)}var E0=mt(),z1=mt(),kd=function(){function t(){}return t.prototype.getColorFromPalette=function(e,r,n){var i=vt(this.get("color",!0)),a=this.get("colorLayer",!0);return M0(this,E0,i,a,e,r,n)},t.prototype.clearColorPalette=function(){V1(this,E0)},t}();function jT(t,e,r,n){var i=normalizeToArray(t.get(["aria","decal","decals"]));return M0(t,z1,i,null,e,r,n)}function G1(t,e){for(var r=t.length,n=0;n<r;n++)if(t[n].length>e)return t[n];return t[r-1]}function M0(t,e,r,n,i,a,o){a=a||t;var s=e(a),u=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var f=o==null||!n?r:G1(n,o);if(f=f||r,!(!f||!f.length)){var h=f[u];return i&&(l[i]=h),s.paletteIdx=(u+1)%f.length,h}}function V1(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var Dh,qu,x0,D0="\0_ec_inner",H1=1,$1={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},ZT={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},I0={};function qT(t){each(t,function(e,r){if(!ComponentModel.hasClass(r)){var n=$1[r];n&&!I0[n]&&(error("Component "+r+` is used but not imported.
import { `+n+` } from 'echarts/components';
echarts.use([`+n+"]);"),I0[n]=!0)}})}var P0=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,i,a,o,s){a=a||{},this.option=null,this._theme=new ii(a),this._locale=new ii(o),this._optionManager=s},e.prototype.setOption=function(r,n,i){var a=A0(n);this._optionManager.setOption(r,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(r,n){return this._resetOption(r,A0(n))},e.prototype._resetOption=function(r,n){var i=!1,a=this._optionManager;if(!r||r==="recreate"){var o=a.mountOption(r==="recreate");!this.option||r==="recreate"?x0(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var u=a.getMediaOption(this);u.length&&Z(u,function(l){i=!0,this._mergeOption(l,n)},this)}return i},e.prototype.mergeOption=function(r){this._mergeOption(r,null)},e.prototype._mergeOption=function(r,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],u=ke(),l=n&&n.replaceMergeMainTypeMap;k1(this),Z(r,function(h,c){h!=null&&(xt.hasClass(c)?c&&(s.push(c),u.set(c,!0)):i[c]=i[c]==null?Ye(h):Ue(i[c],h,!0))}),l&&l.each(function(h,c){xt.hasClass(c)&&!u.get(c)&&(s.push(c),u.set(c,!0))}),xt.topologicalTravel(s,xt.getAllClassMainTypes(),f,this);function f(h){var c=F1(this,h,vt(r[h])),v=a.get(h),p=v?l&&l.get(h)?"replaceMerge":"normalMerge":"replaceAll",_=da(v,c,p);Hv(_,h,xt),i[h]=null,a.set(h,null),o.set(h,0);var m=[],y=[],w=0,T,M;Z(_,function(L,I){var k=L.existing,$=L.newOption;if(!$)k&&(k.mergeOption({},this),k.optionUpdated({},!1));else{var G=h==="series",X=xt.getClass(h,L.keyInfo.subType,!G);if(!X){if(!1)var U,ie;return}if(h==="tooltip"){if(T)return;T=!0}if(k&&k.constructor===X)k.name=L.keyInfo.name,k.mergeOption($,this),k.optionUpdated($,!1);else{var de=be({componentIndex:I},L.keyInfo);k=new X($,this,this,de),be(k,de),L.brandNew&&(k.__requireNewView=!0),k.init($,this,this),k.optionUpdated(null,!0)}}k?(m.push(k.option),y.push(k),w++):(m.push(void 0),y.push(void 0))},this),i[h]=m,a.set(h,y),o.set(h,w),h==="series"&&Dh(this)}this._seriesIndices||Dh(this)},e.prototype.getOption=function(){var r=Ye(this.option);return Z(r,function(n,i){if(xt.hasClass(i)){for(var a=vt(n),o=a.length,s=!1,u=o-1;u>=0;u--)a[u]&&!ma(a[u])?s=!0:(a[u]=null,!s&&o--);a.length=o,r[i]=a}}),delete r[D0],r},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(r){this._payload=r},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},e.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,a=r.id,o=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var u;return i!=null?(u=[],Z(vt(i),function(l){s[l]&&u.push(s[l])})):a!=null?u=L0("id",a,s):o!=null?u=L0("name",o,s):u=vr(s,function(l){return!!l}),R0(u,r)},e.prototype.findComponents=function(r){var n=r.query,i=r.mainType,a=s(n),o=a?this.queryComponents(a):vr(this._componentsMap.get(i),function(l){return!!l});return u(R0(o,r));function s(l){var f=i+"Index",h=i+"Id",c=i+"Name";return l&&(l[f]!=null||l[h]!=null||l[c]!=null)?{mainType:i,index:l[f],id:l[h],name:l[c]}:null}function u(l){return r.filter?vr(l,r.filter):l}},e.prototype.eachComponent=function(r,n,i){var a=this._componentsMap;if(et(r)){var o=n,s=r;a.each(function(h,c){for(var v=0;h&&v<h.length;v++){var p=h[v];p&&s.call(o,c,p,p.componentIndex)}})}else for(var u=ze(r)?a.get(r):Re(r)?this.findComponents(r):null,l=0;u&&l<u.length;l++){var f=u[l];f&&n.call(i,f,f.componentIndex)}},e.prototype.getSeriesByName=function(r){var n=rr(r,null);return vr(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},e.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},e.prototype.getSeriesByType=function(r){return vr(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},e.prototype.getSeries=function(){return vr(this._componentsMap.get("series"),function(r){return!!r})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(r,n){qu(this),Z(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];r.call(n,a,i)},this)},e.prototype.eachRawSeries=function(r,n){Z(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(r,n,i){qu(this),Z(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===r&&n.call(i,o,a)},this)},e.prototype.eachRawSeriesByType=function(r,n,i){return Z(this.getSeriesByType(r),n,i)},e.prototype.isSeriesFiltered=function(r){return qu(this),this._seriesIndicesMap.get(r.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(r,n){qu(this);var i=[];Z(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];r.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=ke(i)},e.prototype.restoreData=function(r){Dh(this);var n=this._componentsMap,i=[];n.each(function(a,o){xt.hasClass(o)&&i.push(o)}),xt.topologicalTravel(i,xt.getAllClassMainTypes(),function(a){Z(n.get(a),function(o){o&&(a!=="series"||!Y1(o,r))&&o.restoreData()})})},e.internalField=function(){Dh=function(r){var n=r._seriesIndices=[];Z(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=ke(n)},qu=function(r){},x0=function(r,n){r.option={},r.option[D0]=H1,r._componentsMap=ke({series:[]}),r._componentsCount=ke();var i=n.aria;Re(i)&&i.enabled==null&&(i.enabled=!0),U1(n,r._theme.option),Ue(n,O1,!1),r._mergeOption(n,null)}}(),e}(ii);function Y1(t,e){if(e){var r=e.seriesIndex,n=e.seriesId,i=e.seriesName;return r!=null&&t.componentIndex!==r||n!=null&&t.id!==n||i!=null&&t.name!==i}}function U1(t,e){var r=t.color&&!t.colorLayer;Z(e,function(n,i){i==="colorLayer"&&r||xt.hasClass(i)||(typeof n=="object"?t[i]=t[i]?Ue(t[i],n,!1):Ye(n):t[i]==null&&(t[i]=n))})}function L0(t,e,r){if(Le(e)){var n=ke();return Z(e,function(a){if(a!=null){var o=rr(a,null);o!=null&&n.set(a,!0)}}),vr(r,function(a){return a&&n.get(a[t])})}else{var i=rr(e,null);return vr(r,function(a){return a&&i!=null&&a[t]===i})}}function R0(t,e){return e.hasOwnProperty("subType")?vr(t,function(r){return r&&r.subType===e.subType}):t}function A0(t){var e=ke();return t&&Z(vt(t.replaceMerge),function(r){e.set(r,!0)}),{replaceMergeMainTypeMap:e}}Kt(P0,kd);const O0=P0;var W1=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],X1=function(){function t(e){Z(W1,function(r){this[r]=ht(e[r],e)},this)}return t}();const k0=X1;var Nd={},j1=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,r){var n=[];Z(Nd,function(i,a){var o=i.create(e,r);n=n.concat(o||[])}),this._coordinateSystems=n},t.prototype.update=function(e,r){Z(this._coordinateSystems,function(n){n.update&&n.update(e,r)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,r){Nd[e]=r},t.get=function(e){return Nd[e]},t}();const Ih=j1;var Z1=/^(min|max)?(.+)$/,q1=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,r,n){e&&(Z(vt(e.series),function(o){o&&o.data&&At(o.data)&&to(o.data)}),Z(vt(e.dataset),function(o){o&&o.source&&At(o.source)&&to(o.source)})),e=Ye(e);var i=this._optionBackup,a=K1(e,r,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(e){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],Ye(e?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var r,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(r=Ye(n[i.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(e){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var u=0,l=i.length;u<l;u++)Q1(i[u].query,r,n)&&o.push(u);return!o.length&&a&&(o=[-1]),o.length&&!e2(o,this._currentMediaIndices)&&(s=Je(o,function(f){return Ye(f===-1?a.option:i[f].option)})),this._currentMediaIndices=o,s},t}();function K1(t,e,r){var n=[],i,a,o=t.baseOption,s=t.timeline,u=t.options,l=t.media,f=!!t.media,h=!!(u||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((h||f)&&(t.options=t.media=null),a=t),f&&Le(l)&&Z(l,function(v){v&&v.option&&(v.query?n.push(v):i||(i=v))}),c(a),Z(u,function(v){return c(v)}),Z(n,function(v){return c(v.option)});function c(v){Z(e,function(p){p(v,r)})}return{baseOption:a,timelineOptions:u||[],mediaDefault:i,mediaList:n}}function Q1(t,e,r){var n={width:e,height:r,aspectratio:e/r},i=!0;return Z(t,function(a,o){var s=o.match(Z1);if(!(!s||!s[1]||!s[2])){var u=s[1],l=s[2].toLowerCase();J1(n[l],a,u)||(i=!1)}}),i}function J1(t,e,r){return r==="min"?t>=e:r==="max"?t<=e:t===e}function e2(t,e){return t.join(",")===e.join(",")}const t2=q1;var fn=Z,Ku=Re,N0=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Bd(t){var e=t&&t.itemStyle;if(e)for(var r=0,n=N0.length;r<n;r++){var i=N0[r],a=e.normal,o=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?Ue(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),o&&o[i]&&(t[i]=t[i]||{},t[i].emphasis?Ue(t[i].emphasis,o[i]):t[i].emphasis=o[i],o[i]=null)}}function Ht(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,i=t[e].emphasis;n&&(r?(t[e].normal=t[e].emphasis=null,Pt(t[e],n)):t[e]=n),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function Qu(t){Ht(t,"itemStyle"),Ht(t,"lineStyle"),Ht(t,"areaStyle"),Ht(t,"label"),Ht(t,"labelLine"),Ht(t,"upperLabel"),Ht(t,"edgeLabel")}function pt(t,e){var r=Ku(t)&&t[e],n=Ku(r)&&r.textStyle;if(n)for(var i=0,a=qn.length;i<a;i++){var o=qn[i];n.hasOwnProperty(o)&&(r[o]=n[o])}}function Fr(t){t&&(Qu(t),pt(t,"label"),t.emphasis&&pt(t.emphasis,"label"))}function r2(t){if(Ku(t)){Bd(t),Qu(t),pt(t,"label"),pt(t,"upperLabel"),pt(t,"edgeLabel"),t.emphasis&&(pt(t.emphasis,"label"),pt(t.emphasis,"upperLabel"),pt(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Bd(e),Fr(e));var r=t.markLine;r&&(Bd(r),Fr(r));var n=t.markArea;n&&Fr(n);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var a=t.links||t.edges;if(a&&!At(a))for(var o=0;o<a.length;o++)Fr(a[o]);Z(t.categories,function(l){Qu(l)})}if(i&&!At(i))for(var o=0;o<i.length;o++)Fr(i[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)Fr(s[o]);if(r=t.markLine,r&&r.data)for(var u=r.data,o=0;o<u.length;o++)Le(u[o])?(Fr(u[o][0]),Fr(u[o][1])):Fr(u[o]);t.type==="gauge"?(pt(t,"axisLabel"),pt(t,"title"),pt(t,"detail")):t.type==="treemap"?(Ht(t.breadcrumb,"itemStyle"),Z(t.levels,function(l){Qu(l)})):t.type==="tree"&&Qu(t.leaves)}}function ui(t){return Le(t)?t:t?[t]:[]}function B0(t){return(Le(t)?t[0]:t)||{}}function n2(t,e){fn(ui(t.series),function(n){Ku(n)&&r2(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),fn(r,function(n){fn(ui(t[n]),function(i){i&&(pt(i,"axisLabel"),pt(i.axisPointer,"label"))})}),fn(ui(t.parallel),function(n){var i=n&&n.parallelAxisDefault;pt(i,"axisLabel"),pt(i&&i.axisPointer,"label")}),fn(ui(t.calendar),function(n){Ht(n,"itemStyle"),pt(n,"dayLabel"),pt(n,"monthLabel"),pt(n,"yearLabel")}),fn(ui(t.radar),function(n){pt(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),fn(ui(t.geo),function(n){Ku(n)&&(Fr(n),fn(ui(n.regions),function(i){Fr(i)}))}),fn(ui(t.timeline),function(n){Fr(n),Ht(n,"label"),Ht(n,"itemStyle"),Ht(n,"controlStyle",!0);var i=n.data;Le(i)&&Z(i,function(a){Re(a)&&(Ht(a,"label"),Ht(a,"itemStyle"))})}),fn(ui(t.toolbox),function(n){Ht(n,"iconStyle"),fn(n.feature,function(i){Ht(i,"iconStyle")})}),pt(B0(t.axisPointer),"label"),pt(B0(t.tooltip).axisPointer,"label")}function i2(t,e){for(var r=e.split(","),n=t,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function a2(t,e,r,n){for(var i=e.split(","),a=t,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];(n||a[i[s]]==null)&&(a[i[s]]=r)}function F0(t){t&&Z(o2,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var o2=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],s2=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Fd=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Ju(t){var e=t&&t.itemStyle;if(e)for(var r=0;r<Fd.length;r++){var n=Fd[r][1],i=Fd[r][0];e[n]!=null&&(e[i]=e[n])}}function z0(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function G0(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function u2(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function V0(t,e){if(t)for(var r=0;r<t.length;r++)e(t[r]),t[r]&&V0(t[r].children,e)}function H0(t,e){n2(t,e),t.series=vt(t.series),Z(t.series,function(r){if(Re(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),z0(r.label);var i=r.data;if(i&&!At(i))for(var a=0;a<i.length;a++)z0(i[a]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var o=i2(r,"pointer.color");o!=null&&a2(r,"itemStyle.color",o)}else if(n==="bar"){Ju(r),Ju(r.backgroundStyle),Ju(r.emphasis);var i=r.data;if(i&&!At(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Ju(i[a]),Ju(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),G0(r),V0(r.data,G0)}else n==="graph"||n==="sankey"?u2(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&Pt(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),F0(r)}}),t.dataRange&&(t.visualMap=t.dataRange),Z(s2,function(r){var n=t[r];n&&(Le(n)||(n=[n]),Z(n,function(i){F0(i)}))})}function l2(t){var e=ke();t.eachSeries(function(r){var n=r.get("stack");if(n){var i=e.get(n)||e.set(n,[]),a=r.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),e.each(f2)}function f2(t){Z(t,function(e,r){var n=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(l,f,h){var c=o.get(e.stackedDimension,h);if(isNaN(c))return i;var v,p;s?p=o.getRawIndex(h):v=o.get(e.stackedByDimension,h);for(var _=NaN,m=r-1;m>=0;m--){var y=t[m];if(s||(p=y.data.rawIndexOf(y.stackedByDimension,v)),p>=0){var w=y.data.getByRawIndex(y.stackResultDimension,p);if(u==="all"||u==="positive"&&w>0||u==="negative"&&w<0||u==="samesign"&&c>=0&&w>0||u==="samesign"&&c<=0&&w<0){c=Lf(c,w),_=w;break}}}return n[0]=c,n[1]=_,n})})}var Ph=function(){function t(e){this.data=e.data||(e.sourceFormat===ai?{}:[]),this.sourceFormat=e.sourceFormat||w0,this.seriesLayoutBy=e.seriesLayoutBy||si,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var r=this.dimensionsDefine=e.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&T0(this,n)===Nt.Must&&(i.type="ordinal")}}return t}();function zd(t){return t instanceof Ph}function Gd(t,e,r){r=r||$0(t);var n=e.seriesLayoutBy,i=c2(t,r,n,e.sourceHeader,e.dimensions),a=new Ph({data:t,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Ye(e)});return a}function Vd(t){return new Ph({data:t,sourceFormat:At(t)?oi:Br})}function h2(t){return new Ph({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:Ye(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function $0(t){var e=w0;if(At(t))e=oi;else if(Le(t)){t.length===0&&(e=sr);for(var r=0,n=t.length;r<n;r++){var i=t[r];if(i!=null){if(Le(i)){e=sr;break}else if(Re(i)){e=Ln;break}}}}else if(Re(t)){for(var a in t)if(ro(t,a)&&Ut(t[a])){e=ai;break}}return e}function c2(t,e,r,n,i){var a,o;if(!t)return{dimensionsDefine:Y0(i),startIndex:o,dimensionsDetectedCount:a};if(e===sr){var s=t;n==="auto"||n==null?U0(function(l){l!=null&&l!=="-"&&(ze(l)?o==null&&(o=1):o=0)},r,s,10):o=ot(n)?n:n?1:0,!i&&o===1&&(i=[],U0(function(l,f){i[f]=l!=null?l+"":""},r,s,1/0)),a=i?i.length:r===is?s.length:s[0]?s[0].length:null}else if(e===Ln)i||(i=v2(t));else if(e===ai)i||(i=[],Z(t,function(l,f){i.push(f)}));else if(e===Br){var u=Kn(t[0]);a=Le(u)&&u.length||1}return{startIndex:o,dimensionsDefine:Y0(i),dimensionsDetectedCount:a}}function v2(t){for(var e=0,r;e<t.length&&!(r=t[e++]););if(r)return lt(r)}function Y0(t){if(t){var e=ke();return Je(t,function(r,n){r=Re(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function U0(t,e,r,n){if(e===is)for(var i=0;i<r.length&&i<n;i++)t(r[i]?r[i][0]:null,i);else for(var a=r[0]||[],i=0;i<a.length&&i<n;i++)t(a[i],i)}function W0(t){var e=t.sourceFormat;return e===Ln||e===ai}var Ra,Aa,Oa,X0,j0,Z0=function(){function t(e,r){var n=zd(e)?e:Vd(e);this._source=n;var i=this._data=n.data;n.sourceFormat===oi&&(this._offset=0,this._dimSize=r,this._data=i),j0(this,i,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,r){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;j0=function(o,s,u){var l=u.sourceFormat,f=u.seriesLayoutBy,h=u.startIndex,c=u.dimensionsDefine,v=X0[$d(l,f)];if(be(o,v),l===oi)o.getItem=r,o.count=i,o.fillStorage=n;else{var p=K0(l,f);o.getItem=ht(p,null,s,h,c);var _=J0(l,f);o.count=ht(_,null,s,h,c)}};var r=function(o,s){o=o-this._offset,s=s||[];for(var u=this._data,l=this._dimSize,f=l*o,h=0;h<l;h++)s[h]=u[f+h];return s},n=function(o,s,u,l){for(var f=this._data,h=this._dimSize,c=0;c<h;c++){for(var v=l[c],p=v[0]==null?1/0:v[0],_=v[1]==null?-1/0:v[1],m=s-o,y=u[c],w=0;w<m;w++){var T=f[w*h+c];y[o+w]=T,T<p&&(p=T),T>_&&(_=T)}v[0]=p,v[1]=_}},i=function(){return this._data?this._data.length/this._dimSize:0};X0=(e={},e[sr+"_"+si]={pure:!0,appendData:a},e[sr+"_"+is]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Ln]={pure:!0,appendData:a},e[ai]={pure:!0,appendData:function(o){var s=this._data;Z(o,function(u,l){for(var f=s[l]||(s[l]=[]),h=0;h<(u||[]).length;h++)f.push(u[h])})}},e[Br]={appendData:a},e[oi]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),t}(),q0=function(t,e,r,n){return t[n]},d2=(Ra={},Ra[sr+"_"+si]=function(t,e,r,n){return t[n+e]},Ra[sr+"_"+is]=function(t,e,r,n,i){n+=e;for(var a=i||[],o=t,s=0;s<o.length;s++){var u=o[s];a[s]=u?u[n]:null}return a},Ra[Ln]=q0,Ra[ai]=function(t,e,r,n,i){for(var a=i||[],o=0;o<r.length;o++){var s=r[o].name,u=t[s];a[o]=u?u[n]:null}return a},Ra[Br]=q0,Ra);function K0(t,e){var r=d2[$d(t,e)];return r}var Q0=function(t,e,r){return t.length},p2=(Aa={},Aa[sr+"_"+si]=function(t,e,r){return Math.max(0,t.length-e)},Aa[sr+"_"+is]=function(t,e,r){var n=t[0];return n?Math.max(0,n.length-e):0},Aa[Ln]=Q0,Aa[ai]=function(t,e,r){var n=r[0].name,i=t[n];return i?i.length:0},Aa[Br]=Q0,Aa);function J0(t,e){var r=p2[$d(t,e)];return r}var Hd=function(t,e,r){return t[e]},g2=(Oa={},Oa[sr]=Hd,Oa[Ln]=function(t,e,r){return t[r]},Oa[ai]=Hd,Oa[Br]=function(t,e,r){var n=Kn(t);return n instanceof Array?n[e]:n},Oa[oi]=Hd,Oa);function em(t){var e=g2[t];return e}function $d(t,e){return t===sr?t+"_"+e:t}function as(t,e,r){if(t){var n=t.getRawDataItem(e);if(n!=null){var i=t.getStore(),a=i.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r),s=i.getDimensionProperty(o);return em(a)(n,o,s)}else{var u=n;return a===Br&&(u=Kn(n)),u}}}}function KT(t,e,r){if(t){var n=t.getStore().getSource().sourceFormat;if(!(n!==SOURCE_FORMAT_ORIGINAL&&n!==SOURCE_FORMAT_OBJECT_ROWS)){var i=t.getRawDataItem(e);if(n===SOURCE_FORMAT_ORIGINAL&&!isObject(i)&&(i=null),i)return i[r]}}}var m2=/\{@(.+?)\}/g,y2=function(){function t(){}return t.prototype.getDataParams=function(e,r){var n=this.getData(r),i=this.getRawValue(e,r),a=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),u=n.getItemVisual(e,"style"),l=u&&u[n.getItemVisual(e,"drawType")||"fill"],f=u&&u.stroke,h=this.mainType,c=h==="series",v=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:o,dataIndex:a,data:s,dataType:r,value:i,color:l,borderColor:f,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,r,n,i,a,o){r=r||"normal";var s=this.getData(n),u=this.getDataParams(e,n);if(o&&(u.value=o.interpolatedValue),i!=null&&Le(u.value)&&(u.value=u.value[i]),!a){var l=s.getItemModel(e);a=l.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(et(a))return u.status=r,u.dimensionIndex=i,a(u);if(ze(a)){var f=x1(a,u);return f.replace(m2,function(h,c){var v=c.length,p=c;p.charAt(0)==="["&&p.charAt(v-1)==="]"&&(p=+p.slice(1,v-1));var _=as(s,e,p);if(o&&Le(o.interpolatedValue)){var m=s.getDimensionIndex(p);m>=0&&(_=o.interpolatedValue[m])}return _!=null?_+"":""})}},t.prototype.getRawValue=function(e,r){return as(this.getData(r),e)},t.prototype.formatTooltip=function(e,r,n){},t}();function QT(t){var e,r;return zrUtil.isObject(t)?t.type&&(r=t):e=t,{text:e,frag:r}}function el(t){return new _2(t)}var _2=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var r=this._upstream,n=e&&e.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=f(this._modBy),s=this._modDataCount||0,u=f(e&&e.modBy),l=e&&e.modDataCount||0;(o!==u||s!==l)&&(a="reset");function f(w){return!(w>=1)&&(w=1),w}var h;(this._dirty||a==="reset")&&(this._dirty=!1,h=this._doReset(n)),this._modBy=u,this._modDataCount=l;var c=e&&e.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,p=Math.min(c!=null?this._dueIndex+c:1/0,this._dueEnd);if(!n&&(h||v<p)){var _=this._progress;if(Le(_))for(var m=0;m<_.length;m++)this._doProgress(_[m],v,p,u,l);else this._doProgress(_,v,p,u,l)}this._dueIndex=p;var y=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,r,n,i,a){tm.reset(r,n,i,a),this._callingProgress=e,this._callingProgress({start:r,end:n,count:n-r,next:tm.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!e&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),Le(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),tm=function(){var t,e,r,n,i,a={reset:function(u,l,f,h){e=u,t=l,r=f,n=h,i=Math.ceil(n/r),a.next=r>1&&n>0?s:o}};return a;function o(){return e<t?e++:null}function s(){var u=e%i*r+Math.ceil(e/i),l=e>=t?null:u<n?u:e;return e++,l}}(),b2="[ECharts] ",rm={},w2=typeof console<"u"&&console.warn&&console.log;function Yd(t,e,r){if(w2){if(r){if(rm[e])return;rm[e]=!0}console[t](b2+e)}}function JT(t,e){Yd("log",t,e)}function eC(t,e){Yd("warn",t,e)}function tC(t,e){Yd("error",t,e)}function rC(t){}function nC(t,e,r){}function iC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r="";if(!1)var n;return r}function ur(t){throw new Error(t)}function Lh(t,e){var r=e&&e.type;return r==="ordinal"?t:(r==="time"&&!ot(t)&&t!=null&&t!=="-"&&(t=+Li(t)),t==null||t===""?NaN:+t)}var S2=ke({number:function(t){return parseFloat(t)},time:function(t){return+Li(t)},trim:function(t){return ze(t)?dn(t):t}});function aC(t){return S2.get(t)}var nm={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},T2=function(){function t(e,r){if(!ot(r)){var n="";ur(n)}this._opFn=nm[e],this._rvalFloat=wn(r)}return t.prototype.evaluate=function(e){return ot(e)?this._opFn(e,this._rvalFloat):this._opFn(wn(e),this._rvalFloat)},t}(),oC=function(){function t(e,r){var n=e==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,r){var n=ot(e)?e:wn(e),i=ot(r)?r:wn(r),a=isNaN(n),o=isNaN(i);if(a&&(n=this._incomparable),o&&(i=this._incomparable),a&&o){var s=ze(e),u=ze(r);s&&(n=u?e:0),u&&(i=s?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},t}(),C2=function(){function t(e,r){this._rval=r,this._isEQ=e,this._rvalTypeof=typeof r,this._rvalFloat=wn(r)}return t.prototype.evaluate=function(e){var r=e===this._rval;if(!r){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(r=wn(e)===this._rvalFloat)}return this._isEQ?r:!r},t}();function sC(t,e){return t==="eq"||t==="ne"?new C2(t==="eq",e):hasOwn(nm,t)?new T2(t,e):null}var E2=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,r){},t.prototype.retrieveValueFromItem=function(e,r){},t.prototype.convertValue=function(e,r){return Lh(e,r)},t}();function M2(t,e){var r=new E2,n=t.data,i=r.sourceFormat=t.sourceFormat,a=t.startIndex,o="";t.seriesLayoutBy!==si&&ur(o);var s=[],u={},l=t.dimensionsDefine;if(l)Z(l,function(_,m){var y=_.name,w={index:m,name:y,displayName:_.displayName};if(s.push(w),y!=null){var T="";ro(u,y)&&ur(T),u[y]=w}});else for(var f=0;f<t.dimensionsDetectedCount;f++)s.push({index:f});var h=K0(i,si);e.__isBuiltIn&&(r.getRawDataItem=function(_){return h(n,a,s,_)},r.getRawData=ht(x2,null,t)),r.cloneRawData=ht(D2,null,t);var c=J0(i,si);r.count=ht(c,null,n,a,s);var v=em(i);r.retrieveValue=function(_,m){var y=h(n,a,s,_);return p(y,m)};var p=r.retrieveValueFromItem=function(_,m){if(_!=null){var y=s[m];if(y)return v(_,m,y.name)}};return r.getDimensionInfo=ht(I2,null,s,u),r.cloneAllDimensionInfo=ht(P2,null,s),r}function x2(t){var e=t.sourceFormat;if(!Ud(e)){var r="";ur(r)}return t.data}function D2(t){var e=t.sourceFormat,r=t.data;if(!Ud(e)){var n="";ur(n)}if(e===sr){for(var i=[],a=0,o=r.length;a<o;a++)i.push(r[a].slice());return i}else if(e===Ln){for(var i=[],a=0,o=r.length;a<o;a++)i.push(be({},r[a]));return i}}function I2(t,e,r){if(r!=null){if(ot(r)||!isNaN(r)&&!ro(e,r))return t[r];if(ro(e,r))return e[r]}}function P2(t){return Ye(t)}var im=ke();function L2(t){t=Ye(t);var e=t.type,r="";e||ur(r);var n=e.split(":");n.length!==2&&ur(r);var i=!1;n[0]==="echarts"&&(e=n[1],i=!0),t.__isBuiltIn=i,im.set(e,t)}function R2(t,e,r){var n=vt(t),i=n.length,a="";i||ur(a);for(var o=0,s=i;o<s;o++){var u=n[o];e=A2(u,e,r,i===1?null:o),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function A2(t,e,r,n){var i="";e.length||ur(i),Re(t)||ur(i);var a=t.type,o=im.get(a);o||ur(i);var s=Je(e,function(f){return M2(f,o)}),u=vt(o.transform({upstream:s[0],upstreamList:s,config:Ye(t.config)}));if(!1)var l;return Je(u,function(f,h){var c="";Re(f)||ur(c),f.data||ur(c);var v=$0(f.data);Ud(v)||ur(c);var p,_=e[0];if(_&&h===0&&!f.dimensions){var m=_.startIndex;m&&(f.data=_.data.slice(0,m).concat(f.data)),p={seriesLayoutBy:si,sourceHeader:m,dimensions:_.metaRawOption.dimensions}}else p={seriesLayoutBy:si,sourceHeader:0,dimensions:f.dimensions};return Gd(f.data,p,null)})}function Ud(t){return t===sr||t===Ln}var Rh="undefined",O2=typeof Uint32Array===Rh?Array:Uint32Array,k2=typeof Uint16Array===Rh?Array:Uint16Array,am=typeof Int32Array===Rh?Array:Int32Array,om=typeof Float64Array===Rh?Array:Float64Array,sm={float:om,int:am,ordinal:Array,number:Array,time:om},Wd;function tl(t){return t>65535?O2:k2}function os(){return[1/0,-1/0]}function N2(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function um(t,e,r,n,i){var a=sm[r||"float"];if(i){var o=t[e],s=o&&o.length;if(s!==n){for(var u=new a(n),l=0;l<s;l++)u[l]=o[l];t[e]=u}}else t[e]=new a(n)}var B2=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ke()}return t.prototype.initData=function(e,r,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=Wd[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[];var o=W0(i);this._dimensions=Je(r,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,r){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(e);if(a!=null){if(i[a].type===r)return a}else a=i.length;return i[a]={type:r},n.set(e,a),this._chunks[a]=new sm[r||"float"](this._rawCount),this._rawExtent[a]=os(),a},t.prototype.collectOrdinalMeta=function(e,r){var n=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,o=i.ordinalOffset||0,s=n.length;o===0&&(a[e]=os());for(var u=a[e],l=o;l<s;l++){var f=n[l]=r.parseAndCollect(n[l]);isNaN(f)||(u[0]=Math.min(f,u[0]),u[1]=Math.max(f,u[1]))}i.ordinalMeta=r,i.ordinalOffset=s,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var r=this._dimensions[e],n=r.ordinalMeta;return n},t.prototype.getDimensionProperty=function(e){var r=this._dimensions[e];return r&&r.property},t.prototype.appendData=function(e){var r=this._provider,n=this.count();r.appendData(e);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},t.prototype.appendValues=function(e,r){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),u=s+Math.max(e.length,r||0),l=0;l<a;l++){var f=i[l];um(n,l,f.type,u,!0)}for(var h=[],c=s;c<u;c++)for(var v=c-s,p=0;p<a;p++){var f=i[p],_=Wd.arrayRows.call(this,e[v]||h,f.property,v,p);n[p][c]=_;var m=o[p];_<m[0]&&(m[0]=_),_>m[1]&&(m[1]=_)}return this._rawCount=this._count=u,{start:s,end:u}},t.prototype._initDataFromProvider=function(e,r,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,u=this._rawExtent,l=Je(o,function(w){return w.property}),f=0;f<s;f++){var h=o[f];u[f]||(u[f]=os()),um(a,f,h.type,r,n)}if(i.fillStorage)i.fillStorage(e,r,a,u);else for(var c=[],v=e;v<r;v++){c=i.getItem(v,c);for(var p=0;p<s;p++){var _=a[p],m=this._dimValueGetter(c,l[p],v,p);_[v]=m;var y=u[p];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(e,r){var n=[],i=[];if(r==null){r=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],r));return n},t.prototype.getByRawIndex=function(e,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[e];return n?n[r]:NaN},t.prototype.getSum=function(e){var r=this._chunks[e],n=0;if(r)for(var i=0,a=this.count();i<a;i++){var o=this.get(e,i);isNaN(o)||(n+=o)}return n},t.prototype.getMedian=function(e){var r=[];this.each([e],function(a){isNaN(a)||r.push(a)});var n=r.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var r=this._indices,n=r[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(r[o]<e)i=o+1;else if(r[o]>e)a=o-1;else return o}return-1},t.prototype.indicesOfNearest=function(e,r,n){var i=this._chunks,a=i[e],o=[];if(!a)return o;n==null&&(n=1/0);for(var s=1/0,u=-1,l=0,f=0,h=this.count();f<h;f++){var c=this.getRawIndex(f),v=r-a[c],p=Math.abs(v);p<=n&&((p<s||p===s&&v>=0&&u<0)&&(s=p,u=v,l=0),v===u&&(o[l++]=f))}return o.length=l,o},t.prototype.getIndices=function(){var e,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){e=new n(i);for(var a=0;a<i;a++)e[a]=r[a]}else e=new n(r.buffer,0,i)}else{var n=tl(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},t.prototype.filter=function(e,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=tl(n._rawCount),o=new a(i),s=[],u=e.length,l=0,f=e[0],h=n._chunks,c=0;c<i;c++){var v=void 0,p=n.getRawIndex(c);if(u===0)v=r(c);else if(u===1){var _=h[f][p];v=r(_,c)}else{for(var m=0;m<u;m++)s[m]=h[e[m]][p];s[m]=c,v=r.apply(null,s)}v&&(o[l++]=p)}return l<i&&(n._indices=o),n._count=l,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(e){var r=this.clone(),n=r._count;if(!n)return this;var i=lt(e),a=i.length;if(!a)return this;var o=r.count(),s=tl(r._rawCount),u=new s(o),l=0,f=i[0],h=e[f][0],c=e[f][1],v=r._chunks,p=!1;if(!r._indices){var _=0;if(a===1){for(var m=v[i[0]],y=0;y<n;y++){var w=m[y];(w>=h&&w<=c||isNaN(w))&&(u[l++]=_),_++}p=!0}else if(a===2){for(var m=v[i[0]],T=v[i[1]],M=e[i[1]][0],L=e[i[1]][1],y=0;y<n;y++){var w=m[y],I=T[y];(w>=h&&w<=c||isNaN(w))&&(I>=M&&I<=L||isNaN(I))&&(u[l++]=_),_++}p=!0}}if(!p)if(a===1)for(var y=0;y<o;y++){var k=r.getRawIndex(y),w=v[i[0]][k];(w>=h&&w<=c||isNaN(w))&&(u[l++]=k)}else for(var y=0;y<o;y++){for(var $=!0,k=r.getRawIndex(y),G=0;G<a;G++){var X=i[G],w=v[X][k];(w<e[X][0]||w>e[X][1])&&($=!1)}$&&(u[l++]=r.getRawIndex(y))}return l<o&&(r._indices=u),r._count=l,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(e,r){var n=this.clone(e);return this._updateDims(n,e,r),n},t.prototype.modify=function(e,r){this._updateDims(this,e,r)},t.prototype._updateDims=function(e,r,n){for(var i=e._chunks,a=[],o=r.length,s=e.count(),u=[],l=e._rawExtent,f=0;f<r.length;f++)l[r[f]]=os();for(var h=0;h<s;h++){for(var c=e.getRawIndex(h),v=0;v<o;v++)u[v]=i[r[v]][c];u[o]=h;var p=n&&n.apply(null,u);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var f=0;f<p.length;f++){var _=r[f],m=p[f],y=l[_],w=i[_];w&&(w[c]=m),m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}}},t.prototype.lttbDownSample=function(e,r){var n=this.clone([e],!0),i=n._chunks,a=i[e],o=this.count(),s=0,u=Math.floor(1/r),l=this.getRawIndex(0),f,h,c,v=new(tl(this._rawCount))(Math.min((Math.ceil(o/u)+2)*2,o));v[s++]=l;for(var p=1;p<o-1;p+=u){for(var _=Math.min(p+u,o-1),m=Math.min(p+u*2,o),y=(m+_)/2,w=0,T=_;T<m;T++){var M=this.getRawIndex(T),L=a[M];isNaN(L)||(w+=L)}w/=m-_;var I=p,k=Math.min(p+u,o),$=p-1,G=a[l];f=-1,c=I;for(var X=-1,U=0,T=I;T<k;T++){var M=this.getRawIndex(T),L=a[M];if(isNaN(L)){U++,X<0&&(X=M);continue}h=Math.abs(($-y)*(L-G)-($-T)*(w-G)),h>f&&(f=h,c=M)}U>0&&U<k-I&&(v[s++]=Math.min(X,c),c=Math.max(X,c)),v[s++]=c,l=c}return v[s++]=this.getRawIndex(o-1),n._count=s,n._indices=v,n.getRawIndex=this._getRawIdx,n},t.prototype.downSample=function(e,r,n,i){for(var a=this.clone([e],!0),o=a._chunks,s=[],u=Math.floor(1/r),l=o[e],f=this.count(),h=a._rawExtent[e]=os(),c=new(tl(this._rawCount))(Math.ceil(f/u)),v=0,p=0;p<f;p+=u){u>f-p&&(u=f-p,s.length=u);for(var _=0;_<u;_++){var m=this.getRawIndex(p+_);s[_]=l[m]}var y=n(s),w=this.getRawIndex(Math.min(p+i(s,y)||0,f-1));l[w]=y,y<h[0]&&(h[0]=y),y>h[1]&&(h[1]=y),c[v++]=w}return a._count=v,a._indices=c,a._updateGetRawIdx(),a},t.prototype.each=function(e,r){if(this._count)for(var n=e.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:r(a);break;case 1:r(i[e[0]][s],a);break;case 2:r(i[e[0]][s],i[e[1]][s],a);break;default:for(var u=0,l=[];u<n;u++)l[u]=i[e[u]][s];l[u]=a,r.apply(null,l)}}},t.prototype.getDataExtent=function(e){var r=this._chunks[e],n=os();if(!r)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],u=o[1],l=0;l<i;l++){var f=this.getRawIndex(l),h=r[f];h<s&&(s=h),h>u&&(u=h)}return o=[s,u],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var r=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][r]);return n},t.prototype.clone=function(e,r){var n=new t,i=this._chunks,a=e&&hi(e,function(s,u){return s[u]=!0,s},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?N2(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Ye(this._extent),e._rawExtent=Ye(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,r=void 0;if(e===Array){var n=this._indices.length;r=new e(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new e(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(r,n,i,a){return Lh(r[a],this._dimensions[a])}Wd={arrayRows:e,objectRows:function(r,n,i,a){return Lh(r[n],this._dimensions[a])},keyedColumns:e,original:function(r,n,i,a){var o=r&&(r.value==null?r:r.value);return Lh(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(r,n,i,a){return r[a]}}}(),t}();const Xd=B2;var F2=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,r){this._sourceList=e,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,a;if(Ah(e)){var o=e,s=void 0,u=void 0,l=void 0;if(n){var f=r[0];f.prepareSource(),l=f.getSource(),s=l.data,u=l.sourceFormat,a=[f._getVersionSign()]}else s=o.get("data",!0),u=At(s)?oi:Br,a=[];var h=this._getSourceMetaRawOption()||{},c=l&&l.metaRawOption||{},v=We(h.seriesLayoutBy,c.seriesLayoutBy)||null,p=We(h.sourceHeader,c.sourceHeader),_=We(h.dimensions,c.dimensions),m=v!==c.seriesLayoutBy||!!p!=!!c.sourceHeader||_;i=m?[Gd(s,{seriesLayoutBy:v,sourceHeader:p,dimensions:_},u)]:[]}else{var y=e;if(n){var w=this._applyTransform(r);i=w.sourceList,a=w.upstreamSignList}else{var T=y.get("source",!0);i=[Gd(T,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},t.prototype._applyTransform=function(e){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&lm(a)}var o,s=[],u=[];return Z(e,function(l){l.prepareSource();var f=l.getSource(i||0),h="";i!=null&&!f&&lm(h),s.push(f),u.push(l._getVersionSign())}),n?o=R2(n,s,{datasetIndex:r.componentIndex}):i!=null&&(o=[h2(s[0])]),{sourceList:o,upstreamSignList:u}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),r=0;r<e.length;r++){var n=e[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var r=this._sourceList[e];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return r},t.prototype.getSharedDataStore=function(e){var r=e.makeStoreSchema();return this._innerGetDataStore(r.dimensions,e.source,r.hash)},t.prototype._innerGetDataStore=function(e,r,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[n];if(!s){var u=this._getUpstreamSourceManagers()[0];Ah(this._sourceHost)&&u?s=u._innerGetDataStore(e,r,n):(s=new Xd,s.initData(new Z0(r,e.length),e)),o[n]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Ah(e)){var r=Ad(e);return r?[r.getSourceManager()]:[]}else return Je(B1(e),function(n){return n.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,r,n,i;if(Ah(e))r=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;r=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},t}();function uC(t){var e=t.option.transform;e&&setAsPrimitive(t.option.transform)}function Ah(t){return t.mainType==="series"}function lm(t){throw new Error(t)}var fm="line-height:1";function hm(t,e){var r=t.color||"#6e7079",n=t.fontSize||12,i=t.fontWeight||"400",a=t.color||"#464646",o=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+encodeHTML(n+"")+"px;color:"+encodeHTML(r)+";font-weight:"+encodeHTML(i+""),valueStyle:"font-size:"+encodeHTML(o+"")+"px;color:"+encodeHTML(a)+";font-weight:"+encodeHTML(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var z2=null,G2=null;function Oh(t,e){return e.type=t,e}function jd(t){return t.type==="section"}function cm(t){return jd(t)?V2:H2}function vm(t){if(jd(t)){var e=0,r=t.blocks.length,n=r>1||r>0&&!t.noHeader;return each(t.blocks,function(i){var a=vm(i);a>=e&&(e=a+ +(n&&(!a||jd(i)&&!i.noHeader)))}),e}return 0}function V2(t,e,r,n){var i=e.noHeader,a=$2(vm(e)),o=[],s=e.blocks||[];assert(!s||isArray(s)),s=s||[];var u=t.orderMode;if(e.sortBlocks&&u){s=s.slice();var l={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(l,u)){var f=new SortOrderComparator(l[u],null);s.sort(function(p,_){return f.evaluate(p.sortParam,_.sortParam)})}else u==="seriesDesc"&&s.reverse()}each(s,function(p,_){var m=e.valueFormatter,y=cm(p)(m?extend(extend({},t),{valueFormatter:m}):t,p,_>0?a.html:0,n);y!=null&&o.push(y)});var h=t.renderMode==="richText"?o.join(a.richText):Zd(o.join(""),i?r:a.html);if(i)return h;var c=makeValueReadable(e.header,"ordinal",t.useUTC),v=hm(n,t.renderMode).nameStyle;return t.renderMode==="richText"?dm(t,c,v)+a.richText+h:Zd('<div style="'+v+";"+fm+';">'+encodeHTML(c)+"</div>"+h,r)}function H2(t,e,r,n){var i=t.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,u=e.name,l=t.useUTC,f=e.valueFormatter||t.valueFormatter||function(M){return M=isArray(M)?M:[M],map(M,function(L,I){return makeValueReadable(L,isArray(v)?v[I]:v,l)})};if(!(a&&o)){var h=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),c=a?"":makeValueReadable(u,"ordinal",l),v=e.valueType,p=o?[]:f(e.value),_=!s||!a,m=!s&&a,y=hm(n,i),w=y.nameStyle,T=y.valueStyle;return i==="richText"?(s?"":h)+(a?"":dm(t,c,w))+(o?"":W2(t,p,_,m,T)):Zd((s?"":h)+(a?"":Y2(c,!s,w))+(o?"":U2(p,_,m,T)),r)}}function lC(t,e,r,n,i,a){if(t){var o=cm(t),s={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,a)}}function $2(t){return{html:z2[t],richText:G2[t]}}function Zd(t,e){var r='<div style="clear:both"></div>',n="margin: "+e+"px 0 0";return'<div style="'+n+";"+fm+';">'+t+r+"</div>"}function Y2(t,e,r){var n=e?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+encodeHTML(t)+"</span>"}function U2(t,e,r,n){var i=r?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return t=isArray(t)?t:[t],'<span style="'+a+";"+n+'">'+map(t,function(o){return encodeHTML(o)}).join("&nbsp;&nbsp;")+"</span>"}function dm(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function W2(t,e,r,n,i){var a=[i],o=n?10:20;return r&&a.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(isArray(e)?e.join("  "):e,a)}function X2(t,e){var r=t.getData().getItemVisual(e,"style"),n=r[t.visualDrawType];return I1(n)}function fC(t,e){var r=t.get("padding");return r??(e==="richText"?[8,10]:10)}var hC=function(){function t(){this.richTextStyles={},this._nextStyleNameId=Bo()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,r,n){var i=n==="richText"?this._generateStyleName():null,a=D1({color:r,type:e,renderMode:n,markerId:i});return ze(a)?a:(this.richTextStyles[i]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(e,r){var n={};Le(r)?Z(r,function(a){return be(n,a)}):be(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},t}();function pm(t){var e=t.series,r=t.dataIndex,n=t.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(r),u=Le(s),l=X2(e,r),f,h,c,v;if(o>1||u&&!o){var p=j2(s,e,r,a,l);f=p.inlineValues,h=p.inlineValueTypes,c=p.blocks,v=p.inlineValues[0]}else if(o){var _=i.getDimensionInfo(a[0]);v=f=as(i,r,a[0]),h=_.type}else v=f=u?s[0]:s;var m=Nf(e),y=m&&e.name||"",w=i.getName(r),T=n?y:w;return Oh("section",{header:y,noHeader:n||!m,sortParam:v,blocks:[Oh("nameValue",{markerType:"item",markerColor:l,name:T,noName:!dn(T),value:f,valueType:h})].concat(c||[])})}function j2(t,e,r,n,i){var a=e.getData(),o=hi(t,function(h,c,v){var p=a.getDimensionInfo(v);return h=h||p&&p.tooltip!==!1&&p.displayName!=null},!1),s=[],u=[],l=[];n.length?Z(n,function(h){f(as(a,r,h),h)}):Z(t,f);function f(h,c){var v=a.getDimensionInfo(c);!v||v.otherDims.tooltip===!1||(o?l.push(Oh("nameValue",{markerType:"subItem",markerColor:i,name:v.displayName,value:h,valueType:v.type})):(s.push(h),u.push(v.type)))}return{inlineValues:s,inlineValueTypes:u,blocks:l}}var zi=mt();function kh(t,e){return t.getName(e)||t.getId(e)}var Z2="__universalTransitionEnabled",Nh=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return e.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=el({count:K2,reset:Q2}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var a=zi(this).sourceManager=new F2(this);a.prepareSource();var o=this.getInitialData(r,i);mm(o,this),this.dataTask.context.data=o,zi(this).dataBeforeProcessed=o,gm(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=Mh(this),a=i?y0(r):{},o=this.subType;xt.hasClass(o)&&(o+="Series"),Ue(r,n.getTheme().get(this.subType)),Ue(r,this.getDefaultOption()),Fo(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&xh(r,a,i)},e.prototype.mergeOption=function(r,n){r=Ue(this.option,r,!0),this.fillDataTextStyle(r.data);var i=Mh(this);i&&xh(this.option,r,i);var a=zi(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(r,n);mm(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,zi(this).dataBeforeProcessed=o,gm(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(r){if(r&&!At(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&Fo(r[i],"label",n)},e.prototype.getInitialData=function(r,n){},e.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},e.prototype.getData=function(r){var n=qd(this);if(n){var i=n.context.data;return r==null?i:i.getLinkedData(r)}else return zi(this).data},e.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},e.prototype.setData=function(r){var n=qd(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}zi(this).data=r},e.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return ke(r)},e.prototype.getSourceManager=function(){return zi(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return zi(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},e.prototype.formatTooltip=function(r,n,i){return pm({series:this,dataIndex:r,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Ze.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(r,n,i){var a=this.ecModel,o=kd.prototype.getColorFromPalette.call(this,r,n,i);return o||(o=a.getColorFromPalette(r,n,i)),o},e.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},e.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var u=r[s],l=kh(o,u);i[l]=!1,this._selectedDataIndicesMap[l]=-1}}},e.prototype.toggleSelect=function(r,n){for(var i=[],a=0;a<r.length;a++)i[0]=r[a],this.isSelected(r[a],n)?this.unselect(i,n):this.select(i,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=lt(r),i=[],a=0;a<n.length;a++){var o=r[n[a]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[kh(a,r)])&&!a.getItemModel(r).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[Z2])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},e.prototype._innerSelect=function(r,n){var i,a,o=this.option,s=o.selectedMode,u=n.length;if(!(!s||!u)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Re(o.selectedMap)||(o.selectedMap={});for(var l=o.selectedMap,f=0;f<u;f++){var h=n[f],c=kh(r,h);l[c]=!0,this._selectedDataIndicesMap[c]=r.getRawIndex(h)}}else if(s==="single"||s===!0){var v=n[u-1],c=kh(r,v);o.selectedMap=(i={},i[c]=!0,i),this._selectedDataIndicesMap=(a={},a[c]=r.getRawIndex(v),a)}}},e.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var a=r.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},e.registerClass=function(r){return xt.registerClass(r)},e.protoInitialize=function(){var r=e.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),e}(xt);Kt(Nh,y2),Kt(Nh,kd),Vf(Nh,xt);function gm(t){var e=t.name;Nf(t)||(t.name=q2(t)||e)}function q2(t){var e=t.getRawData(),r=e.mapDimensionsAll("seriesName"),n=[];return Z(r,function(i){var a=e.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function K2(t){return t.model.getRawData().count()}function Q2(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),J2}function J2(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function mm(t,e){Z(Tc(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,vn(eb,e))})}function eb(t,e){var r=qd(t);return r&&r.setOutputEnd((e||this).count()),e}function qd(t){var e=(t.ecModel||{}).scheduler,r=e&&e.getPipeline(t.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(t.uid))}return n}}const rl=Nh;var Kd=function(){function t(){this.group=new en,this.uid=Ch("viewComponent")}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){},t.prototype.updateLayout=function(e,r,n,i){},t.prototype.updateVisual=function(e,r,n,i){},t.prototype.toggleBlurSeries=function(e,r,n){},t.prototype.eachRendered=function(e){var r=this.group;r&&r.traverse(e)},t}();Or(Kd),Pu(Kd);const Bh=Kd;function tb(){var t=mt();return function(e){var r=t(e),n=e.pipelineContext,i=!!r.large,a=!!r.progressiveRender,o=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==s)&&"reset"}}var ss=Oi.CMD,rb=[[],[],[]],ym=Math.sqrt,nb=Math.atan2;function ib(t,e){if(e){var r=t.data,n=t.len(),i,a,o,s,u,l,f=ss.M,h=ss.C,c=ss.L,v=ss.R,p=ss.A,_=ss.Q;for(o=0,s=0;o<n;){switch(i=r[o++],s=o,a=0,i){case f:a=1;break;case c:a=1;break;case h:a=3;break;case _:a=2;break;case p:var m=e[4],y=e[5],w=ym(e[0]*e[0]+e[1]*e[1]),T=ym(e[2]*e[2]+e[3]*e[3]),M=nb(-e[1]/T,e[0]/w);r[o]*=w,r[o++]+=m,r[o]*=T,r[o++]+=y,r[o++]*=w,r[o++]*=T,r[o++]+=M,r[o++]+=M,o+=2,s=o;break;case v:l[0]=r[o++],l[1]=r[o++],jr(l,l,e),r[s++]=l[0],r[s++]=l[1],l[0]+=r[o++],l[1]+=r[o++],jr(l,l,e),r[s++]=l[0],r[s++]=l[1]}for(u=0;u<a;u++){var L=rb[u];L[0]=r[o++],L[1]=r[o++],jr(L,L,e),r[s++]=L[0],r[s++]=L[1]}}t.increaseVersion()}}var Qd=Math.sqrt,Fh=Math.sin,zh=Math.cos,nl=Math.PI;function _m(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Jd(t,e){return(t[0]*e[0]+t[1]*e[1])/(_m(t)*_m(e))}function bm(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Jd(t,e))}function wm(t,e,r,n,i,a,o,s,u,l,f){var h=u*(nl/180),c=zh(h)*(t-r)/2+Fh(h)*(e-n)/2,v=-1*Fh(h)*(t-r)/2+zh(h)*(e-n)/2,p=c*c/(o*o)+v*v/(s*s);p>1&&(o*=Qd(p),s*=Qd(p));var _=(i===a?-1:1)*Qd((o*o*(s*s)-o*o*(v*v)-s*s*(c*c))/(o*o*(v*v)+s*s*(c*c)))||0,m=_*o*v/s,y=_*-s*c/o,w=(t+r)/2+zh(h)*m-Fh(h)*y,T=(e+n)/2+Fh(h)*m+zh(h)*y,M=bm([1,0],[(c-m)/o,(v-y)/s]),L=[(c-m)/o,(v-y)/s],I=[(-1*c-m)/o,(-1*v-y)/s],k=bm(L,I);if(Jd(L,I)<=-1&&(k=nl),Jd(L,I)>=1&&(k=0),k<0){var $=Math.round(k/nl*1e6)/1e6;k=nl*2+$%2*nl}f.addData(l,w,T,o,s,M,k,h,a)}var ab=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,ob=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function sb(t){var e=new Oi;if(!t)return e;var r=0,n=0,i=r,a=n,o,s=Oi.CMD,u=t.match(ab);if(!u)return e;for(var l=0;l<u.length;l++){for(var f=u[l],h=f.charAt(0),c=void 0,v=f.match(ob)||[],p=v.length,_=0;_<p;_++)v[_]=parseFloat(v[_]);for(var m=0;m<p;){var y=void 0,w=void 0,T=void 0,M=void 0,L=void 0,I=void 0,k=void 0,$=r,G=n,X=void 0,U=void 0;switch(h){case"l":r+=v[m++],n+=v[m++],c=s.L,e.addData(c,r,n);break;case"L":r=v[m++],n=v[m++],c=s.L,e.addData(c,r,n);break;case"m":r+=v[m++],n+=v[m++],c=s.M,e.addData(c,r,n),i=r,a=n,h="l";break;case"M":r=v[m++],n=v[m++],c=s.M,e.addData(c,r,n),i=r,a=n,h="L";break;case"h":r+=v[m++],c=s.L,e.addData(c,r,n);break;case"H":r=v[m++],c=s.L,e.addData(c,r,n);break;case"v":n+=v[m++],c=s.L,e.addData(c,r,n);break;case"V":n=v[m++],c=s.L,e.addData(c,r,n);break;case"C":c=s.C,e.addData(c,v[m++],v[m++],v[m++],v[m++],v[m++],v[m++]),r=v[m-2],n=v[m-1];break;case"c":c=s.C,e.addData(c,v[m++]+r,v[m++]+n,v[m++]+r,v[m++]+n,v[m++]+r,v[m++]+n),r+=v[m-2],n+=v[m-1];break;case"S":y=r,w=n,X=e.len(),U=e.data,o===s.C&&(y+=r-U[X-4],w+=n-U[X-3]),c=s.C,$=v[m++],G=v[m++],r=v[m++],n=v[m++],e.addData(c,y,w,$,G,r,n);break;case"s":y=r,w=n,X=e.len(),U=e.data,o===s.C&&(y+=r-U[X-4],w+=n-U[X-3]),c=s.C,$=r+v[m++],G=n+v[m++],r+=v[m++],n+=v[m++],e.addData(c,y,w,$,G,r,n);break;case"Q":$=v[m++],G=v[m++],r=v[m++],n=v[m++],c=s.Q,e.addData(c,$,G,r,n);break;case"q":$=v[m++]+r,G=v[m++]+n,r+=v[m++],n+=v[m++],c=s.Q,e.addData(c,$,G,r,n);break;case"T":y=r,w=n,X=e.len(),U=e.data,o===s.Q&&(y+=r-U[X-4],w+=n-U[X-3]),r=v[m++],n=v[m++],c=s.Q,e.addData(c,y,w,r,n);break;case"t":y=r,w=n,X=e.len(),U=e.data,o===s.Q&&(y+=r-U[X-4],w+=n-U[X-3]),r+=v[m++],n+=v[m++],c=s.Q,e.addData(c,y,w,r,n);break;case"A":T=v[m++],M=v[m++],L=v[m++],I=v[m++],k=v[m++],$=r,G=n,r=v[m++],n=v[m++],c=s.A,wm($,G,r,n,I,k,T,M,L,c,e);break;case"a":T=v[m++],M=v[m++],L=v[m++],I=v[m++],k=v[m++],$=r,G=n,r+=v[m++],n+=v[m++],c=s.A,wm($,G,r,n,I,k,T,M,L,c,e);break}}(h==="z"||h==="Z")&&(c=s.Z,e.addData(c),r=i,n=a),o=c}return e.toStatic(),e}var Sm=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(r){},e}(ut);function Tm(t){return t.setData!=null}function Cm(t,e){var r=sb(t),n=be({},e);return n.buildPath=function(i){if(Tm(i)){i.setData(r.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;r.rebuildPath(a,1)}},n.applyTransform=function(i){ib(r,i),this.dirtyShape()},n}function ub(t,e){return new Sm(Cm(t,e))}function lb(t,e){var r=Cm(t,e),n=function(i){C(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return a}(Sm);return n}function fb(t,e){for(var r=[],n=t.length,i=0;i<n;i++){var a=t[i];r.push(a.getUpdatedPathProxy(!0))}var o=new ut(e);return o.createPathProxy(),o.buildPath=function(s){if(Tm(s)){s.appendPath(r);var u=s.getContext();u&&s.rebuildPath(u,1)}},o}function cC(t,e){e=e||{};var r=new Path;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),e.bakeTransform?transformPath(r.path,t.getComputedTransform()):e.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var hb=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),Em=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new hb},e.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(ut);Em.prototype.type="circle";const Mm=Em;var cb=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),xm=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new cb},e.prototype.buildPath=function(r,n){var i=.5522848,a=n.cx,o=n.cy,s=n.rx,u=n.ry,l=s*i,f=u*i;r.moveTo(a-s,o),r.bezierCurveTo(a-s,o-f,a-l,o-u,a,o-u),r.bezierCurveTo(a+l,o-u,a+s,o-f,a+s,o),r.bezierCurveTo(a+s,o+f,a+l,o+u,a,o+u),r.bezierCurveTo(a-l,o+u,a-s,o+f,a-s,o),r.closePath()},e}(ut);xm.prototype.type="ellipse";const vb=xm;var Dm=Math.PI,ep=Dm*2,ka=Math.sin,us=Math.cos,db=Math.acos,$t=Math.atan2,Im=Math.abs,il=Math.sqrt,al=Math.max,Rn=Math.min,hn=1e-4;function pb(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,f=o-i,h=s-a,c=h*u-f*l;if(!(c*c<hn))return c=(f*(e-a)-h*(t-i))/c,[t+c*u,e+c*l]}function Gh(t,e,r,n,i,a,o){var s=t-r,u=e-n,l=(o?a:-a)/il(s*s+u*u),f=l*u,h=-l*s,c=t+f,v=e+h,p=r+f,_=n+h,m=(c+p)/2,y=(v+_)/2,w=p-c,T=_-v,M=w*w+T*T,L=i-a,I=c*_-p*v,k=(T<0?-1:1)*il(al(0,L*L*M-I*I)),$=(I*T-w*k)/M,G=(-I*w-T*k)/M,X=(I*T+w*k)/M,U=(-I*w+T*k)/M,ie=$-m,de=G-y,_e=X-m,xe=U-y;return ie*ie+de*de>_e*_e+xe*xe&&($=X,G=U),{cx:$,cy:G,x0:-f,y0:-h,x1:$*(i/L-1),y1:G*(i/L-1)}}function gb(t){var e;if(Le(t)){var r=t.length;if(!r)return t;r===1?e=[t[0],t[0],0,0]:r===2?e=[t[0],t[0],t[1],t[1]]:r===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function mb(t,e){var r,n=al(e.r,0),i=al(e.r0||0,0),a=n>0,o=i>0;if(!(!a&&!o)){if(a||(n=i,i=0),i>n){var s=n;n=i,i=s}var u=e.startAngle,l=e.endAngle;if(!(isNaN(u)||isNaN(l))){var f=e.cx,h=e.cy,c=!!e.clockwise,v=Im(l-u),p=v>ep&&v%ep;if(p>hn&&(v=p),!(n>hn))t.moveTo(f,h);else if(v>ep-hn)t.moveTo(f+n*us(u),h+n*ka(u)),t.arc(f,h,n,u,l,!c),i>hn&&(t.moveTo(f+i*us(l),h+i*ka(l)),t.arc(f,h,i,l,u,c));else{var _=void 0,m=void 0,y=void 0,w=void 0,T=void 0,M=void 0,L=void 0,I=void 0,k=void 0,$=void 0,G=void 0,X=void 0,U=void 0,ie=void 0,de=void 0,_e=void 0,xe=n*us(u),Ee=n*ka(u),ft=i*us(l),gt=i*ka(l),tt=v>hn;if(tt){var Dt=e.cornerRadius;Dt&&(r=gb(Dt),_=r[0],m=r[1],y=r[2],w=r[3]);var Vr=Im(n-i)/2;if(T=Rn(Vr,y),M=Rn(Vr,w),L=Rn(Vr,_),I=Rn(Vr,m),G=k=al(T,M),X=$=al(L,I),(k>hn||$>hn)&&(U=n*us(l),ie=n*ka(l),de=i*us(u),_e=i*ka(u),v<Dm)){var It=pb(xe,Ee,de,_e,U,ie,ft,gt);if(It){var Hr=xe-It[0],$r=Ee-It[1],$i=U-It[0],Xa=ie-It[1],ja=1/ka(db((Hr*$i+$r*Xa)/(il(Hr*Hr+$r*$r)*il($i*$i+Xa*Xa)))/2),Ms=il(It[0]*It[0]+It[1]*It[1]);G=Rn(k,(n-Ms)/(ja+1)),X=Rn($,(i-Ms)/(ja-1))}}}if(!tt)t.moveTo(f+xe,h+Ee);else if(G>hn){var Mr=Rn(y,G),Bt=Rn(w,G),Oe=Gh(de,_e,xe,Ee,n,Mr,c),He=Gh(U,ie,ft,gt,n,Bt,c);t.moveTo(f+Oe.cx+Oe.x0,h+Oe.cy+Oe.y0),G<k&&Mr===Bt?t.arc(f+Oe.cx,h+Oe.cy,G,$t(Oe.y0,Oe.x0),$t(He.y0,He.x0),!c):(Mr>0&&t.arc(f+Oe.cx,h+Oe.cy,Mr,$t(Oe.y0,Oe.x0),$t(Oe.y1,Oe.x1),!c),t.arc(f,h,n,$t(Oe.cy+Oe.y1,Oe.cx+Oe.x1),$t(He.cy+He.y1,He.cx+He.x1),!c),Bt>0&&t.arc(f+He.cx,h+He.cy,Bt,$t(He.y1,He.x1),$t(He.y0,He.x0),!c))}else t.moveTo(f+xe,h+Ee),t.arc(f,h,n,u,l,!c);if(!(i>hn)||!tt)t.lineTo(f+ft,h+gt);else if(X>hn){var Mr=Rn(_,X),Bt=Rn(m,X),Oe=Gh(ft,gt,U,ie,i,-Bt,c),He=Gh(xe,Ee,de,_e,i,-Mr,c);t.lineTo(f+Oe.cx+Oe.x0,h+Oe.cy+Oe.y0),X<$&&Mr===Bt?t.arc(f+Oe.cx,h+Oe.cy,X,$t(Oe.y0,Oe.x0),$t(He.y0,He.x0),!c):(Bt>0&&t.arc(f+Oe.cx,h+Oe.cy,Bt,$t(Oe.y0,Oe.x0),$t(Oe.y1,Oe.x1),!c),t.arc(f,h,i,$t(Oe.cy+Oe.y1,Oe.cx+Oe.x1),$t(He.cy+He.y1,He.cx+He.x1),c),Mr>0&&t.arc(f+He.cx,h+He.cy,Mr,$t(He.y1,He.x1),$t(He.y0,He.x0),!c))}else t.lineTo(f+ft,h+gt),t.arc(f,h,i,l,u,c)}t.closePath()}}}var yb=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),Pm=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new yb},e.prototype.buildPath=function(r,n){mb(r,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(ut);Pm.prototype.type="sector";const _b=Pm;var bb=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),Lm=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new bb},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.PI*2;r.moveTo(i+n.r,a),r.arc(i,a,n.r,0,o,!1),r.moveTo(i+n.r0,a),r.arc(i,a,n.r0,0,o,!0)},e}(ut);Lm.prototype.type="ring";const wb=Lm;function Sb(t,e,r,n){var i=[],a=[],o=[],s=[],u,l,f,h;if(n){f=[1/0,1/0],h=[-1/0,-1/0];for(var c=0,v=t.length;c<v;c++)pi(f,f,t[c]),zn(h,h,t[c]);pi(f,f,n[0]),zn(h,h,n[1])}for(var c=0,v=t.length;c<v;c++){var p=t[c];if(r)u=t[c?c-1:v-1],l=t[(c+1)%v];else if(c===0||c===v-1){i.push(Xr(t[c]));continue}else u=t[c-1],l=t[c+1];Bn(a,l,u),no(a,a,e);var _=Ns(p,u),m=Ns(p,l),y=_+m;y!==0&&(_/=y,m/=y),no(o,a,-_),no(s,a,m);var w=Ll([],p,o),T=Ll([],p,s);n&&(zn(w,w,f),pi(w,w,h),zn(T,T,f),pi(T,T,h)),i.push(w),i.push(T)}return r&&i.push(i.shift()),i}function Rm(t,e,r){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var a=Sb(i,n,r,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(r?o:o-1);s++){var u=a[s*2],l=a[s*2+1],f=i[(s+1)%o];t.bezierCurveTo(u[0],u[1],l[0],l[1],f[0],f[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var s=1,h=i.length;s<h;s++)t.lineTo(i[s][0],i[s][1])}r&&t.closePath()}}var Tb=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),Am=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new Tb},e.prototype.buildPath=function(r,n){Rm(r,n,!0)},e}(ut);Am.prototype.type="polygon";const Cb=Am;var Eb=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),Om=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Eb},e.prototype.buildPath=function(r,n){Rm(r,n,!1)},e}(ut);Om.prototype.type="polyline";const Mb=Om;var xb={},Db=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),km=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Db},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var u=fh(xb,n,this.style);i=u.x1,a=u.y1,o=u.x2,s=u.y2}else i=n.x1,a=n.y1,o=n.x2,s=n.y2;var l=n.percent;l!==0&&(r.moveTo(i,a),l<1&&(o=i*(1-l)+o*l,s=a*(1-l)+s*l),r.lineTo(o,s))},e.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},e}(ut);km.prototype.type="line";const tp=km;var lr=[],Ib=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function Nm(t,e,r){var n=t.cpx2,i=t.cpy2;return n!=null||i!=null?[(r?tf:_t)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?tf:_t)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?af:bt)(t.x1,t.cpx1,t.x2,e),(r?af:bt)(t.y1,t.cpy1,t.y2,e)]}var Bm=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ib},e.prototype.buildPath=function(r,n){var i=n.x1,a=n.y1,o=n.x2,s=n.y2,u=n.cpx1,l=n.cpy1,f=n.cpx2,h=n.cpy2,c=n.percent;c!==0&&(r.moveTo(i,a),f==null||h==null?(c<1&&(na(i,u,o,c,lr),u=lr[1],o=lr[2],na(a,l,s,c,lr),l=lr[1],s=lr[2]),r.quadraticCurveTo(u,l,o,s)):(c<1&&(ra(i,u,f,o,c,lr),u=lr[1],f=lr[2],o=lr[3],ra(a,l,h,s,c,lr),l=lr[1],h=lr[2],s=lr[3]),r.bezierCurveTo(u,l,f,h,o,s)))},e.prototype.pointAt=function(r){return Nm(this.shape,r,!1)},e.prototype.tangentAt=function(r){var n=Nm(this.shape,r,!0);return di(n,n)},e}(ut);Bm.prototype.type="bezier-curve";const Fm=Bm;var Pb=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),zm=function(t){C(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Pb},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,u=n.endAngle,l=n.clockwise,f=Math.cos(s),h=Math.sin(s);r.moveTo(f*o+i,h*o+a),r.arc(i,a,o,s,u,!l)},e}(ut);zm.prototype.type="arc";const Gm=zm;var Vh=Math.max,Hh=Math.min,rp={};function vC(t){return Path.extend(t)}var Lb=lb;function dC(t,e){return Lb(t,e)}function An(t,e){rp[t]=e}function pC(t){if(rp.hasOwnProperty(t))return rp[t]}function Vm(t,e,r,n){var i=ub(t,e);return r&&(n==="center"&&(r=Hm(r,i.getBoundingRect())),Ab(i,r)),i}function Rb(t,e,r){var n=new Ni({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(r==="center"){var a={width:i.width,height:i.height};n.setStyle(Hm(e,a))}}});return n}function Hm(t,e){var r=e.width/e.height,n=t.height*r,i;n<=t.width?i=t.height:(n=t.width,i=n/r);var a=t.x+t.width/2,o=t.y+t.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}var gC=fb;function Ab(t,e){if(t.applyTransform){var r=t.getBoundingRect(),n=r.calculateTransform(e);t.applyTransform(n)}}function mC(t,e){return subPixelOptimizeUtil.subPixelOptimizeLine(t,t,{lineWidth:e}),t}function yC(t){return subPixelOptimizeUtil.subPixelOptimizeRect(t.shape,t.shape,t.style),t}var _C=Pn;function bC(t,e){for(var r=matrix.identity([]);t&&t!==e;)matrix.mul(r,t.getLocalTransform(),r),t=t.parent;return r}function Ob(t,e,r){return e&&!isArrayLike(e)&&(e=Transformable.getLocalTransform(e)),r&&(e=matrix.invert([],e)),vector.applyTransform([],t,e)}function wC(t,e,r){var n=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[t==="left"?-n:t==="right"?n:0,t==="top"?-i:t==="bottom"?i:0];return a=Ob(a,e,r),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function $m(t){return!t.isGroup}function kb(t){return t.shape!=null}function SC(t,e,r){if(!t||!e)return;function n(o){var s={};return o.traverse(function(u){$m(u)&&u.anid&&(s[u.anid]=u)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return kb(o)&&(s.shape=extend({},o.shape)),s}var a=n(t);e.traverse(function(o){if($m(o)&&o.anid){var s=a[o.anid];if(s){var u=i(o);o.attr(i(s)),updateProps(o,u,r,getECData(o).dataIndex)}}})}function TC(t,e){return map(t,function(r){var n=r[0];n=Vh(n,e.x),n=Hh(n,e.x+e.width);var i=r[1];return i=Vh(i,e.y),i=Hh(i,e.y+e.height),[n,i]})}function CC(t,e){var r=Vh(t.x,e.x),n=Hh(t.x+t.width,e.x+e.width),i=Vh(t.y,e.y),a=Hh(t.y+t.height,e.y+e.height);if(n>=r&&a>=i)return{x:r,y:i,width:n-r,height:a-i}}function EC(t,e,r){var n=extend({rectHover:!0},e),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),defaults(i,r),new ZRImage(n)):Vm(t.replace("path://",""),n,r,"center")}function MC(t,e,r,n,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(Nb(t,e,r,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function Nb(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,f=o-i,h=s-a,c=np(f,h,u,l);if(Bb(c))return!1;var v=t-i,p=e-a,_=np(v,p,u,l)/c;if(_<0||_>1)return!1;var m=np(v,p,f,h)/c;return!(m<0||m>1)}function np(t,e,r,n){return t*n-r*e}function Bb(t){return t<=1e-6&&t>=-1e-6}function xC(t){var e=t.itemTooltipOption,r=t.componentModel,n=t.itemName,i=isString(e)?{formatter:e}:e,a=r.mainType,o=r.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var u=t.formatterParamsExtra;u&&each(keys(u),function(f){hasOwn(s,f)||(s[f]=u[f],s.$vars.push(f))});var l=getECData(t.el);l.componentMainType=a,l.componentIndex=o,l.tooltipConfig={name:n,option:defaults({content:n,formatterParams:s},i)}}function Ym(t,e){var r;t.isGroup&&(r=e(t)),r||t.traverse(e)}function ip(t,e){if(t)if(Le(t))for(var r=0;r<t.length;r++)Ym(t[r],e);else Ym(t,e)}An("circle",Mm),An("ellipse",vb),An("sector",_b),An("ring",wb),An("polygon",Cb),An("polyline",Mb),An("rect",un),An("line",tp),An("bezierCurve",Fm),An("arc",Gm);var Um=mt(),Fb=tb(),ap=function(){function t(){this.group=new en,this.uid=Ch("viewChart"),this.renderTask=el({plan:zb,reset:Gb}),this.renderTask.context={view:this}}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.highlight=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&Xm(a,i,"emphasis")},t.prototype.downplay=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&Xm(a,i,"normal")},t.prototype.remove=function(e,r){this.group.removeAll()},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateLayout=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateVisual=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.eachRendered=function(e){ip(this.group,e)},t.markUpdateMethod=function(e,r){Um(e).updateMethod=r},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function Wm(t,e,r){t&&Ed(t)&&(e==="emphasis"?ju:Zu)(t,r)}function Xm(t,e,r){var n=Go(t,e),i=e&&e.highlightKey!=null?f1(e.highlightKey):null;n!=null?Z(vt(n),function(a){Wm(t.getItemGraphicEl(a),r,i)}):t.eachItemGraphicEl(function(a){Wm(a,r,i)})}Or(ap,["dispose"]),Pu(ap);function zb(t){return Fb(t.model)}function Gb(t){var e=t.model,r=t.ecModel,n=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=i&&Um(i).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return u!=="render"&&o[u](e,r,n,i),Vb[u]}var Vb={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const ls=ap;var jm=mt();function Hb(t,e,r,n,i){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),u=t==="update";if(s){var l=void 0,f=void 0,h=void 0;n?(l=We(n.duration,200),f=We(n.easing,"cubicOut"),h=0):(l=e.getShallow(u?"animationDurationUpdate":"animationDuration"),f=e.getShallow(u?"animationEasingUpdate":"animationEasing"),h=e.getShallow(u?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(l=a.duration),a.easing!=null&&(f=a.easing),a.delay!=null&&(h=a.delay)),et(h)&&(h=h(r,i)),et(l)&&(l=l(r));var c={duration:l||0,delay:h,easing:f};return c}else return null}function op(t,e,r,n,i,a,o){var s=!1,u;et(i)?(o=a,a=i,i=null):Re(i)&&(a=i.cb,o=i.during,s=i.isFrom,u=i.removeOpt,i=i.dataIndex);var l=t==="leave";l||e.stopAnimation("leave");var f=Hb(t,n,i,l?u||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null);if(f&&f.duration>0){var h=f.duration,c=f.delay,v=f.easing,p={duration:h,delay:c||0,easing:v,done:a,force:!!a||!!o,setToFinal:!l,scope:t,during:o};s?e.animateFrom(r,p):e.animateTo(r,p)}else e.stopAnimation(),!s&&e.attr(r),o&&o(1),a&&a()}function $h(t,e,r,n,i,a){op("update",t,e,r,n,i,a)}function Zm(t,e,r,n,i,a){op("enter",t,e,r,n,i,a)}function Yh(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave")return!0}return!1}function sp(t,e,r,n,i,a){Yh(t)||op("leave",t,e,r,n,i,a)}function qm(t,e,r,n){t.removeTextContent(),t.removeTextGuideLine(),sp(t,{style:{opacity:0}},e,r,n)}function DC(t,e,r){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||qm(i,e,r,n)}):qm(t,e,r,n)}function $b(t){jm(t).oldStyle=t.style}function IC(t){return jm(t).oldStyle}var Uh="\0__throttleOriginMethod",Km="\0__throttleRate",Qm="\0__throttleType";function Jm(t,e,r){var n,i=0,a=0,o=null,s,u,l,f;e=e||0;function h(){a=new Date().getTime(),o=null,t.apply(u,l||[])}var c=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];n=new Date().getTime(),u=this,l=v;var _=f||e,m=f||r;f=null,s=n-(m?i:a)-_,clearTimeout(o),m?o=setTimeout(h,_):s>=0?h():o=setTimeout(h,-s),i=n};return c.clear=function(){o&&(clearTimeout(o),o=null)},c.debounceNextCall=function(v){f=v},c}function PC(t,e,r,n){var i=t[e];if(i){var a=i[Uh]||i,o=i[Qm],s=i[Km];if(s!==r||o!==n){if(r==null||!n)return t[e]=a;i=t[e]=Jm(a,r,n==="debounce"),i[Uh]=a,i[Qm]=n,i[Km]=r}return i}}function LC(t,e){var r=t[e];r&&r[Uh]&&(r.clear&&r.clear(),t[e]=r[Uh])}var ey=mt(),ty={itemStyle:_a(d0,!0),lineStyle:_a(v0,!0)},Yb={lineStyle:"stroke",itemStyle:"fill"};function ry(t,e){var r=t.visualStyleMapper||ty[e];return r||(console.warn("Unknown style type '"+e+"'."),ty.itemStyle)}function ny(t,e){var r=t.visualDrawType||Yb[e];return r||(console.warn("Unknown style type '"+e+"'."),"fill")}var Ub={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=t.getModel(n),a=ry(t,n),o=a(i),s=i.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var u=ny(t,n),l=o[u],f=et(l)?l:null,h=o.fill==="auto"||o.stroke==="auto";if(!o[u]||f||h){var c=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[u]||(o[u]=c,r.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||et(o.fill)?c:o.fill,o.stroke=o.stroke==="auto"||et(o.stroke)?c:o.stroke}if(r.setVisual("style",o),r.setVisual("drawType",u),!e.isSeriesFiltered(t)&&f)return r.setVisual("colorFromPalette",!1),{dataEach:function(v,p){var _=t.getDataParams(p),m=be({},o);m[u]=f(_),v.setItemVisual(p,"style",m)}}}},ol=new ii,Wb={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=ry(t,n),a=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(o,s){var u=o.getRawDataItem(s);if(u&&u[n]){ol.option=u[n];var l=i(ol),f=o.ensureUniqueItemVisual(s,"style");be(f,l),ol.option.decal&&(o.setItemVisual(s,"decal",ol.option.decal),ol.option.decal.dirty=!0),a in l&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},Xb={performRawSeries:!0,overallReset:function(t){var e=ke();t.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,a=e.get(i);a||(a={},e.set(i,a)),ey(r).scope=a}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var n=r.getRawData(),i={},a=r.getData(),o=ey(r).scope,s=r.visualStyleAccessPath||"itemStyle",u=ny(r,s);a.each(function(l){var f=a.getRawIndex(l);i[f]=l}),n.each(function(l){var f=i[l],h=a.getItemVisual(f,"colorFromPalette");if(h){var c=a.ensureUniqueItemVisual(f,"style"),v=n.getName(l)||l+"",p=n.count();c[u]=r.getColorFromPalette(v,o,p)}})}})}},Wh=Math.PI;function jb(t,e){e=e||{},Pt(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new en,n=new un({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(n);var i=new J({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new un({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(a);var o;return e.showSpinner&&(o=new Gm({shape:{startAngle:-Wh/2,endAngle:-Wh/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Wh*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Wh*3/2}).delay(300).start("circularInOut"),r.add(o)),r.resize=function(){var s=i.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-u*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:u),f=t.getHeight()/2;e.showSpinner&&o.setShape({cx:l,cy:f}),a.setShape({x:l-u,y:f-u,width:u*2,height:u*2}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var Zb=function(){function t(e,r,n,i){this._stageTaskMap=ke(),this.ecInstance=e,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(e,r){e.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,r){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,a=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=i&&i.modDataCount,u=s!=null?Math.ceil(s/o):null;return{step:o,modBy:u,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,r){var n=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),o=n.progressiveEnabled&&r.incrementalPrepareRender&&a>=n.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),u=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:u,large:s}},t.prototype.restorePipelines=function(e){var r=this,n=r._pipelineMap=ke();e.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),r._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,r=this.api.getModel(),n=this.api;Z(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),o="";xr(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,r,n),i.overallReset&&this._createOverallStageTask(i,a,r,n)},this)},t.prototype.prepareView=function(e,r,n,i){var a=e.renderTask,o=a.context;o.model=r,o.ecModel=n,o.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(r,a)},t.prototype.performDataProcessorTasks=function(e,r){this._performStageTasks(this._dataProcessorHandlers,e,r,{block:!0})},t.prototype.performVisualTasks=function(e,r,n){this._performStageTasks(this._visualHandlers,e,r,n)},t.prototype._performStageTasks=function(e,r,n,i){i=i||{};var a=!1,o=this;Z(e,function(u,l){if(!(i.visualType&&i.visualType!==u.visualType)){var f=o._stageTaskMap.get(u.uid),h=f.seriesTaskMap,c=f.overallTask;if(c){var v,p=c.agentStubMap;p.each(function(m){s(i,m)&&(m.dirty(),v=!0)}),v&&c.dirty(),o.updatePayload(c,n);var _=o.getPerformArgs(c,i.block);p.each(function(m){m.perform(_)}),c.perform(_)&&(a=!0)}else h&&h.each(function(m,y){s(i,m)&&m.dirty();var w=o.getPerformArgs(m,i.block);w.skip=!u.performRawSeries&&r.isSeriesFiltered(m.context.model),o.updatePayload(m,n),m.perform(w)&&(a=!0)})}});function s(u,l){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(l.__pipeline.id))}this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(e){var r;e.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var r=e.tail;do{if(r.__block){e.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(e,r){r!=="remain"&&(e.context.payload=r)},t.prototype._createSeriesStageTask=function(e,r,n,i){var a=this,o=r.seriesTaskMap,s=r.seriesTaskMap=ke(),u=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(f):u?n.eachRawSeriesByType(u,f):l&&l(n,i).each(f);function f(h){var c=h.uid,v=s.set(c,o&&o.get(c)||el({plan:ew,reset:tw,count:nw}));v.context={model:h,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(h,v)}},t.prototype._createOverallStageTask=function(e,r,n,i){var a=this,o=r.overallTask=r.overallTask||el({reset:qb});o.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,u=o.agentStubMap=ke(),l=e.seriesType,f=e.getTargetSeries,h=!0,c=!1,v="";xr(!e.createOnAllSeries,v),l?n.eachRawSeriesByType(l,p):f?f(n,i).each(p):(h=!1,Z(n.getSeries(),p));function p(_){var m=_.uid,y=u.set(m,s&&s.get(m)||(c=!0,el({reset:Kb,onDirty:Jb})));y.context={model:_,overallProgress:h},y.agent=o,y.__block=h,a._pipe(_,y)}c&&o.dirty()},t.prototype._pipe=function(e,r){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},t.wrapStageHandler=function(e,r){return et(e)&&(e={overallReset:e,seriesType:iw(e)}),e.uid=Ch("stageHandler"),r&&(e.visualType=r),e},t}();function qb(t){t.overallReset(t.ecModel,t.api,t.payload)}function Kb(t){return t.overallProgress&&Qb}function Qb(){this.agent.dirty(),this.getDownstream().dirty()}function Jb(){this.agent&&this.agent.dirty()}function ew(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function tw(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=vt(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Je(e,function(r,n){return iy(n)}):rw}var rw=iy(0);function iy(t){return function(e,r){var n=r.data,i=r.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(e,n)}}function nw(t){return t.data.count()}function iw(t){Xh=null;try{t(sl,ay)}catch{}return Xh}var sl={},ay={},Xh;oy(sl,O0),oy(ay,k0),sl.eachSeriesByType=sl.eachRawSeriesByType=function(t){Xh=t},sl.eachComponent=function(t){t.mainType==="series"&&t.subType&&(Xh=t.subType)};function oy(t,e){for(var r in e.prototype)t[r]=Ot}const sy=Zb;var uy=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const aw={color:uy,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],uy]};var Zt="#B9B8CE",ly="#100C2A",jh=function(){return{axisLine:{lineStyle:{color:Zt}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},fy=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],hy={darkMode:!0,color:fy,backgroundColor:ly,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Zt}},textStyle:{color:Zt},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Zt}},dataZoom:{borderColor:"#71708A",textStyle:{color:Zt},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Zt}},timeline:{lineStyle:{color:Zt},label:{color:Zt},controlStyle:{color:Zt,borderColor:Zt}},calendar:{itemStyle:{color:ly},dayLabel:{color:Zt},monthLabel:{color:Zt},yearLabel:{color:Zt}},timeAxis:jh(),logAxis:jh(),valueAxis:jh(),categoryAxis:jh(),line:{symbol:"circle"},graph:{color:fy},gauge:{title:{color:Zt},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Zt},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};hy.categoryAxis.splitLine.show=!1;const ow=hy;var sw=function(){function t(){}return t.prototype.normalizeQuery=function(e){var r={},n={},i={};if(ze(e)){var a=Ar(e);r.mainType=a.main||null,r.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};Z(e,function(u,l){for(var f=!1,h=0;h<o.length;h++){var c=o[h],v=l.lastIndexOf(c);if(v>0&&v===l.length-c.length){var p=l.slice(0,v);p!=="data"&&(r.mainType=p,r[c.toLowerCase()]=u,f=!0)}}s.hasOwnProperty(l)&&(n[l]=u,f=!0),f||(i[l]=u)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},t.prototype.filter=function(e,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var u=r.cptQuery,l=r.dataQuery;return f(u,o,"mainType")&&f(u,o,"subType")&&f(u,o,"index","componentIndex")&&f(u,o,"name")&&f(u,o,"id")&&f(l,a,"name")&&f(l,a,"dataIndex")&&f(l,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,r.otherQuery,i,a));function f(h,c,v,p){return h[v]==null||c[p||v]===h[v]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),up=["symbol","symbolSize","symbolRotate","symbolOffset"],cy=up.concat(["symbolKeepAspect"]),uw={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData();if(t.legendIcon&&r.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<up.length;o++){var s=up[o],u=t.get(s);et(u)?(a=!0,i[s]=u):n[s]=u}if(n.symbol=n.symbol||t.defaultSymbol,r.setVisual(be({legendIcon:t.legendIcon||n.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},n)),e.isSeriesFiltered(t))return;var l=lt(i);function f(h,c){for(var v=t.getRawValue(c),p=t.getDataParams(c),_=0;_<l.length;_++){var m=l[_];h.setItemVisual(c,m,i[m](v,p))}}return{dataEach:a?f:null}}},lw={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var r=t.getData();function n(i,a){for(var o=i.getItemModel(a),s=0;s<cy.length;s++){var u=cy[s],l=o.getShallow(u,!0);l!=null&&i.setItemVisual(a,u,l)}}return{dataEach:r.hasItemOption?n:null}}};function fw(t,e,r){switch(r){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r);default:}}function hw(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:}}function RC(t,e,r,n){switch(r){case"color":var i=t.ensureUniqueItemVisual(e,"style");i[t.getVisual("drawType")]=n,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,r,n);break;default:}}function AC(t,e){function r(n,i){var a=[];return n.eachComponent({mainType:"series",subType:t,query:i},function(o){a.push(o.seriesIndex)}),a}each([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(n){e(n[0],function(i,a,o){i=extend({},i),o.dispatchAction(extend(i,{type:n[1],seriesIndex:r(a,i)}))})})}function fs(t,e,r,n,i){var a=t+e;r.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,u=o.option.selectedMap,l=i.selected,f=0;f<l.length;f++)if(l[f].seriesIndex===s){var h=o.getData(),c=Go(h,i.fromActionPayload);r.trigger(a,{type:a,seriesId:o.id,name:Le(c)?h.getName(c[0]):h.getName(c),selected:ze(u)?u:be({},u)})}})}function cw(t,e,r){t.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(fs("map","selectchanged",e,i,n),fs("pie","selectchanged",e,i,n)):n.fromAction==="select"?(fs("map","selected",e,i,n),fs("pie","selected",e,i,n)):n.fromAction==="unselect"&&(fs("map","unselected",e,i,n),fs("pie","unselected",e,i,n))})}const vw={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},dw={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};var Zh="ZH",lp="EN",ul=lp,qh={},fp={},pw=Ze.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(Zh)>-1?Zh:ul}():ul;function vy(t,e){t=t.toUpperCase(),fp[t]=new ii(e),qh[t]=e}function gw(t){if(ze(t)){var e=qh[t.toUpperCase()]||{};return t===Zh||t===lp?Ye(e):Ue(Ye(e),Ye(qh[ul]),!1)}else return Ue(Ye(t),Ye(qh[ul]),!1)}function OC(t){return fp[t]}function kC(){return fp[ul]}vy(lp,vw),vy(Zh,dw);function Kh(t,e,r){for(var n;t&&!(e(t)&&(n=t,r));)t=t.__hostTarget||t.parent;return n}var mw=Math.round(Math.random()*9),yw=typeof Object.defineProperty=="function",_w=function(){function t(){this._id="__ec_inner_"+mw++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,r){var n=this._guard(e);return yw?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}();const bw=_w;var ww=ut.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n+a),t.lineTo(r-i,n+a),t.closePath()}}),Sw=ut.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n),t.lineTo(r,n+a),t.lineTo(r-i,n),t.closePath()}}),Tw=ut.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,n=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),u=n-a+o+s,l=Math.asin(s/o),f=Math.cos(l)*o,h=Math.sin(l),c=Math.cos(l),v=o*.6,p=o*.7;t.moveTo(r-f,u+s),t.arc(r,u,o,Math.PI-l,Math.PI*2+l),t.bezierCurveTo(r+f-h*v,u+s+c*v,r,n-p,r,n),t.bezierCurveTo(r,n-p,r-f+h*v,u+s+c*v,r-f,u+s),t.closePath()}}),Cw=ut.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height,n=e.width,i=e.x,a=e.y,o=n/3*2;t.moveTo(i,a),t.lineTo(i+o,a+r),t.lineTo(i,a+r/4*3),t.lineTo(i-o,a+r),t.lineTo(i,a),t.closePath()}}),Ew={line:tp,rect:un,roundRect:un,square:un,circle:Mm,diamond:Sw,pin:Tw,arrow:Cw,triangle:ww},Mw={line:function(t,e,r,n,i){i.x1=t,i.y1=e+n/2,i.x2=t+r,i.y2=e+n/2},rect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n},roundRect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(t,e,r,n,i){var a=Math.min(r,n);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.r=Math.min(r,n)/2},diamond:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n},pin:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},arrow:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},triangle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n}},hp={};Z(Ew,function(t,e){hp[e]=new t});var xw=ut.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var n=Cf(t,e,r),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(t,e,r){var n=e.symbolType;if(n!=="none"){var i=hp[n];i||(n="rect",i=hp[n]),Mw[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,r)}}});function Dw(t,e){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=e||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=t:r.fill=t,this.markRedraw()}}function cp(t,e,r,n,i,a,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var u;return t.indexOf("image://")===0?u=Rb(t.slice(8),new Ke(e,r,n,i),o?"center":"cover"):t.indexOf("path://")===0?u=Vm(t.slice(7),{},new Ke(e,r,n,i),o?"center":"cover"):u=new xw({shape:{symbolType:t,x:e,y:r,width:n,height:i}}),u.__isEmptyBrush=s,u.setColor=Dw,a&&u.setColor(a),u}function vp(t){return Le(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function dp(t,e){if(t!=null)return Le(t)||(t=[t,t]),[Lt(t[0],e[0])||0,Lt(We(t[1],t[0]),e[1])||0]}function Na(t){return isFinite(t)}function Iw(t,e,r){var n=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(n=n*r.width+r.x,i=i*r.width+r.x,a=a*r.height+r.y,o=o*r.height+r.y),n=Na(n)?n:0,i=Na(i)?i:1,a=Na(a)?a:0,o=Na(o)?o:0;var s=t.createLinearGradient(n,a,i,o);return s}function Pw(t,e,r){var n=r.width,i=r.height,a=Math.min(n,i),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,u=e.r==null?.5:e.r;e.global||(o=o*n+r.x,s=s*i+r.y,u=u*a),o=Na(o)?o:.5,s=Na(s)?s:.5,u=u>=0&&Na(u)?u:.5;var l=t.createRadialGradient(o,s,0,o,s,u);return l}function pp(t,e,r){for(var n=e.type==="radial"?Pw(t,e,r):Iw(t,e,r),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function Lw(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}function Qh(t){return parseInt(t,10)}function Jh(t,e,r){var n=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(t);return(t[i]||Qh(s[n])||Qh(t.style[n]))-(Qh(s[a])||0)-(Qh(s[o])||0)|0}function Rw(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:ot(t)?[t]:Le(t)?t:null}function dy(t){var e=t.style,r=e.lineDash&&e.lineWidth>0&&Rw(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(r){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(r=Je(r,function(a){return a/i}),n/=i)}return[r,n]}var Aw=new Oi(!0);function ec(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function py(t){return typeof t=="string"&&t!=="none"}function tc(t){var e=t.fill;return e!=null&&e!=="none"}function gy(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function my(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function gp(t,e,r){var n=Ru(e.image,e.__image,r);if(ba(n)){var i=t.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*Cc),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function Ow(t,e,r,n){var i,a=ec(r),o=tc(r),s=r.strokePercent,u=s<1,l=!e.path;(!e.silent||u)&&l&&e.createPathProxy();var f=e.path||Aw,h=e.__dirty;if(!n){var c=r.fill,v=r.stroke,p=o&&!!c.colorStops,_=a&&!!v.colorStops,m=o&&!!c.image,y=a&&!!v.image,w=void 0,T=void 0,M=void 0,L=void 0,I=void 0;(p||_)&&(I=e.getBoundingRect()),p&&(w=h?pp(t,c,I):e.__canvasFillGradient,e.__canvasFillGradient=w),_&&(T=h?pp(t,v,I):e.__canvasStrokeGradient,e.__canvasStrokeGradient=T),m&&(M=h||!e.__canvasFillPattern?gp(t,c,e):e.__canvasFillPattern,e.__canvasFillPattern=M),y&&(L=h||!e.__canvasStrokePattern?gp(t,v,e):e.__canvasStrokePattern,e.__canvasStrokePattern=M),p?t.fillStyle=w:m&&(M?t.fillStyle=M:o=!1),_?t.strokeStyle=T:y&&(L?t.strokeStyle=L:a=!1)}var k=e.getGlobalScale();f.setScale(k[0],k[1],e.segmentIgnoreThreshold);var $,G;t.setLineDash&&r.lineDash&&(i=dy(e),$=i[0],G=i[1]);var X=!0;(l||h&_i)&&(f.setDPR(t.dpr),u?f.setContext(null):(f.setContext(t),X=!1),f.reset(),e.buildPath(f,e.shape,n),f.toStatic(),e.pathUpdated()),X&&f.rebuildPath(t,u?s:1),$&&(t.setLineDash($),t.lineDashOffset=G),n||(r.strokeFirst?(a&&my(t,r),o&&gy(t,r)):(o&&gy(t,r),a&&my(t,r))),$&&t.setLineDash([])}function kw(t,e,r){var n=e.__image=Ru(r.image,e.__image,e,e.onload);if(!(!n||!ba(n))){var i=r.x||0,a=r.y||0,o=e.getWidth(),s=e.getHeight(),u=n.width/n.height;if(o==null&&s!=null?o=s*u:s==null&&o!=null?s=o/u:o==null&&s==null&&(o=n.width,s=n.height),r.sWidth&&r.sHeight){var l=r.sx||0,f=r.sy||0;t.drawImage(n,l,f,r.sWidth,r.sHeight,i,a,o,s)}else if(r.sx&&r.sy){var l=r.sx,f=r.sy,h=o-l,c=s-f;t.drawImage(n,l,f,h,c,i,a,o,s)}else t.drawImage(n,i,a,o,s)}}function Nw(t,e,r){var n,i=r.text;if(i!=null&&(i+=""),i){t.font=r.font||ue,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var a=void 0,o=void 0;t.setLineDash&&r.lineDash&&(n=dy(e),a=n[0],o=n[1]),a&&(t.setLineDash(a),t.lineDashOffset=o),r.strokeFirst?(ec(r)&&t.strokeText(i,r.x,r.y),tc(r)&&t.fillText(i,r.x,r.y)):(tc(r)&&t.fillText(i,r.x,r.y),ec(r)&&t.strokeText(i,r.x,r.y)),a&&t.setLineDash([])}}var yy=["shadowBlur","shadowOffsetX","shadowOffsetY"],_y=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function by(t,e,r,n,i){var a=!1;if(!n&&(r=r||{},e===r))return!1;if(n||e.opacity!==r.opacity){fr(t,i),a=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?Cn.opacity:o}(n||e.blend!==r.blend)&&(a||(fr(t,i),a=!0),t.globalCompositeOperation=e.blend||Cn.blend);for(var s=0;s<yy.length;s++){var u=yy[s];(n||e[u]!==r[u])&&(a||(fr(t,i),a=!0),t[u]=t.dpr*(e[u]||0))}return(n||e.shadowColor!==r.shadowColor)&&(a||(fr(t,i),a=!0),t.shadowColor=e.shadowColor||Cn.shadowColor),a}function wy(t,e,r,n,i){var a=ll(e,i.inHover),o=n?null:r&&ll(r,i.inHover)||{};if(a===o)return!1;var s=by(t,a,o,n,i);if((n||a.fill!==o.fill)&&(s||(fr(t,i),s=!0),py(a.fill)&&(t.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(fr(t,i),s=!0),py(a.stroke)&&(t.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(fr(t,i),s=!0),t.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var u=a.lineWidth,l=u/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(fr(t,i),s=!0),t.lineWidth=l)}for(var f=0;f<_y.length;f++){var h=_y[f],c=h[0];(n||a[c]!==o[c])&&(s||(fr(t,i),s=!0),t[c]=a[c]||h[1])}return s}function Bw(t,e,r,n,i){return by(t,ll(e,i.inHover),r&&ll(r,i.inHover),n,i)}function Sy(t,e){var r=e.transform,n=t.dpr||1;r?t.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):t.setTransform(n,0,0,n,0,0)}function Fw(t,e,r){for(var n=!1,i=0;i<t.length;i++){var a=t[i];n=n||a.isZeroArea(),Sy(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}r.allClipped=n}function zw(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var Ty=1,Cy=2,Ey=3,My=4;function Gw(t){var e=tc(t),r=ec(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!="string"||r&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function fr(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function ll(t,e){return e&&t.__hoverStyle||t.style}function xy(t,e){Ba(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Ba(t,e,r,n){var i=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){e.__dirty&=~st,e.__isRendered=!1;return}var a=e.__clipPaths,o=r.prevElClipPaths,s=!1,u=!1;if((!o||Lw(a,o))&&(o&&o.length&&(fr(t,r),t.restore(),u=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),a&&a.length&&(fr(t,r),t.save(),Fw(a,t,r),s=!0),r.prevElClipPaths=a),r.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var l=r.prevEl;l||(u=s=!0);var f=e instanceof ut&&e.autoBatch&&Gw(e.style);s||zw(i,l.transform)?(fr(t,r),Sy(t,e)):f||fr(t,r);var h=ll(e,r.inHover);e instanceof ut?(r.lastDrawType!==Ty&&(u=!0,r.lastDrawType=Ty),wy(t,e,l,u,r),(!f||!r.batchFill&&!r.batchStroke)&&t.beginPath(),Ow(t,e,h,f),f&&(r.batchFill=h.fill||"",r.batchStroke=h.stroke||"")):e instanceof $u?(r.lastDrawType!==Ey&&(u=!0,r.lastDrawType=Ey),wy(t,e,l,u,r),Nw(t,e,h)):e instanceof Ni?(r.lastDrawType!==Cy&&(u=!0,r.lastDrawType=Cy),Bw(t,e,l,u,r),kw(t,e,h)):e.getTemporalDisplayables&&(r.lastDrawType!==My&&(u=!0,r.lastDrawType=My),Vw(t,e,r)),f&&n&&fr(t,r),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),r.prevEl=e,e.__dirty=0,e.__isRendered=!0}function Vw(t,e,r){var n=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},o,s;for(o=e.getCursor(),s=n.length;o<s;o++){var u=n[o];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),Ba(t,u,a,o===s-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}for(var l=0,f=i.length;l<f;l++){var u=i[l];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),Ba(t,u,a,l===f-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var mp=new bw,Dy=new ia(100),Iy=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Py(t,e){if(t==="none")return null;var r=e.getDevicePixelRatio(),n=e.getZr(),i=n.painter.type==="svg";t.dirty&&mp.delete(t);var a=mp.get(t);if(a)return a;var o=Pt(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return u(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/r,mp.set(t,s),t.dirty=!1,s;function u(l){for(var f=[r],h=!0,c=0;c<Iy.length;++c){var v=o[Iy[c]];if(v!=null&&!Le(v)&&!ze(v)&&!ot(v)&&typeof v!="boolean"){h=!1;break}f.push(v)}var p;if(h){p=f.join(",")+(i?"-svg":"");var _=Dy.get(p);_&&(i?l.svgElement=_:l.image=_)}var m=Ry(o.dashArrayX),y=Hw(o.dashArrayY),w=Ly(o.symbol),T=$w(m),M=Ay(y),L=!i&&rt.createCanvas(),I=i&&{tag:"g",attrs:{},key:"dcl",children:[]},k=G(),$;L&&(L.width=k.width*r,L.height=k.height*r,$=L.getContext("2d")),X(),h&&Dy.put(p,L||I),l.image=L,l.svgElement=I,l.svgWidth=k.width,l.svgHeight=k.height;function G(){for(var U=1,ie=0,de=T.length;ie<de;++ie)U=va(U,T[ie]);for(var _e=1,ie=0,de=w.length;ie<de;++ie)_e=va(_e,w[ie].length);U*=_e;var xe=M*T.length*w.length;if(!1)var Ee;return{width:Math.max(1,Math.min(U,o.maxTileWidth)),height:Math.max(1,Math.min(xe,o.maxTileHeight))}}function X(){$&&($.clearRect(0,0,L.width,L.height),o.backgroundColor&&($.fillStyle=o.backgroundColor,$.fillRect(0,0,L.width,L.height)));for(var U=0,ie=0;ie<y.length;++ie)U+=y[ie];if(U<=0)return;for(var de=-M,_e=0,xe=0,Ee=0;de<k.height;){if(_e%2===0){for(var ft=xe/2%w.length,gt=0,tt=0,Dt=0;gt<k.width*2;){for(var Vr=0,ie=0;ie<m[Ee].length;++ie)Vr+=m[Ee][ie];if(Vr<=0)break;if(tt%2===0){var It=(1-o.symbolSize)*.5,Hr=gt+m[Ee][tt]*It,$r=de+y[_e]*It,$i=m[Ee][tt]*o.symbolSize,Xa=y[_e]*o.symbolSize,ja=Dt/2%w[ft].length;Ms(Hr,$r,$i,Xa,w[ft][ja])}gt+=m[Ee][tt],++Dt,++tt,tt===m[Ee].length&&(tt=0)}++Ee,Ee===m.length&&(Ee=0)}de+=y[_e],++xe,++_e,_e===y.length&&(_e=0)}function Ms(Mr,Bt,Oe,He,Za){var qt=i?1:r,X_=cp(Za,Mr*qt,Bt*qt,Oe*qt,He*qt,o.color,o.symbolKeepAspect);if(i){var j_=n.painter.renderOneToVNode(X_);j_&&I.children.push(j_)}else xy($,X_)}}}}function Ly(t){if(!t||t.length===0)return[["rect"]];if(ze(t))return[[t]];for(var e=!0,r=0;r<t.length;++r)if(!ze(t[r])){e=!1;break}if(e)return Ly([t]);for(var n=[],r=0;r<t.length;++r)ze(t[r])?n.push([t[r]]):n.push(t[r]);return n}function Ry(t){if(!t||t.length===0)return[[0,0]];if(ot(t)){var e=Math.ceil(t);return[[e,e]]}for(var r=!0,n=0;n<t.length;++n)if(!ot(t[n])){r=!1;break}if(r)return Ry([t]);for(var i=[],n=0;n<t.length;++n)if(ot(t[n])){var e=Math.ceil(t[n]);i.push([e,e])}else{var e=Je(t[n],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function Hw(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(ot(t)){var e=Math.ceil(t);return[e,e]}var r=Je(t,function(n){return Math.ceil(n)});return t.length%2?r.concat(r):r}function $w(t){return Je(t,function(e){return Ay(e)})}function Ay(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return t.length%2===1?e*2:e}function Yw(t,e){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var u=n.ensureUniqueItemVisual(o,"style");u.decal=Py(s,e)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=Py(i,e)}}})}var Uw=new pr;const cn=Uw;var Oy={};function Ww(t,e){Oy[t]=e}function Xw(t){return Oy[t]}var NC="5.4.3",BC={zrender:"5.4.4"},jw=1,Zw=800,qw=900,Kw=1e3,Qw=2e3,Jw=5e3,ky=1e3,eS=1100,yp=2e3,Ny=3e3,tS=4e3,rc=4500,rS=4600,nS=5e3,iS=6e3,By=7e3,aS={PROCESSOR:{FILTER:Kw,SERIES_FILTER:Zw,STATISTIC:Jw},VISUAL:{LAYOUT:ky,PROGRESSIVE_LAYOUT:eS,GLOBAL:yp,CHART:Ny,POST_CHART_LAYOUT:rS,COMPONENT:tS,BRUSH:nS,CHART_ITEM:rc,ARIA:iS,DECAL:By}},Yt="__flagInMainProcess",hr="__pendingUpdate",_p="__needsUpdateStatus",Fy=/^[a-zA-Z0-9_]+$/,bp="__connectUpdateStatus",zy=0,oS=1,sS=2;function Gy(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this.isDisposed()){this.id;return}return Hy(this,t,e)}}function Vy(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Hy(this,t,e)}}function Hy(t,e,r){return r[0]=r[0]&&r[0].toLowerCase(),pr.prototype[e].apply(t,r)}var $y=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(pr),Yy=$y.prototype;Yy.on=Vy("on"),Yy.off=Vy("off");var hs,wp,nc,Gi,Sp,Tp,Cp,fl,hl,Uy,Wy,Ep,Xy,ic,jy,Zy,zr,qy,ac=function(t){C(e,t);function e(r,n,i){var a=t.call(this,new sw)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},ze(n)&&(n=Ky[n]),a._dom=r;var o="canvas",s="auto",u=!1;if(!1)var l,f;var h=a._zr=If(r,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:We(i.useDirtyRect,u),useCoarsePointer:We(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=Jm(ht(h.flush,h),17),n=Ye(n),n&&H0(n,!0),a._theme=n,a._locale=gw(i.locale||pw),a._coordSysMgr=new Ih;var c=a._api=jy(a);function v(p,_){return p.__prio-_.__prio}return co(sc,v),co(xp,v),a._scheduler=new sy(a,c,xp,sc),a._messageCenter=new $y,a._initEvents(),a.resize=ht(a.resize,a),h.animation.on("frame",a._onframe,a),Uy(h,a),Wy(h,a),to(a),a}return e.prototype._onframe=function(){if(!this._disposed){qy(this);var r=this._scheduler;if(this[hr]){var n=this[hr].silent;this[Yt]=!0;try{hs(this),Gi.update.call(this,null,this[hr].updateParams)}catch(u){throw this[Yt]=!1,this[hr]=null,u}this._zr.flush(),this[Yt]=!1,this[hr]=null,fl.call(this,n),hl.call(this,n)}else if(r.unfinished){var i=jw,a=this._model,o=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(a),r.performDataProcessorTasks(a),Tp(this,a),r.performVisualTasks(a),ic(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(r,n,i){if(!this[Yt]){if(this._disposed){this.id;return}var a,o,s;if(Re(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[Yt]=!0,!this._model||n){var u=new t2(this._api),l=this._theme,f=this._model=new O0;f.scheduler=this._scheduler,f.ssr=this._ssr,f.init(null,null,null,l,this._locale,u)}this._model.setOption(r,{replaceMerge:o},Dp);var h={seriesTransition:s,optionChanged:!0};if(i)this[hr]={silent:a,updateParams:h},this[Yt]=!1,this.getZr().wakeUp();else{try{hs(this),Gi.update.call(this,null,h)}catch(c){throw this[hr]=null,this[Yt]=!1,c}this._ssr||this._zr.flush(),this[hr]=null,this[Yt]=!1,fl.call(this,a),hl.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ze.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},e.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},e.prototype.getSvgDataURL=function(){if(Ze.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return Z(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},e.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,a=[],o=this;Z(n,function(u){i.eachComponent({mainType:u},function(l){var f=o._componentsMap[l.__viewId];f.group.ignore||(a.push(f),f.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return Z(a,function(u){u.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(uc[i]){var u=s,l=s,f=-s,h=-s,c=[],v=r&&r.pixelRatio||this.getDevicePixelRatio();Z(Fa,function(T,M){if(T.group===i){var L=n?T.getZr().painter.getSvgDom().innerHTML:T.renderToCanvas(Ye(r)),I=T.getDom().getBoundingClientRect();u=a(I.left,u),l=a(I.top,l),f=o(I.right,f),h=o(I.bottom,h),c.push({dom:L,left:I.left,top:I.top})}}),u*=v,l*=v,f*=v,h*=v;var p=f-u,_=h-l,m=rt.createCanvas(),y=If(m,{renderer:n?"svg":"canvas"});if(y.resize({width:p,height:_}),n){var w="";return Z(c,function(T){var M=T.left-u,L=T.top-l;w+='<g transform="translate('+M+","+L+')">'+T.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=w,r.connectedBackgroundColor&&y.painter.setBackgroundColor(r.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return r.connectedBackgroundColor&&y.add(new un({shape:{x:0,y:0,width:p,height:_},style:{fill:r.connectedBackgroundColor}})),Z(c,function(T){var M=new Ni({style:{x:T.left*v-u,y:T.top*v-l,image:T.dom}});y.add(M)}),y.refreshImmediately(),m.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},e.prototype.convertToPixel=function(r,n){return Sp(this,"convertToPixel",r,n)},e.prototype.convertFromPixel=function(r,n){return Sp(this,"convertFromPixel",r,n)},e.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,a,o=Ho(i,r);return Z(o,function(s,u){u.indexOf("Models")>=0&&Z(s,function(l){var f=l.coordinateSystem;if(f&&f.containPoint)a=a||!!f.containPoint(n);else if(u==="seriesModels"){var h=this._chartsMap[l.__viewId];h&&h.containPoint&&(a=a||h.containPoint(n,l))}},this)},this),!!a},e.prototype.getVisual=function(r,n){var i=this._model,a=Ho(i,r,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),u=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return u!=null?fw(s,u,n):hw(s,n)},e.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},e.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},e.prototype._initEvents=function(){var r=this;Z(uS,function(n){var i=function(a){var o=r.getModel(),s=a.target,u,l=n==="globalout";if(l?u={}:s&&Kh(s,function(p){var _=ae(p);if(_&&_.dataIndex!=null){var m=_.dataModel||o.getSeriesByIndex(_.seriesIndex);return u=m&&m.getDataParams(_.dataIndex,_.dataType,s)||{},!0}else if(_.eventData)return u=be({},_.eventData),!0},!0),u){var f=u.componentType,h=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",h=u.seriesIndex);var c=f&&h!=null&&o.getComponent(f,h),v=c&&r[c.mainType==="series"?"_chartsMap":"_componentsMap"][c.__viewId];u.event=a,u.type=n,r._$eventProcessor.eventInfo={targetEl:s,packedEvent:u,model:c,view:v},r.trigger(n,u)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),Z(cl,function(n,i){r._messageCenter.on(i,function(a){this.trigger(i,a)},r)}),Z(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),cw(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&Bf(this.getDom(),Pp,"");var n=this,i=n._api,a=n._model;Z(n._componentsViews,function(o){o.dispose(a,i)}),Z(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Fa[n.id]},e.prototype.resize=function(r){if(!this[Yt]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=r&&r.silent;this[hr]&&(a==null&&(a=this[hr].silent),i=!0,this[hr]=null),this[Yt]=!0;try{i&&hs(this),Gi.update.call(this,{type:"resize",animation:be({duration:0},r&&r.animation)})}catch(o){throw this[Yt]=!1,o}this[Yt]=!1,fl.call(this,a),hl.call(this,a)}}},e.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(Re(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!Ip[r]){var i=Ip[r](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(r){var n=be({},r);return n.type=cl[r.type],n},e.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(Re(n)||(n={silent:!!n}),!!oc[r.type]&&this._model){if(this[Yt]){this._pendingActions.push(r);return}var i=n.silent;Cp.call(this,r,i);var a=n.flush;a?this._zr.flush():a!==!1&&Ze.browser.weChat&&this._throttledZrFlush(),fl.call(this,i),hl.call(this,i)}},e.prototype.updateLabelLayout=function(){cn.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){hs=function(h){var c=h._scheduler;c.restorePipelines(h._model),c.prepareStageTasks(),wp(h,!0),wp(h,!1),c.plan()},wp=function(h,c){for(var v=h._model,p=h._scheduler,_=c?h._componentsViews:h._chartsViews,m=c?h._componentsMap:h._chartsMap,y=h._zr,w=h._api,T=0;T<_.length;T++)_[T].__alive=!1;c?v.eachComponent(function(I,k){I!=="series"&&M(k)}):v.eachSeries(M);function M(I){var k=I.__requireNewView;I.__requireNewView=!1;var $="_ec_"+I.id+"_"+I.type,G=!k&&m[$];if(!G){var X=Ar(I.type),U=c?Bh.getClass(X.main,X.sub):ls.getClass(X.sub);G=new U,G.init(v,w),m[$]=G,_.push(G),y.add(G.group)}I.__viewId=G.__id=$,G.__alive=!0,G.__model=I,G.group.__ecComponentInfo={mainType:I.mainType,index:I.componentIndex},!c&&p.prepareView(G,I,v,w)}for(var T=0;T<_.length;){var L=_[T];L.__alive?T++:(!c&&L.renderTask.dispose(),y.remove(L.group),L.dispose(v,w),_.splice(T,1),m[L.__id]===L&&delete m[L.__id],L.__id=L.group.__ecComponentInfo=null)}},nc=function(h,c,v,p,_){var m=h._model;if(m.setUpdatePayload(v),!p){Z([].concat(h._componentsViews).concat(h._chartsViews),L);return}var y={};y[p+"Id"]=v[p+"Id"],y[p+"Index"]=v[p+"Index"],y[p+"Name"]=v[p+"Name"];var w={mainType:p,query:y};_&&(w.subType=_);var T=v.excludeSeriesId,M;T!=null&&(M=ke(),Z(vt(T),function(I){var k=rr(I,null);k!=null&&M.set(k,!0)})),m&&m.eachComponent(w,function(I){var k=M&&M.get(I.id)!=null;if(!k)if(a0(v))if(I instanceof rl)v.type===Vt&&!v.notBlur&&!I.get(["emphasis","disabled"])&&t1(I,v,h._api);else{var $=Cd(I.mainType,I.componentIndex,v.name,h._api),G=$.focusSelf,X=$.dispatchers;v.type===Vt&&G&&!v.notBlur&&Td(I.mainType,I.componentIndex,h._api),X&&Z(X,function(U){v.type===Vt?ju(U):Zu(U)})}else Md(v)&&I instanceof rl&&(i1(I,v,h._api),t0(I),zr(h))},h),m&&m.eachComponent(w,function(I){var k=M&&M.get(I.id)!=null;k||L(h[p==="series"?"_chartsMap":"_componentsMap"][I.__viewId])},h);function L(I){I&&I.__alive&&I[c]&&I[c](I.__model,m,h._api,v)}},Gi={prepareAndUpdate:function(h){hs(this),Gi.update.call(this,h,{optionChanged:h.newOption!=null})},update:function(h,c){var v=this._model,p=this._api,_=this._zr,m=this._coordSysMgr,y=this._scheduler;if(v){v.setUpdatePayload(h),y.restoreData(v,h),y.performSeriesTasks(v),m.create(v,p),y.performDataProcessorTasks(v,h),Tp(this,v),m.update(v,p),r(v),y.performVisualTasks(v,h),Ep(this,v,p,h,c);var w=v.get("backgroundColor")||"transparent",T=v.get("darkMode");_.setBackgroundColor(w),T!=null&&T!=="auto"&&_.setDarkMode(T),cn.trigger("afterupdate",v,p)}},updateTransform:function(h){var c=this,v=this._model,p=this._api;if(v){v.setUpdatePayload(h);var _=[];v.eachComponent(function(y,w){if(y!=="series"){var T=c.getViewOfComponentModel(w);if(T&&T.__alive)if(T.updateTransform){var M=T.updateTransform(w,v,p,h);M&&M.update&&_.push(T)}else _.push(T)}});var m=ke();v.eachSeries(function(y){var w=c._chartsMap[y.__viewId];if(w.updateTransform){var T=w.updateTransform(y,v,p,h);T&&T.update&&m.set(y.uid,1)}else m.set(y.uid,1)}),r(v),this._scheduler.performVisualTasks(v,h,{setDirty:!0,dirtyMap:m}),ic(this,v,p,h,{},m),cn.trigger("afterupdate",v,p)}},updateView:function(h){var c=this._model;c&&(c.setUpdatePayload(h),ls.markUpdateMethod(h,"updateView"),r(c),this._scheduler.performVisualTasks(c,h,{setDirty:!0}),Ep(this,c,this._api,h,{}),cn.trigger("afterupdate",c,this._api))},updateVisual:function(h){var c=this,v=this._model;v&&(v.setUpdatePayload(h),v.eachSeries(function(p){p.getData().clearAllVisual()}),ls.markUpdateMethod(h,"updateVisual"),r(v),this._scheduler.performVisualTasks(v,h,{visualType:"visual",setDirty:!0}),v.eachComponent(function(p,_){if(p!=="series"){var m=c.getViewOfComponentModel(_);m&&m.__alive&&m.updateVisual(_,v,c._api,h)}}),v.eachSeries(function(p){var _=c._chartsMap[p.__viewId];_.updateVisual(p,v,c._api,h)}),cn.trigger("afterupdate",v,this._api))},updateLayout:function(h){Gi.update.call(this,h)}},Sp=function(h,c,v,p){if(h._disposed){h.id;return}for(var _=h._model,m=h._coordSysMgr.getCoordinateSystems(),y,w=Ho(_,v),T=0;T<m.length;T++){var M=m[T];if(M[c]&&(y=M[c](_,w,p))!=null)return y}},Tp=function(h,c){var v=h._chartsMap,p=h._scheduler;c.eachSeries(function(_){p.updateStreamModes(_,v[_.__viewId])})},Cp=function(h,c){var v=this,p=this.getModel(),_=h.type,m=h.escapeConnect,y=oc[_],w=y.actionInfo,T=(w.update||"update").split(":"),M=T.pop(),L=T[0]!=null&&Ar(T[0]);this[Yt]=!0;var I=[h],k=!1;h.batch&&(k=!0,I=Je(h.batch,function(_e){return _e=Pt(be({},_e),h),_e.batch=null,_e}));var $=[],G,X=Md(h),U=a0(h);if(U&&e0(this._api),Z(I,function(_e){if(G=y.action(_e,v._model,v._api),G=G||be({},_e),G.type=w.event||G.type,$.push(G),U){var xe=Du(h),Ee=xe.queryOptionMap,ft=xe.mainTypeSpecified,gt=ft?Ee.keys()[0]:"series";nc(v,M,_e,gt),zr(v)}else X?(nc(v,M,_e,"series"),zr(v)):L&&nc(v,M,_e,L.main,L.sub)}),M!=="none"&&!U&&!X&&!L)try{this[hr]?(hs(this),Gi.update.call(this,h),this[hr]=null):Gi[M].call(this,h)}catch(_e){throw this[Yt]=!1,_e}if(k?G={type:w.event||_,escapeConnect:m,batch:$}:G=$[0],this[Yt]=!1,!c){var ie=this._messageCenter;if(ie.trigger(G.type,G),X){var de={type:"selectchanged",escapeConnect:m,selected:a1(p),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};ie.trigger(de.type,de)}}},fl=function(h){for(var c=this._pendingActions;c.length;){var v=c.shift();Cp.call(this,v,h)}},hl=function(h){!h&&this.trigger("updated")},Uy=function(h,c){h.on("rendered",function(v){c.trigger("rendered",v),h.animation.isFinished()&&!c[hr]&&!c._scheduler.unfinished&&!c._pendingActions.length&&c.trigger("finished")})},Wy=function(h,c){h.on("mouseover",function(v){var p=v.target,_=Kh(p,Ed);_&&(r1(_,v,c._api),zr(c))}).on("mouseout",function(v){var p=v.target,_=Kh(p,Ed);_&&(n1(_,v,c._api),zr(c))}).on("click",function(v){var p=v.target,_=Kh(p,function(w){return ae(w).dataIndex!=null},!0);if(_){var m=_.selected?"unselect":"select",y=ae(_);c._api.dispatchAction({type:m,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})};function r(h){h.clearColorPalette(),h.eachSeries(function(c){c.clearColorPalette()})}function n(h){var c=[],v=[],p=!1;if(h.eachComponent(function(w,T){var M=T.get("zlevel")||0,L=T.get("z")||0,I=T.getZLevelKey();p=p||!!I,(w==="series"?v:c).push({zlevel:M,z:L,idx:T.componentIndex,type:w,key:I})}),p){var _=c.concat(v),m,y;co(_,function(w,T){return w.zlevel===T.zlevel?w.z-T.z:w.zlevel-T.zlevel}),Z(_,function(w){var T=h.getComponent(w.type,w.idx),M=w.zlevel,L=w.key;m!=null&&(M=Math.max(m,M)),L?(M===m&&L!==y&&M++,y=L):y&&(M===m&&M++,y=""),m=M,T.setZLevel(M)})}}Ep=function(h,c,v,p,_){n(c),Xy(h,c,v,p,_),Z(h._chartsViews,function(m){m.__alive=!1}),ic(h,c,v,p,_),Z(h._chartsViews,function(m){m.__alive||m.remove(c,v)})},Xy=function(h,c,v,p,_,m){Z(m||h._componentsViews,function(y){var w=y.__model;l(w,y),y.render(w,c,v,p),s(w,y),f(w,y)})},ic=function(h,c,v,p,_,m){var y=h._scheduler;_=be(_||{},{updatedSeries:c.getSeries()}),cn.trigger("series:beforeupdate",c,v,_);var w=!1;c.eachSeries(function(T){var M=h._chartsMap[T.__viewId];M.__alive=!0;var L=M.renderTask;y.updatePayload(L,p),l(T,M),m&&m.get(T.uid)&&L.dirty(),L.perform(y.getPerformArgs(L))&&(w=!0),M.group.silent=!!T.get("silent"),o(T,M),t0(T)}),y.unfinished=w||y.unfinished,cn.trigger("series:layoutlabels",c,v,_),cn.trigger("series:transition",c,v,_),c.eachSeries(function(T){var M=h._chartsMap[T.__viewId];s(T,M),f(T,M)}),a(h,c),cn.trigger("series:afterupdate",c,v,_)},zr=function(h){h[_p]=!0,h.getZr().wakeUp()},qy=function(h){h[_p]&&(h.getZr().storage.traverse(function(c){Yh(c)||i(c)}),h[_p]=!1)};function i(h){for(var c=[],v=h.currentStates,p=0;p<v.length;p++){var _=v[p];_==="emphasis"||_==="blur"||_==="select"||c.push(_)}h.selected&&h.states.select&&c.push("select"),h.hoverState===Et&&h.states.emphasis?c.push("emphasis"):h.hoverState===ct&&h.states.blur&&c.push("blur"),h.useStates(c)}function a(h,c){var v=h._zr,p=v.storage,_=0;p.traverse(function(m){m.isGroup||_++}),_>c.get("hoverLayerThreshold")&&!Ze.node&&!Ze.worker&&c.eachSeries(function(m){if(!m.preventUsingHoverLayer){var y=h._chartsMap[m.__viewId];y.__alive&&y.eachRendered(function(w){w.states.emphasis&&(w.states.emphasis.hoverLayer=!0)})}})}function o(h,c){var v=h.get("blendMode")||null;c.eachRendered(function(p){p.isGroup||(p.style.blend=v)})}function s(h,c){if(!h.preventAutoZ){var v=h.get("z")||0,p=h.get("zlevel")||0;c.eachRendered(function(_){return u(_,v,p,-1/0),!0})}}function u(h,c,v,p){var _=h.getTextContent(),m=h.getTextGuideLine(),y=h.isGroup;if(y)for(var w=h.childrenRef(),T=0;T<w.length;T++)p=Math.max(u(w[T],c,v,p),p);else h.z=c,h.zlevel=v,p=Math.max(h.z2,p);if(_&&(_.z=c,_.zlevel=v,isFinite(p)&&(_.z2=p+2)),m){var M=h.textGuideLineConfig;m.z=c,m.zlevel=v,isFinite(p)&&(m.z2=p+(M&&M.showAbove?1:-1))}return p}function l(h,c){c.eachRendered(function(v){if(!Yh(v)){var p=v.getTextContent(),_=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function f(h,c){var v=h.getModel("stateAnimation"),p=h.isAnimationEnabled(),_=v.get("duration"),m=_>0?{duration:_,delay:v.get("delay"),easing:v.get("easing")}:null;c.eachRendered(function(y){if(y.states&&y.states.emphasis){if(Yh(y))return;if(y instanceof ut&&h1(y),y.__dirty){var w=y.prevStates;w&&y.useStates(w)}if(p){y.stateTransition=m;var T=y.getTextContent(),M=y.getTextGuideLine();T&&(T.stateTransition=m),M&&(M.stateTransition=m)}y.__dirty&&i(y)}})}jy=function(h){return new(function(c){C(v,c);function v(){return c!==null&&c.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(p){for(;p;){var _=p.__ecComponentInfo;if(_!=null)return h._model.getComponent(_.mainType,_.index);p=p.parent}},v.prototype.enterEmphasis=function(p,_){ju(p,_),zr(h)},v.prototype.leaveEmphasis=function(p,_){Zu(p,_),zr(h)},v.prototype.enterBlur=function(p){e1(p),zr(h)},v.prototype.leaveBlur=function(p){qg(p),zr(h)},v.prototype.enterSelect=function(p){Kg(p),zr(h)},v.prototype.leaveSelect=function(p){Qg(p),zr(h)},v.prototype.getModel=function(){return h.getModel()},v.prototype.getViewOfComponentModel=function(p){return h.getViewOfComponentModel(p)},v.prototype.getViewOfSeriesModel=function(p){return h.getViewOfSeriesModel(p)},v}(k0))(h)},Zy=function(h){function c(v,p){for(var _=0;_<v.length;_++){var m=v[_];m[bp]=p}}Z(cl,function(v,p){h._messageCenter.on(p,function(_){if(uc[h.group]&&h[bp]!==zy){if(_&&_.escapeConnect)return;var m=h.makeActionFromEvent(_),y=[];Z(Fa,function(w){w!==h&&w.group===h.group&&y.push(w)}),c(y,zy),Z(y,function(w){w[bp]!==oS&&w.dispatchAction(m)}),c(y,sS)}})})}}(),e}(pr),Mp=ac.prototype;Mp.on=Gy("on"),Mp.off=Gy("off"),Mp.one=function(t,e,r){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),n.off(t,i)}this.on.call(this,t,i,r)};var uS=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function FC(t){}var oc={},cl={},xp=[],Dp=[],sc=[],Ky={},Ip={},Fa={},uc={},lS=+new Date-0,fS=+new Date-0,Pp="_echarts_instance_";function hS(t,e,r){var n=!(r&&r.ssr);if(n){var i=Qy(t);if(i)return i}var a=new ac(t,e,r);return a.id="ec_"+lS++,Fa[a.id]=a,n&&Bf(t,Pp,a.id),Zy(a),cn.trigger("afterinit",a),a}function zC(t){if(isArray(t)){var e=t;t=null,each(e,function(r){r.group!=null&&(t=r.group)}),t=t||"g_"+fS++,each(e,function(r){r.group=t})}return uc[t]=!0,t}function GC(t){uc[t]=!1}var VC=null;function HC(t){isString(t)?t=Fa[t]:t instanceof ac||(t=Qy(t)),t instanceof ac&&!t.isDisposed()&&t.dispose()}function Qy(t){return Fa[$v(t,Pp)]}function $C(t){return Fa[t]}function Jy(t,e){Ky[t]=e}function e_(t){it(Dp,t)<0&&Dp.push(t)}function t_(t,e){Rp(xp,t,e,Qw)}function cS(t){Lp("afterinit",t)}function vS(t){Lp("afterupdate",t)}function Lp(t,e){cn.on(t,e)}function za(t,e,r){et(e)&&(r=e,e="");var n=Re(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,!cl[e]&&(xr(Fy.test(n)&&Fy.test(e)),oc[n]||(oc[n]={action:r,actionInfo:t}),cl[e]=n)}function dS(t,e){Ih.register(t,e)}function YC(t){var e=CoordinateSystemManager.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function pS(t,e){Rp(sc,t,e,ky,"layout")}function Ga(t,e){Rp(sc,t,e,Ny,"visual")}var r_=[];function Rp(t,e,r,n,i){if((et(e)||Re(e))&&(r=e,e=n),!(it(r_,r)>=0)){r_.push(r);var a=sy.wrapStageHandler(r,i);a.__prio=e,a.__raw=r,t.push(a)}}function n_(t,e){Ip[t]=e}function UC(t){setPlatformAPI({createCanvas:t})}function gS(t,e,r){var n=Xw("registerMap");n&&n(t,e,r)}function WC(t){var e=getImpl("getMap");return e&&e(t)}var mS=L2;Ga(yp,Ub),Ga(rc,Wb),Ga(rc,Xb),Ga(yp,uw),Ga(rc,lw),Ga(By,Yw),e_(H0),t_(qw,l2),n_("default",jb),za({type:Vt,event:Vt,update:Vt},Ot),za({type:ar,event:ar,update:ar},Ot),za({type:Mt,event:Mt,update:Mt},Ot),za({type:or,event:or,update:or},Ot),za({type:Bi,event:Bi,update:Bi},Ot),Jy("light",aw),Jy("dark",ow);var XC={},i_=[],yS={registerPreprocessor:e_,registerProcessor:t_,registerPostInit:cS,registerPostUpdate:vS,registerUpdateLifecycle:Lp,registerAction:za,registerCoordinateSystem:dS,registerLayout:pS,registerVisual:Ga,registerTransform:mS,registerLoading:n_,registerMap:gS,registerImpl:Ww,PRIORITY:aS,ComponentModel:xt,ComponentView:Bh,SeriesModel:rl,ChartView:ls,registerComponentModel:function(t){xt.registerClass(t)},registerComponentView:function(t){Bh.registerClass(t)},registerSeriesModel:function(t){rl.registerClass(t)},registerChartView:function(t){ls.registerClass(t)},registerSubTypeDefaulter:function(t,e){xt.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Nv(t,e)}};function a_(t){if(Le(t)){Z(t,function(e){a_(e)});return}it(i_,t)>=0||(i_.push(t),et(t)&&(t={install:t}),t.install(yS))}function o_(t,e,r){var n=rt.createCanvas(),i=e.getWidth(),a=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=i*r,n.height=a*r,n}var _S=function(t){C(e,t);function e(r,n,i){var a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||Po,typeof r=="string"?o=o_(r,n,i):Re(r)&&(o=r,r=o.id),a.id=r,a.dom=o;var s=o.style;return s&&(Il(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=o_("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},e.prototype.createRepaintRects=function(r,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,u=!1,l=new Ke(0,0,0,0);function f(w){if(!(!w.isFinite()||w.isZero()))if(o.length===0){var T=new Ke(0,0,0,0);T.copy(w),o.push(T)}else{for(var M=!1,L=1/0,I=0,k=0;k<o.length;++k){var $=o[k];if($.intersect(w)){var G=new Ke(0,0,0,0);G.copy($),G.union(w),o[k]=G,M=!0;break}else if(u){l.copy(w),l.union($);var X=w.width*w.height,U=$.width*$.height,ie=l.width*l.height,de=ie-X-U;de<L&&(L=de,I=k)}}if(u&&(o[I].union(w),M=!0),!M){var T=new Ke(0,0,0,0);T.copy(w),o.push(T)}u||(u=o.length>=s)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var c=r[h];if(c){var v=c.shouldBePainted(i,a,!0,!0),p=c.__isRendered&&(c.__dirty&st||!v)?c.getPrevPaintRect():null;p&&f(p);var _=v&&(c.__dirty&st||!c.__isRendered)?c.getPaintRect():null;_&&f(_)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var c=n[h],v=c.shouldBePainted(i,a,!0,!0);if(c&&(!v||!c.__zr)&&c.__isRendered){var p=c.getPrevPaintRect();p&&f(p)}}var m;do{m=!1;for(var h=0;h<o.length;){if(o[h].isZero()){o.splice(h,1);continue}for(var y=h+1;y<o.length;)o[h].intersect(o[y])?(m=!0,o[h].union(o[y]),o.splice(y,1)):y++;h++}}while(m);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(r,n){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=r+"px",o.height=n+"px"),a.width=r*i,a.height=n*i,s&&(s.width=r*i,s.height=n*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(r,n,i){var a=this.dom,o=this.ctx,s=a.width,u=a.height;n=n||this.clearColor;var l=this.motionBlur&&!r,f=this.lastFrameAlpha,h=this.dpr,c=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/h,u/h));var v=this.domBack;function p(_,m,y,w){if(o.clearRect(_,m,y,w),n&&n!=="transparent"){var T=void 0;if(ci(n)){var M=n.global||n.__width===y&&n.__height===w;T=M&&n.__canvasGradient||pp(o,n,{x:0,y:0,width:y,height:w}),n.__canvasGradient=T,n.__width=y,n.__height=w}else bc(n)&&(n.scaleX=n.scaleX||h,n.scaleY=n.scaleY||h,T=gp(o,n,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}}));o.save(),o.fillStyle=T||n,o.fillRect(_,m,y,w),o.restore()}l&&(o.save(),o.globalAlpha=f,o.drawImage(v,_,m,y,w),o.restore())}!i||l?p(0,0,s,u):i.length&&Z(i,function(_){p(_.x*h,_.y*h,_.width*h,_.height*h)})},e}(pr);const Ap=_S;var s_=1e5,Va=314159,lc=.01,bS=.001;function wS(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function SS(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var TS=function(){function t(e,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=be({},n||{}),this.dpr=n.devicePixelRatio||Po,this._singleCanvas=a,this.root=e;var o=e.style;o&&(Il(e),e.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(a){var f=e,h=f.width,c=f.height;n.width!=null&&(h=n.width),n.height!=null&&(c=n.height),this.dpr=n.devicePixelRatio||1,f.width=h*this.dpr,f.height=c*this.dpr,this._width=h,this._height=c;var v=new Ap(f,this,this.dpr);v.__builtin__=!0,v.initContext(),u[Va]=v,v.zlevel=Va,s.push(Va),this._domRoot=e}else{this._width=Jh(e,0,n),this._height=Jh(e,1,n);var l=this._domRoot=SS(this._width,this._height);e.appendChild(l)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,e,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var u=a===0?this._backgroundColor:null;s.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var r=e.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<r;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(s_)),a||(a=n.ctx,a.save()),Ba(a,s,i,o===r-1))}a&&a.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(s_)},t.prototype.paintOne=function(e,r){xy(e,r)},t.prototype._paintList=function(e,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,r,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(l){l.afterBrush&&l.afterBrush()});else{var u=this;Ks(function(){u._paintList(e,r,n,i)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(Va).ctx,r=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,r,n)})},t.prototype._doPaintList=function(e,r,n){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s],l=this._layers[u];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&a.push(l)}for(var f=!0,h=!1,c=function(_){var m=a[_],y=m.ctx,w=o&&m.createRepaintRects(e,r,v._width,v._height),T=n?m.__startIndex:m.__drawIndex,M=!n&&m.incremental&&Date.now,L=M&&Date.now(),I=m.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,I,w);else if(T===m.__startIndex){var k=e[T];(!k.incremental||!k.notClear||n)&&m.clear(!1,I,w)}T===-1&&(console.error("For some unknown reason. drawIndex is -1"),T=m.__startIndex);var $,G=function(de){var _e={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for($=T;$<m.__endIndex;$++){var xe=e[$];if(xe.__inHover&&(h=!0),i._doPaintEl(xe,m,o,de,_e,$===m.__endIndex-1),M){var Ee=Date.now()-L;if(Ee>15)break}}_e.prevElClipPaths&&y.restore()};if(w)if(w.length===0)$=m.__endIndex;else for(var X=v.dpr,U=0;U<w.length;++U){var ie=w[U];y.save(),y.beginPath(),y.rect(ie.x*X,ie.y*X,ie.width*X,ie.height*X),y.clip(),G(ie),y.restore()}else y.save(),G(),y.restore();m.__drawIndex=$,m.__drawIndex<m.__endIndex&&(f=!1)},v=this,p=0;p<a.length;p++)c(p);return Ze.wxa&&Z(this._layers,function(_){_&&_.ctx&&_.ctx.draw&&_.ctx.draw()}),{finished:f,needsRefreshHover:h}},t.prototype._doPaintEl=function(e,r,n,i,a,o){var s=r.ctx;if(n){var u=e.getPaintRect();(!i||u&&u.intersect(i))&&(Ba(s,e,a,o),e.setPrevPaintRect(u))}else Ba(s,e,a,o)},t.prototype.getLayer=function(e,r){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Va);var n=this._layers[e];return n||(n=new Ap("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Ue(n,this._layerConfig[e],!0):this._layerConfig[e-lc]&&Ue(n,this._layerConfig[e-lc],!0),r&&(n.virtual=r),this.insertLayer(e,n),n.initContext()),n},t.prototype.insertLayer=function(e,r){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,u=-1;if(!n[e]&&wS(r)){if(a>0&&e>i[0]){for(u=0;u<a-1&&!(i[u]<e&&i[u+1]>e);u++);s=n[i[u]]}if(i.splice(u+1,0,e),n[e]=r,!r.virtual)if(s){var l=s.dom;l.nextSibling?o.insertBefore(r.dom,l.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.__painter=this}},t.prototype.eachLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];e.call(r,this._layers[a],a)}},t.prototype.eachBuiltinLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&e.call(r,o,a)}},t.prototype.eachOtherLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||e.call(r,o,a)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(h,c){h.__dirty=h.__used=!1});function r(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var i=e[n];if(i.zlevel!==e[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,u;for(u=0;u<e.length;u++){var i=e[u],l=i.zlevel,f=void 0;s!==l&&(s=l,o=0),i.incremental?(f=this.getLayer(l+bS,this._needsManuallyCompositing),f.incremental=!0,o=1):f=this.getLayer(l+(o>0?lc:0),this._needsManuallyCompositing),f.__builtin__||Ja("ZLevel "+l+" has been used by unkown layer "+f.id),f!==a&&(f.__used=!0,f.__startIndex!==u&&(f.__dirty=!0),f.__startIndex=u,f.incremental?f.__drawIndex=-1:f.__drawIndex=u,r(u),a=f),i.__dirty&st&&!i.__inHover&&(f.__dirty=!0,f.incremental&&f.__drawIndex<0&&(f.__drawIndex=u))}r(u),this.eachBuiltinLayer(function(h,c){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Z(this._layers,function(r){r.setUnpainted()})},t.prototype.configLayer=function(e,r){if(r){var n=this._layerConfig;n[e]?Ue(n[e],r,!0):n[e]=r;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+lc){var o=this._layers[a];Ue(o,n[e],!0)}}}},t.prototype.delLayer=function(e){var r=this._layers,n=this._zlevelList,i=r[e];i&&(i.dom.parentNode.removeChild(i.dom),delete r[e],n.splice(it(n,e),1))},t.prototype.resize=function(e,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),r!=null&&(i.height=r),e=Jh(a,0,i),r=Jh(a,1,i),n.style.display="",this._width!==e||r!==this._height){n.style.width=e+"px",n.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,r);this.refresh(!0)}this._width=e,this._height=r}else{if(e==null||r==null)return;this._width=e,this._height=r,this.getLayer(Va).resize(e,r)}return this},t.prototype.clearLayer=function(e){var r=this._layers[e];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Va].dom;var r=new Ap("image",this,e.pixelRatio||this.dpr);r.initContext(),r.clear(!1,e.backgroundColor||this._backgroundColor);var n=r.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,a=r.dom.height;this.eachLayer(function(h){h.__builtin__?n.drawImage(h.dom,0,0,i,a):h.renderToCanvas&&(n.save(),h.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),u=0,l=s.length;u<l;u++){var f=s[u];Ba(n,f,o,u===l-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();const CS=TS;function ES(t){t.registerPainter("canvas",CS)}function MS(t){var e=t.findComponents({mainType:"legend"});!e||!e.length||t.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getGraph(),a=i.data,o=n.mapArray(n.getName);a.filterSelf(function(s){var u=a.getItemModel(s),l=u.getShallow("category");if(l!=null){ot(l)&&(l=o[l]);for(var f=0;f<e.length;f++)if(!e[f].isSelected(l))return!1}return!0})})}function xS(t){var e={};t.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getData(),a={};n.each(function(o){var s=n.getName(o);a["ec-"+s]=o;var u=n.getItemModel(o),l=u.getModel("itemStyle").getItemStyle();l.fill||(l.fill=r.getColorFromPalette(s,e)),n.setItemVisual(o,"style",l);for(var f=["symbol","symbolSize","symbolKeepAspect"],h=0;h<f.length;h++){var c=u.getShallow(f[h],!0);c!=null&&n.setItemVisual(o,f[h],c)}}),n.count()&&i.each(function(o){var s=i.getItemModel(o),u=s.getShallow("category");if(u!=null){ze(u)&&(u=a["ec-"+u]);var l=n.getItemVisual(u,"style"),f=i.ensureUniqueItemVisual(o,"style");be(f,l);for(var h=["symbol","symbolSize","symbolKeepAspect"],c=0;c<h.length;c++)i.setItemVisual(o,h[c],n.getItemVisual(u,h[c]))}})})}function fc(t){return t instanceof Array||(t=[t,t]),t}function DS(t){t.eachSeriesByType("graph",function(e){var r=e.getGraph(),n=e.getEdgeData(),i=fc(e.get("edgeSymbol")),a=fc(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each(function(o){var s=n.getItemModel(o),u=r.getEdgeByIndex(o),l=fc(s.getShallow("symbol",!0)),f=fc(s.getShallow("symbolSize",!0)),h=s.getModel("lineStyle").getLineStyle(),c=n.ensureUniqueItemVisual(o,"style");switch(be(c,h),c.stroke){case"source":{var v=u.node1.getVisual("style");c.stroke=v&&v.fill;break}case"target":{var v=u.node2.getVisual("style");c.stroke=v&&v.fill;break}}l[0]&&u.setVisual("fromSymbol",l[0]),l[1]&&u.setVisual("toSymbol",l[1]),f[0]&&u.setVisual("fromSymbolSize",f[0]),f[1]&&u.setVisual("toSymbolSize",f[1])})})}var Op="-->",hc=function(t){return t.get("autoCurveness")||null},u_=function(t,e){var r=hc(t),n=20,i=[];if(ot(r))n=r;else if(Le(r)){t.__curvenessList=r;return}e>n&&(n=e);var a=n%2?n+2:n+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));t.__curvenessList=i},vl=function(t,e,r){var n=[t.id,t.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[r.uid,n,i].join(Op)},l_=function(t){var e=t.split(Op);return[e[0],e[2],e[1]].join(Op)},IS=function(t,e){var r=vl(t.node1,t.node2,e);return e.__edgeMap[r]},PS=function(t,e){var r=kp(vl(t.node1,t.node2,e),e),n=kp(vl(t.node2,t.node1,e),e);return r+n},kp=function(t,e){var r=e.__edgeMap;return r[t]?r[t].length:0};function LS(t){hc(t)&&(t.__curvenessList=[],t.__edgeMap={},u_(t))}function RS(t,e,r,n){if(hc(r)){var i=vl(t,e,r),a=r.__edgeMap,o=a[l_(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function Np(t,e,r,n){var i=hc(e),a=Le(i);if(!i)return null;var o=IS(t,e);if(!o)return null;for(var s=-1,u=0;u<o.length;u++)if(o[u]===r){s=u;break}var l=PS(t,e);u_(e,l),t.lineStyle=t.lineStyle||{};var f=vl(t.node1,t.node2,e),h=e.__curvenessList,c=a||l%2?0:1;if(o.isForward)return h[c+s];var v=l_(f),p=kp(v,e),_=h[s+p+c];return n?a?i&&i[0]===0?(p+c)%2?_:-_:((p%2?0:1)+c)%2?_:-_:(p+c)%2?_:-_:h[s+p+c]}function f_(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view")){var r=t.getGraph();r.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),Bp(r,t)}}function Bp(t,e){t.eachEdge(function(r,n){var i=Wr(r.getModel().get(["lineStyle","curveness"]),-Np(r,e,n,!0),0),a=Xr(r.node1.getLayout()),o=Xr(r.node2.getLayout()),s=[a,o];+i&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*i,(a[1]+o[1])/2-(o[0]-a[0])*i]),r.setLayout(s)})}function AS(t,e){t.eachSeriesByType("graph",function(r){var n=r.get("layout"),i=r.coordinateSystem;if(i&&i.type!=="view"){var a=r.getData(),o=[];Z(i.dimensions,function(c){o=o.concat(a.mapDimensionsAll(c))});for(var s=0;s<a.count();s++){for(var u=[],l=!1,f=0;f<o.length;f++){var h=a.get(o[f],s);isNaN(h)||(l=!0),u.push(h)}l?a.setItemLayout(s,i.dataToPoint(u)):a.setItemLayout(s,[NaN,NaN])}Bp(a.graph,r)}else(!n||n==="none")&&f_(r)})}function dl(t){var e=t.coordinateSystem;if(e.type!=="view")return 1;var r=t.option.nodeScaleRatio,n=e.scaleX,i=e.getZoom(),a=(i-1)*r+1;return a/n}function pl(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var h_=Math.PI,Fp=[];function zp(t,e,r,n){var i=t.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),o=t.getData(),s=o.graph,u=a.width/2+a.x,l=a.height/2+a.y,f=Math.min(a.width,a.height)/2,h=o.count();if(o.setLayout({cx:u,cy:l}),!!h){if(r){var c=i.pointToData(n),v=c[0],p=c[1],_=[v-u,p-l];di(_,_),no(_,_,f),r.setLayout([u+_[0],l+_[1]],!0);var m=t.get(["circular","rotateLabel"]);c_(r,m,u,l)}OS[e](t,s,o,f,u,l,h),s.eachEdge(function(y,w){var T=Wr(y.getModel().get(["lineStyle","curveness"]),Np(y,t,w),0),M=Xr(y.node1.getLayout()),L=Xr(y.node2.getLayout()),I,k=(M[0]+L[0])/2,$=(M[1]+L[1])/2;+T&&(T*=3,I=[u*T+k*(1-T),l*T+$*(1-T)]),y.setLayout([M,L,I])})}}}var OS={value:function(t,e,r,n,i,a,o){var s=0,u=r.getSum("value"),l=Math.PI*2/(u||o);e.eachNode(function(f){var h=f.getValue("value"),c=l*(u?h:1)/2;s+=c,f.setLayout([n*Math.cos(s)+i,n*Math.sin(s)+a]),s+=c})},symbolSize:function(t,e,r,n,i,a,o){var s=0;Fp.length=o;var u=dl(t);e.eachNode(function(h){var c=pl(h);isNaN(c)&&(c=2),c<0&&(c=0),c*=u;var v=Math.asin(c/2/n);isNaN(v)&&(v=h_/2),Fp[h.dataIndex]=v,s+=v*2});var l=(2*h_-s)/o/2,f=0;e.eachNode(function(h){var c=l+Fp[h.dataIndex];f+=c,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([n*Math.cos(f)+i,n*Math.sin(f)+a]),f+=c})}};function c_(t,e,r,n){var i=t.getGraphicEl();if(i){var a=t.getModel(),o=a.get(["label","rotate"])||0,s=i.getSymbolPath();if(e){var u=t.getLayout(),l=Math.atan2(u[1]-n,u[0]-r);l<0&&(l=Math.PI*2+l);var f=u[0]<r;f&&(l=l-Math.PI);var h=f?"left":"right";s.setTextConfig({rotation:-l,position:h,origin:"center"});var c=s.ensureState("emphasis");be(c.textConfig||(c.textConfig={}),{position:h})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function kS(t){t.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&zp(e,"symbolSize")})}var cs=ks;function NS(t,e,r){for(var n=t,i=e,a=r.rect,o=a.width,s=a.height,u=[a.x+o/2,a.y+s/2],l=r.gravity==null?.1:r.gravity,f=0;f<n.length;f++){var h=n[f];h.p||(h.p=pn(o*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),h.pp=Xr(h.p),h.edges=null}var c=r.friction==null?.6:r.friction,v=c,p,_;return{warmUp:function(){v=c*.8},setFixed:function(m){n[m].fixed=!0},setUnfixed:function(m){n[m].fixed=!1},beforeStep:function(m){p=m},afterStep:function(m){_=m},step:function(m){p&&p(n,i);for(var y=[],w=n.length,T=0;T<i.length;T++){var M=i[T];if(!M.ignoreForceLayout){var L=M.n1,I=M.n2;Bn(y,I.p,L.p);var k=gn(y)-M.d,$=I.w/(L.w+I.w);isNaN($)&&($=0),di(y,y),!L.fixed&&cs(L.p,L.p,y,$*k*v),!I.fixed&&cs(I.p,I.p,y,-(1-$)*k*v)}}for(var T=0;T<w;T++){var G=n[T];G.fixed||(Bn(y,u,G.p),cs(G.p,G.p,y,l*v))}for(var T=0;T<w;T++)for(var L=n[T],X=T+1;X<w;X++){var I=n[X];Bn(y,I.p,L.p);var k=gn(y);k===0&&(Pl(y,Math.random()-.5,Math.random()-.5),k=1);var U=(L.rep+I.rep)/k/k;!L.fixed&&cs(L.pp,L.pp,y,U),!I.fixed&&cs(I.pp,I.pp,y,-U)}for(var ie=[],T=0;T<w;T++){var G=n[T];G.fixed||(Bn(ie,G.p,G.pp),cs(G.p,G.p,ie,v),kt(G.pp,G.p))}v=v*.992;var de=v<.01;_&&_(n,i,de),m&&m(de)}}}function BS(t){t.eachSeriesByType("graph",function(e){var r=e.coordinateSystem;if(!(r&&r.type!=="view"))if(e.get("layout")==="force"){var n=e.preservedPoints||{},i=e.getGraph(),a=i.data,o=i.edgeData,s=e.getModel("force"),u=s.get("initLayout");e.preservedPoints?a.each(function(T){var M=a.getId(T);a.setItemLayout(T,n[M]||[NaN,NaN])}):!u||u==="none"?f_(e):u==="circular"&&zp(e,"value");var l=a.getDataExtent("value"),f=o.getDataExtent("value"),h=s.get("repulsion"),c=s.get("edgeLength"),v=Le(h)?h:[h,h],p=Le(c)?c:[c,c];p=[p[1],p[0]];var _=a.mapArray("value",function(T,M){var L=a.getItemLayout(M),I=ca(T,l,v);return isNaN(I)&&(I=(v[0]+v[1])/2),{w:I,rep:I,fixed:a.getItemModel(M).get("fixed"),p:!L||isNaN(L[0])||isNaN(L[1])?null:L}}),m=o.mapArray("value",function(T,M){var L=i.getEdgeByIndex(M),I=ca(T,f,p);isNaN(I)&&(I=(p[0]+p[1])/2);var k=L.getModel(),$=Wr(L.getModel().get(["lineStyle","curveness"]),-Np(L,e,M,!0),0);return{n1:_[L.node1.dataIndex],n2:_[L.node2.dataIndex],d:I,curveness:$,ignoreForceLayout:k.get("ignoreForceLayout")}}),y=r.getBoundingRect(),w=NS(_,m,{rect:y,gravity:s.get("gravity"),friction:s.get("friction")});w.beforeStep(function(T,M){for(var L=0,I=T.length;L<I;L++)T[L].fixed&&kt(T[L].p,i.getNodeByIndex(L).getLayout())}),w.afterStep(function(T,M,L){for(var I=0,k=T.length;I<k;I++)T[I].fixed||i.getNodeByIndex(I).setLayout(T[I].p),n[a.getId(I)]=T[I].p;for(var I=0,k=M.length;I<k;I++){var $=M[I],G=i.getEdgeByIndex(I),X=$.n1.p,U=$.n2.p,ie=G.getLayout();ie=ie?ie.slice():[],ie[0]=ie[0]||[],ie[1]=ie[1]||[],kt(ie[0],X),kt(ie[1],U),+$.curveness&&(ie[2]=[(X[0]+U[0])/2-(X[1]-U[1])*$.curveness,(X[1]+U[1])/2-(U[0]-X[0])*$.curveness]),G.setLayout(ie)}}),e.forceLayout=w,e.preservedPoints=n,w.step()}else e.forceLayout=null})}var v_=jr,FS=function(t){C(e,t);function e(r){var n=t.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Di,n._rawTransformable=new Di,n.name=r,n}return e.prototype.setBoundingRect=function(r,n,i,a){return this._rect=new Ke(r,n,i,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(r,n,i,a){this._transformTo(r,n,i,a),this._viewRect=new Ke(r,n,i,a)},e.prototype._transformTo=function(r,n,i,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new Ke(r,n,i,a));var u=s.parent;s.parent=null,s.decomposeTransform(),s.parent=u,this._updateTransform()},e.prototype.setCenter=function(r,n){r&&(this._center=[Lt(r[0],n.getWidth()),Lt(r[1],n.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(r){r=r||1;var n=this.zoomLimit;n&&(n.max!=null&&(r=Math.min(n.max,r)),n.min!=null&&(r=Math.max(n.min,r))),this._zoom=r,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),n=r.x+r.width/2,i=r.y+r.height/2;return[n,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),o=this.getZoom();a=jr([],a,r),i=jr([],i,r),n.originX=a[0],n.originY=a[1],n.x=i[0]-a[0],n.y=i[1]-a[1],n.scaleX=n.scaleY=o,this._updateTransform()},e.prototype._updateTransform=function(){var r=this._roamTransformable,n=this._rawTransformable;n.parent=r,r.updateTransform(),n.updateTransform(),Ys(this.transform||(this.transform=[]),n.transform||yn()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Hl(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var r=this._rawTransformable,n=this._roamTransformable,i=new Di;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},e.prototype.dataToPoint=function(r,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?v_(i,r,a):kt(i,r)},e.prototype.pointToData=function(r){var n=this.invTransform;return n?v_([],r,n):[r[0],r[1]]},e.prototype.convertToPixel=function(r,n,i){var a=d_(n);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(r,n,i){var a=d_(n);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},e.dimensions=["x","y"],e}(Di);function d_(t){var e=t.seriesModel;return e?e.coordinateSystem:null}const p_=FS;function zS(t,e,r){var n=be(t.getBoxLayoutParams(),{aspect:r});return Rd(n,{width:e.getWidth(),height:e.getHeight()})}function GS(t,e){var r=[];return t.eachSeriesByType("graph",function(n){var i=n.get("coordinateSystem");if(!i||i==="view"){var a=n.getData(),o=a.mapArray(function(m){var y=a.getItemModel(m);return[+y.get("x"),+y.get("y")]}),s=[],u=[];Zf(o,s,u),u[0]-s[0]===0&&(u[0]+=1,s[0]-=1),u[1]-s[1]===0&&(u[1]+=1,s[1]-=1);var l=(u[0]-s[0])/(u[1]-s[1]),f=zS(n,e,l);isNaN(l)&&(s=[f.x,f.y],u=[f.x+f.width,f.y+f.height]);var h=u[0]-s[0],c=u[1]-s[1],v=f.width,p=f.height,_=n.coordinateSystem=new p_;_.zoomLimit=n.get("scaleLimit"),_.setBoundingRect(s[0],s[1],h,c),_.setViewRect(f.x,f.y,v,p),_.setCenter(n.get("center"),e),_.setZoom(n.get("zoom")),r.push(_)}}),r}function VS(t,e){var r=t.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=as(t,e,r[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<r.length;o++)a.push(as(t,e,r[o]));return a.join(" ")}}function jC(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!isArray(e))return e+"";for(var n=[],i=0;i<r.length;i++){var a=t.getDimensionIndex(r[i]);a>=0&&n.push(e[a])}return n.join(" ")}var HS=function(t){C(e,t);function e(r,n,i,a){var o=t.call(this)||this;return o.updateData(r,n,i,a),o}return e.prototype._createSymbol=function(r,n,i,a,o){this.removeAll();var s=cp(r,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=$S,this._symbolType=r,this.add(s)},e.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){ju(this.childAt(0))},e.prototype.downplay=function(){Zu(this.childAt(0))},e.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},e.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},e.prototype.updateData=function(r,n,i,a){this.silent=!1;var o=r.getItemVisual(n,"symbol")||"circle",s=r.hostModel,u=e.getSymbolSize(r,n),l=o!==this._symbolType,f=a&&a.disableAnimation;if(l){var h=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,r,n,u,h)}else{var c=this.childAt(0);c.silent=!1;var v={scaleX:u[0]/2,scaleY:u[1]/2};f?c.attr(v):$h(c,v,s,n),$b(c)}if(this._updateCommon(r,n,u,i,a),l){var c=this.childAt(0);if(!f){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:c.style.opacity}};c.scaleX=c.scaleY=0,c.style.opacity=0,Zm(c,v,s,n)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(r,n,i,a,o){var s=this.childAt(0),u=r.hostModel,l,f,h,c,v,p,_,m,y;if(a&&(l=a.emphasisItemStyle,f=a.blurItemStyle,h=a.selectItemStyle,c=a.focus,v=a.blurScope,_=a.labelStatesModels,m=a.hoverScale,y=a.cursorStyle,p=a.emphasisDisabled),!a||r.hasItemOption){var w=a&&a.itemModel?a.itemModel:r.getItemModel(n),T=w.getModel("emphasis");l=T.getModel("itemStyle").getItemStyle(),h=w.getModel(["select","itemStyle"]).getItemStyle(),f=w.getModel(["blur","itemStyle"]).getItemStyle(),c=T.get("focus"),v=T.get("blurScope"),p=T.get("disabled"),_=Sh(w),m=T.getShallow("scale"),y=w.getShallow("cursor")}var M=r.getItemVisual(n,"symbolRotate");s.attr("rotation",(M||0)*Math.PI/180||0);var L=dp(r.getItemVisual(n,"symbolOffset"),i);L&&(s.x=L[0],s.y=L[1]),y&&s.attr("cursor",y);var I=r.getItemVisual(n,"style"),k=I.fill;if(s instanceof Ni){var $=s.style;s.useStyle(be({image:$.image,x:$.x,y:$.y,width:$.width,height:$.height},I))}else s.__isEmptyBrush?s.useStyle(be({},I)):s.useStyle(I),s.style.decal=null,s.setColor(k,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var G=r.getItemVisual(n,"liftZ"),X=this._z2;G!=null?X==null&&(this._z2=s.z2,s.z2+=G):X!=null&&(s.z2=X,this._z2=null);var U=o&&o.useNameLabel;s0(s,_,{labelFetcher:u,labelDataIndex:n,defaultText:ie,inheritColor:k,defaultOpacity:I.opacity});function ie(xe){return U?r.getName(xe):VS(r,xe)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var de=s.ensureState("emphasis");de.style=l,s.ensureState("select").style=h,s.ensureState("blur").style=f;var _e=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;de.scaleX=this._sizeX*_e,de.scaleY=this._sizeY*_e,this.setSymbolScale(1),r0(this,c,v,p)},e.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},e.prototype.fadeOut=function(r,n,i){var a=this.childAt(0),o=ae(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var u=a.getTextContent();u&&sp(u,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();sp(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:r,removeOpt:s})},e.getSymbolSize=function(r,n){return vp(r.getItemVisual(n,"symbolSize"))},e}(en);function $S(t,e){this.parent.drift(t,e)}const YS=HS;function Gp(t,e,r,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function g_(t){return t!=null&&!Re(t)&&(t={isIgnore:t}),t||{}}function m_(t){var e=t.hostModel,r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Sh(e),cursorStyle:e.get("cursor")}}var US=function(){function t(e){this.group=new en,this._SymbolCtor=e||YS}return t.prototype.updateData=function(e,r){this._progressiveEls=null,r=g_(r);var n=this.group,i=e.hostModel,a=this._data,o=this._SymbolCtor,s=r.disableAnimation,u=m_(e),l={disableAnimation:s},f=r.getSymbolPoint||function(h){return e.getItemLayout(h)};a||n.removeAll(),e.diff(a).add(function(h){var c=f(h);if(Gp(e,c,h,r)){var v=new o(e,h,u,l);v.setPosition(c),e.setItemGraphicEl(h,v),n.add(v)}}).update(function(h,c){var v=a.getItemGraphicEl(c),p=f(h);if(!Gp(e,p,h,r)){n.remove(v);return}var _=e.getItemVisual(h,"symbol")||"circle",m=v&&v.getSymbolType&&v.getSymbolType();if(!v||m&&m!==_)n.remove(v),v=new o(e,h,u,l),v.setPosition(p);else{v.updateData(e,h,u,l);var y={x:p[0],y:p[1]};s?v.attr(y):$h(v,y,i)}n.add(v),e.setItemGraphicEl(h,v)}).remove(function(h){var c=a.getItemGraphicEl(h);c&&c.fadeOut(function(){n.remove(c)},i)}).execute(),this._getSymbolPoint=f,this._data=e},t.prototype.updateLayout=function(){var e=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var a=e._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=m_(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r,n){this._progressiveEls=[],n=g_(n);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var o=r.getItemLayout(a);if(Gp(r,o,a,n)){var s=new this._SymbolCtor(r,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),r.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){ip(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var r=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},t}();const WS=US;var y_=tp.prototype,Vp=Fm.prototype,__=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),ZC=function(t){C(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(__);function Hp(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var XS=function(t){C(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-line",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new __},e.prototype.buildPath=function(r,n){Hp(n)?y_.buildPath.call(this,r,n):Vp.buildPath.call(this,r,n)},e.prototype.pointAt=function(r){return Hp(this.shape)?y_.pointAt.call(this,r):Vp.pointAt.call(this,r)},e.prototype.tangentAt=function(r){var n=this.shape,i=Hp(n)?[n.x2-n.x1,n.y2-n.y1]:Vp.tangentAt.call(this,r);return di(i,i)},e}(ut);const jS=XS;var $p=["fromSymbol","toSymbol"];function b_(t){return"_"+t+"Type"}function w_(t,e,r){var n=e.getItemVisual(r,t);if(!n||n==="none")return n;var i=e.getItemVisual(r,t+"Size"),a=e.getItemVisual(r,t+"Rotate"),o=e.getItemVisual(r,t+"Offset"),s=e.getItemVisual(r,t+"KeepAspect"),u=vp(i),l=dp(o||0,u);return n+u+l+(a||"")+(s||"")}function S_(t,e,r){var n=e.getItemVisual(r,t);if(!(!n||n==="none")){var i=e.getItemVisual(r,t+"Size"),a=e.getItemVisual(r,t+"Rotate"),o=e.getItemVisual(r,t+"Offset"),s=e.getItemVisual(r,t+"KeepAspect"),u=vp(i),l=dp(o||0,u),f=cp(n,-u[0]/2+l[0],-u[1]/2+l[1],u[0],u[1],null,s);return f.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,f.name=t,f}}function ZS(t){var e=new jS({name:"line",subPixelOptimize:!0});return Yp(e.shape,t),e}function Yp(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var r=e[2];r?(t.cpx1=r[0],t.cpy1=r[1]):(t.cpx1=NaN,t.cpy1=NaN)}var qS=function(t){C(e,t);function e(r,n,i){var a=t.call(this)||this;return a._createLine(r,n,i),a}return e.prototype._createLine=function(r,n,i){var a=r.hostModel,o=r.getItemLayout(n),s=ZS(o);s.shape.percent=0,Zm(s,{shape:{percent:1}},a,n),this.add(s),Z($p,function(u){var l=S_(u,r,n);this.add(l),this[b_(u)]=w_(u,r,n)},this),this._updateCommonStl(r,n,i)},e.prototype.updateData=function(r,n,i){var a=r.hostModel,o=this.childOfName("line"),s=r.getItemLayout(n),u={shape:{}};Yp(u.shape,s),$h(o,u,a,n),Z($p,function(l){var f=w_(l,r,n),h=b_(l);if(this[h]!==f){this.remove(this.childOfName(l));var c=S_(l,r,n);this.add(c)}this[h]=f},this),this._updateCommonStl(r,n,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(r,n,i){var a=r.hostModel,o=this.childOfName("line"),s=i&&i.emphasisLineStyle,u=i&&i.blurLineStyle,l=i&&i.selectLineStyle,f=i&&i.labelStatesModels,h=i&&i.emphasisDisabled,c=i&&i.focus,v=i&&i.blurScope;if(!i||r.hasItemOption){var p=r.getItemModel(n),_=p.getModel("emphasis");s=_.getModel("lineStyle").getLineStyle(),u=p.getModel(["blur","lineStyle"]).getLineStyle(),l=p.getModel(["select","lineStyle"]).getLineStyle(),h=_.get("disabled"),c=_.get("focus"),v=_.get("blurScope"),f=Sh(p)}var m=r.getItemVisual(n,"style"),y=m.stroke;o.useStyle(m),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=u,o.ensureState("select").style=l,Z($p,function(I){var k=this.childOfName(I);if(k){k.setColor(y),k.style.opacity=m.opacity;for(var $=0;$<dt.length;$++){var G=dt[$],X=o.getState(G);if(X){var U=X.style||{},ie=k.ensureState(G),de=ie.style||(ie.style={});U.stroke!=null&&(de[k.__isEmptyBrush?"stroke":"fill"]=U.stroke),U.opacity!=null&&(de.opacity=U.opacity)}}k.markRedraw()}},this);var w=a.getRawValue(n);s0(this,f,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(I,k){return a.getFormattedLabel(I,k,r.dataType)}},inheritColor:y||"#000",defaultOpacity:m.opacity,defaultText:(w==null?r.getName(n):isFinite(w)?Oo(w):w)+""});var T=this.getTextContent();if(T){var M=f.normal;T.__align=T.style.align,T.__verticalAlign=T.style.verticalAlign,T.__position=M.get("position")||"middle";var L=M.get("distance");Le(L)||(L=[L,L]),T.__labelDistance=L}this.setTextConfig({position:null,local:!0,inside:!1}),r0(this,c,v,h)},e.prototype.highlight=function(){ju(this)},e.prototype.downplay=function(){Zu(this)},e.prototype.updateLayout=function(r,n){this.setLinePoints(r.getItemLayout(n))},e.prototype.setLinePoints=function(r){var n=this.childOfName("line");Yp(n.shape,r),n.dirty()},e.prototype.beforeUpdate=function(){var r=this,n=r.childOfName("fromSymbol"),i=r.childOfName("toSymbol"),a=r.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var u=r.childOfName("line");if(!this.__dirty&&!u.__dirty)return;var l=u.shape.percent,f=u.pointAt(0),h=u.pointAt(l),c=Bn([],h,f);di(c,c);function v(X,U){var ie=X.__specifiedRotation;if(ie==null){var de=u.tangentAt(U);X.attr("rotation",(U===1?-1:1)*Math.PI/2-Math.atan2(de[1],de[0]))}else X.attr("rotation",ie)}if(n&&(n.setPosition(f),v(n,0),n.scaleX=n.scaleY=o*l,n.markRedraw()),i&&(i.setPosition(h),v(i,1),i.scaleX=i.scaleY=o*l,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var p=void 0,_=void 0,m=a.__labelDistance,y=m[0]*o,w=m[1]*o,T=l/2,M=u.tangentAt(T),L=[M[1],-M[0]],I=u.pointAt(T);L[1]>0&&(L[0]=-L[0],L[1]=-L[1]);var k=M[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var $=-Math.atan2(M[1],M[0]);h[0]<f[0]&&($=Math.PI+$),a.rotation=$}var G=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":G=-w,_="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":G=w,_="top";break;default:G=0,_="middle"}switch(a.__position){case"end":a.x=c[0]*y+h[0],a.y=c[1]*w+h[1],p=c[0]>.8?"left":c[0]<-.8?"right":"center",_=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":a.x=-c[0]*y+f[0],a.y=-c[1]*w+f[1],p=c[0]>.8?"right":c[0]<-.8?"left":"center",_=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=y*k+f[0],a.y=f[1]+G,p=M[0]<0?"right":"left",a.originX=-y*k,a.originY=-G;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=I[0],a.y=I[1]+G,p="center",a.originY=-G;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-y*k+h[0],a.y=h[1]+G,p=M[0]>=0?"right":"left",a.originX=y*k,a.originY=-G;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||_,align:a.__align||p})}},e}(en);const KS=qS;var QS=function(){function t(e){this.group=new en,this._LineCtor=e||KS}return t.prototype.updateData=function(e){var r=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=e,a||i.removeAll();var o=T_(e);e.diff(a).add(function(s){r._doAdd(e,s,o)}).update(function(s,u){r._doUpdate(a,e,u,s,o)}).remove(function(s){i.remove(a.getItemGraphicEl(s))}).execute()},t.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(r,n){r.updateLayout(e,n)},this)},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=T_(e),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r){this._progressiveEls=[];function n(s){!s.isGroup&&!JS(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var a=r.getItemLayout(i);if(Up(a)){var o=new this._LineCtor(r,i,this._seriesScope);o.traverse(n),this.group.add(o),r.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(e){ip(this._progressiveEls||this.group,e)},t.prototype._doAdd=function(e,r,n){var i=e.getItemLayout(r);if(Up(i)){var a=new this._LineCtor(e,r,n);e.setItemGraphicEl(r,a),this.group.add(a)}},t.prototype._doUpdate=function(e,r,n,i,a){var o=e.getItemGraphicEl(n);if(!Up(r.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(r,i,a):o=new this._LineCtor(r,i,a),r.setItemGraphicEl(i,o),this.group.add(o)},t}();function JS(t){return t.animators&&t.animators.length>0}function T_(t){var e=t.hostModel,r=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:Sh(e)}}function C_(t){return isNaN(t[0])||isNaN(t[1])}function Up(t){return t&&!C_(t[0])&&!C_(t[1])}const e5=QS;var E_="\0_ec_interaction_mutex";function qC(t,e,r){var n=Wp(t);n[e]=r}function KC(t,e,r){var n=Wp(t),i=n[e];i===r&&(n[e]=null)}function M_(t,e){return!!Wp(t)[e]}function Wp(t){return t[E_]||(t[E_]={})}za({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ot);var t5=function(t){C(e,t);function e(r){var n=t.call(this)||this;n._zr=r;var i=ht(n._mousedownHandler,n),a=ht(n._mousemoveHandler,n),o=ht(n._mouseupHandler,n),s=ht(n._mousewheelHandler,n),u=ht(n._pinchHandler,n);return n.enable=function(l,f){this.disable(),this._opt=Pt(Ye(f)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),l==null&&(l=!0),(l===!0||l==="move"||l==="pan")&&(r.on("mousedown",i),r.on("mousemove",a),r.on("mouseup",o)),(l===!0||l==="scale"||l==="zoom")&&(r.on("mousewheel",s),r.on("pinch",u))},n.disable=function(){r.off("mousedown",i),r.off("mousemove",a),r.off("mouseup",o),r.off("mousewheel",s),r.off("pinch",u)},n}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(r){this.pointerChecker=r},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(r){if(!zl(r)){for(var n=r.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=r.offsetX,a=r.offsetY;this.pointerChecker&&this.pointerChecker(r,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!cc("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||M_(this._zr,"globalPan"))){var n=r.offsetX,i=r.offsetY,a=this._x,o=this._y,s=n-a,u=i-o;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&oo(r.event),x_(this,"pan","moveOnMouseMove",r,{dx:s,dy:u,oldX:a,oldY:o,newX:n,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(r){zl(r)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(r){var n=cc("zoomOnMouseWheel",r,this._opt),i=cc("moveOnMouseWheel",r,this._opt),a=r.wheelDelta,o=Math.abs(a),s=r.offsetX,u=r.offsetY;if(!(a===0||!n&&!i)){if(n){var l=o>3?1.4:o>1?1.2:1.1,f=a>0?l:1/l;Xp(this,"zoom","zoomOnMouseWheel",r,{scale:f,originX:s,originY:u,isAvailableBehavior:null})}if(i){var h=Math.abs(a),c=(a>0?1:-1)*(h>3?.4:h>1?.15:.05);Xp(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:c,originX:s,originY:u,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(r){if(!M_(this._zr,"globalPan")){var n=r.pinchScale>1?1.1:1/1.1;Xp(this,"zoom",null,r,{scale:n,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},e}(pr);function Xp(t,e,r,n,i){t.pointerChecker&&t.pointerChecker(n,i.originX,i.originY)&&(oo(n.event),x_(t,e,r,n,i))}function x_(t,e,r,n,i){i.isAvailableBehavior=ht(cc,null,r,n),t.trigger(e,i)}function cc(t,e,r){var n=r[t];return!t||n&&(!ze(n)||e.event[n+"Key"])}const r5=t5;function n5(t,e,r){var n=t.target;n.x+=e,n.y+=r,n.dirty()}function i5(t,e,r,n){var i=t.target,a=t.zoomLimit,o=t.zoom=t.zoom||1;if(o*=e,a){var s=a.min||0,u=a.max||1/0;o=Math.max(Math.min(u,o),s)}var l=o/t.zoom;t.zoom=o,i.x-=(r-i.x)*(l-1),i.y-=(n-i.y)*(l-1),i.scaleX*=l,i.scaleY*=l,i.dirty()}var a5={axisPointer:1,tooltip:1,brush:1};function o5(t,e,r){var n=e.getComponentByElement(t.topTarget),i=n&&n.coordinateSystem;return n&&n!==r&&!a5.hasOwnProperty(n.mainType)&&i&&i.model!==r}var jp=[],Zp=[],qp=[],vs=bt,Kp=Fn,D_=Math.abs;function I_(t,e,r){for(var n=t[0],i=t[1],a=t[2],o=1/0,s,u=r*r,l=.1,f=.1;f<=.9;f+=.1){jp[0]=vs(n[0],i[0],a[0],f),jp[1]=vs(n[1],i[1],a[1],f);var h=D_(Kp(jp,e)-u);h<o&&(o=h,s=f)}for(var c=0;c<32;c++){var v=s+l;Zp[0]=vs(n[0],i[0],a[0],s),Zp[1]=vs(n[1],i[1],a[1],s),qp[0]=vs(n[0],i[0],a[0],v),qp[1]=vs(n[1],i[1],a[1],v);var h=Kp(Zp,e)-u;if(D_(h)<.01)break;var p=Kp(qp,e)-u;l/=2,h<0?p>=0?s=s+l:s=s-l:p>=0?s=s-l:s=s+l}return s}function Qp(t,e){var r=[],n=na,i=[[],[],[]],a=[[],[]],o=[];e/=2,t.eachEdge(function(s,u){var l=s.getLayout(),f=s.getVisual("fromSymbol"),h=s.getVisual("toSymbol");l.__original||(l.__original=[Xr(l[0]),Xr(l[1])],l[2]&&l.__original.push(Xr(l[2])));var c=l.__original;if(l[2]!=null){if(kt(i[0],c[0]),kt(i[1],c[2]),kt(i[2],c[1]),f&&f!=="none"){var v=pl(s.node1),p=I_(i,c[0],v*e);n(i[0][0],i[1][0],i[2][0],p,r),i[0][0]=r[3],i[1][0]=r[4],n(i[0][1],i[1][1],i[2][1],p,r),i[0][1]=r[3],i[1][1]=r[4]}if(h&&h!=="none"){var v=pl(s.node2),p=I_(i,c[1],v*e);n(i[0][0],i[1][0],i[2][0],p,r),i[1][0]=r[1],i[2][0]=r[2],n(i[0][1],i[1][1],i[2][1],p,r),i[1][1]=r[1],i[2][1]=r[2]}kt(l[0],i[0]),kt(l[1],i[2]),kt(l[2],i[1])}else{if(kt(a[0],c[0]),kt(a[1],c[1]),Bn(o,a[1],a[0]),di(o,o),f&&f!=="none"){var v=pl(s.node1);ks(a[0],a[0],o,v*e)}if(h&&h!=="none"){var v=pl(s.node2);ks(a[1],a[1],o,-v*e)}kt(l[0],a[0]),kt(l[1],a[1])}})}function P_(t){return t.type==="view"}var s5=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){var i=new WS,a=new e5,o=this.group;this._controller=new r5(n.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},e.prototype.render=function(r,n,i){var a=this,o=r.coordinateSystem;this._model=r;var s=this._symbolDraw,u=this._lineDraw,l=this.group;if(P_(o)){var f={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?l.attr(f):$h(l,f,r)}Qp(r.getGraph(),dl(r));var h=r.getData();s.updateData(h);var c=r.getEdgeData();u.updateData(c),this._updateNodeAndLinkScale(),this._updateController(r,n,i),clearTimeout(this._layoutTimeout);var v=r.forceLayout,p=r.get(["force","layoutAnimation"]);v&&this._startForceLayoutIteration(v,p);var _=r.get("layout");h.graph.eachNode(function(T){var M=T.dataIndex,L=T.getGraphicEl(),I=T.getModel();if(L){L.off("drag").off("dragend");var k=I.get("draggable");k&&L.on("drag",function(G){switch(_){case"force":v.warmUp(),!a._layouting&&a._startForceLayoutIteration(v,p),v.setFixed(M),h.setItemLayout(M,[L.x,L.y]);break;case"circular":h.setItemLayout(M,[L.x,L.y]),T.setLayout({fixed:!0},!0),zp(r,"symbolSize",T,[G.offsetX,G.offsetY]),a.updateLayout(r);break;case"none":default:h.setItemLayout(M,[L.x,L.y]),Bp(r.getGraph(),r),a.updateLayout(r);break}}).on("dragend",function(){v&&v.setUnfixed(M)}),L.setDraggable(k,!!I.get("cursor"));var $=I.get(["emphasis","focus"]);$==="adjacency"&&(ae(L).focus=T.getAdjacentDataIndices())}}),h.graph.eachEdge(function(T){var M=T.getGraphicEl(),L=T.getModel().get(["emphasis","focus"]);M&&L==="adjacency"&&(ae(M).focus={edge:[T.dataIndex],node:[T.node1.dataIndex,T.node2.dataIndex]})});var m=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),y=h.getLayout("cx"),w=h.getLayout("cy");h.graph.eachNode(function(T){c_(T,m,y,w)}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(r,n){var i=this;(function a(){r.step(function(o){i.updateLayout(i._model),(i._layouting=!o)&&(n?i._layoutTimeout=setTimeout(a,16):a())})})()},e.prototype._updateController=function(r,n,i){var a=this,o=this._controller,s=this._controllerHost,u=this.group;if(o.setPointerChecker(function(l,f,h){var c=u.getBoundingRect();return c.applyTransform(u.transform),c.contain(f,h)&&!o5(l,i,r)}),!P_(r.coordinateSystem)){o.disable();return}o.enable(r.get("roam")),s.zoomLimit=r.get("scaleLimit"),s.zoom=r.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(l){n5(s,l.dx,l.dy),i.dispatchAction({seriesId:r.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){i5(s,l.scale,l.originX,l.originY),i.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY}),a._updateNodeAndLinkScale(),Qp(r.getGraph(),dl(r)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(){var r=this._model,n=r.getData(),i=dl(r);n.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(i)})},e.prototype.updateLayout=function(r){Qp(r.getGraph(),dl(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(ls);const u5=s5;function gl(t){return t==null?0:t.length||1}function L_(t){return t}var l5=function(){function t(e,r,n,i,a,o){this._old=e,this._new=r,this._oldKeyGetter=n||L_,this._newKeyGetter=i||L_,this.context=a,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,r=this._new,n={},i=new Array(e.length),a=new Array(r.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],u=n[s],l=gl(u);if(l>1){var f=u.shift();u.length===1&&(n[s]=u[0]),this._update&&this._update(f,o)}else l===1?(n[s]=null,this._update&&this._update(u,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},t.prototype._executeMultiple=function(){var e=this._old,r=this._new,n={},i={},a=[],o=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(r,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var u=a[s],l=n[u],f=i[u],h=gl(l),c=gl(f);if(h>1&&c===1)this._updateManyToOne&&this._updateManyToOne(f,l),i[u]=null;else if(h===1&&c>1)this._updateOneToMany&&this._updateOneToMany(f,l),i[u]=null;else if(h===1&&c===1)this._update&&this._update(f,l),i[u]=null;else if(h>1&&c>1)this._updateManyToMany&&this._updateManyToMany(f,l),i[u]=null;else if(h>1)for(var v=0;v<h;v++)this._remove&&this._remove(l[v]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(e,r){for(var n=0;n<e.length;n++){var i=e[n],a=r[i],o=gl(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);r[i]=null}},t.prototype._initIndexMap=function(e,r,n,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(n[o]=s),!!r){var u=r[s],l=gl(u);l===0?(r[s]=o,a&&n.push(s)):l===1?r[s]=[u,o]:u.push(o)}}},t}();const f5=l5;var h5=function(){function t(e,r){this._encode=e,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function c5(t,e){var r={},n=r.encode={},i=ke(),a=[],o=[],s={};Z(t.dimensions,function(c){var v=t.getDimensionInfo(c),p=v.coordDim;if(p){var _=v.coordDimIndex;Jp(n,p)[_]=c,v.isExtraCoord||(i.set(p,1),d5(v.type)&&(a[0]=c),Jp(s,p)[_]=t.getDimensionIndex(v.name)),v.defaultTooltip&&o.push(c)}b0.each(function(m,y){var w=Jp(n,y),T=v.otherDims[y];T!=null&&T!==!1&&(w[T]=v.name)})});var u=[],l={};i.each(function(c,v){var p=n[v];l[v]=p[0],u=u.concat(p)}),r.dataDimsOnCoord=u,r.dataDimIndicesOnCoord=Je(u,function(c){return t.getDimensionInfo(c).storeDimIndex}),r.encodeFirstDimNotExtra=l;var f=n.label;f&&f.length&&(a=f.slice());var h=n.tooltip;return h&&h.length?o=h.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,r.userOutput=new h5(s,e),r}function Jp(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function v5(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function d5(t){return!(t==="ordinal"||t==="time")}var p5=function(){function t(e){this.otherDims={},e!=null&&be(this,e)}return t}();const vc=p5;var g5=mt(),m5={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},R_=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=k_(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return We(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var r=this.source.dimensionsDefine;if(r)return r[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,r=W0(this.source),n=!N_(e),i="",a=[],o=0,s=0;o<e;o++){var u=void 0,l=void 0,f=void 0,h=this.dimensions[s];if(h&&h.storeDimIndex===o)u=r?h.name:null,l=h.type,f=h.ordinalMeta,s++;else{var c=this.getSourceDimension(o);c&&(u=r?c.name:null,l=c.type)}a.push({property:u,type:l,ordinalMeta:f}),r&&u!=null&&(!h||!h.isCalculationCoord)&&(i+=n?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),i+="$",i+=m5[l]||"f",f&&(i+=f.uid),i+="$"}var v=this.source,p=[v.seriesLayoutBy,v.startIndex,i].join("$$");return{dimensions:a,hash:p}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===r)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(r);o&&(i=o.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function A_(t){return t instanceof R_}function O_(t){for(var e=ke(),r=0;r<(t||[]).length;r++){var n=t[r],i=Re(n)?n.name:n;i!=null&&e.get(i)==null&&e.set(i,r)}return e}function k_(t){var e=g5(t);return e.dimNameMap||(e.dimNameMap=O_(t.dimensionsDefine))}function N_(t){return t>30}var ml=Re,Vi=Je,y5=typeof Int32Array>"u"?Array:Int32Array,_5="e\0\0",B_=-1,b5=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],w5=["_approximateExtent"],F_,dc,yl,_l,eg,pc,tg,S5=function(){function t(e,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n,i=!1;A_(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var a={},o=[],s={},u=!1,l={},f=0;f<n.length;f++){var h=n[f],c=ze(h)?new vc({name:h}):h instanceof vc?h:new vc(h),v=c.name;c.type=c.type||"float",c.coordDim||(c.coordDim=v,c.coordDimIndex=0);var p=c.otherDims=c.otherDims||{};o.push(v),a[v]=c,l[v]!=null&&(u=!0),c.createInvertedIndices&&(s[v]=[]),p.itemName===0&&(this._nameDimIdx=f),p.itemId===0&&(this._idDimIdx=f),i&&(c.storeDimIndex=f)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(u),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var _=this._dimIdxToName=ke();Z(o,function(m){_.set(a[m].storeDimIndex,m)})}}return t.prototype.getDimension=function(e){var r=this._recognizeDimIndex(e);if(r==null)return e;if(r=e,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var r=this._recognizeDimIndex(e);if(r!=null)return r;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(ot(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var r=this.getDimensionIndex(e);return r},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var r=this._dimInfos;this._getDimInfo=e?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[r]:null},t.prototype.mapDimensionsAll=function(e){var r=this._dimSummary,n=r.encode[e];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,r,n){var i=this,a;if(e instanceof Xd&&(a=e),!a){var o=this.dimensions,s=zd(e)||Ut(e)?new Z0(e,o.length):e;a=new Xd;var u=Vi(o,function(l){return{type:i._dimInfos[l].type,property:l}});a.initData(s,u,n)}this._store=a,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=c5(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var r=this._store.appendData(e);this._doInit(r[0],r[1])},t.prototype.appendValues=function(e,r){var n=this._store.appendValues(e,r.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=i;s<a;s++){var u=s-i;this._nameList[s]=r[u],o&&tg(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==oi&&!e.fillStorage},t.prototype._doInit=function(e,r){if(!(e>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,u=s===Br;if(u&&!i.pure)for(var l=[],f=e;f<r;f++){var h=i.getItem(f,l);if(!this.hasItemOption&&zv(h)&&(this.hasItemOption=!0),h){var c=h.name;a[f]==null&&c!=null&&(a[f]=rr(c,null));var v=h.id;o[f]==null&&v!=null&&(o[f]=rr(v,null))}}if(this._shouldMakeIdFromName())for(var f=e;f<r;f++)tg(this,f);F_(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,r){r=this.getDimension(r),this._approximateExtent[r]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,r){ml(e)?be(this._calculationInfo,e):this._calculationInfo[e]=r},t.prototype.getName=function(e){var r=this.getRawIndex(e),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=yl(this,this._nameDimIdx,r)),n==null&&(n=""),n},t.prototype._getCategory=function(e,r){var n=this._store.get(e,r),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},t.prototype.getId=function(e){return dc(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,r)},t.prototype.getByRawIndex=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,r){var n=this,i=this._store;return Le(e)?i.getValues(Vi(e,function(a){return n._getStoreDimIndex(a)}),r):i.getValues(e)},t.prototype.hasValue=function(e){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===e)return r;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,r){var n=e&&this._invertedIndicesMap[e],i=n[r];return i==null||isNaN(i)?B_:i},t.prototype.indicesOfNearest=function(e,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),r,n)},t.prototype.each=function(e,r,n){"use strict";et(e)&&(n=r,r=e,e=[]);var i=n||this,a=Vi(_l(e),this._getStoreDimIndex,this);this._store.each(a,i?ht(r,i):r)},t.prototype.filterSelf=function(e,r,n){"use strict";et(e)&&(n=r,r=e,e=[]);var i=n||this,a=Vi(_l(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?ht(r,i):r),this},t.prototype.selectRange=function(e){"use strict";var r=this,n={},i=lt(e),a=[];return Z(i,function(o){var s=r._getStoreDimIndex(o);n[s]=e[o],a.push(s)}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(e,r,n){"use strict";et(e)&&(n=r,r=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(r&&r.apply(this,arguments))},n),i},t.prototype.map=function(e,r,n,i){"use strict";var a=n||i||this,o=Vi(_l(e),this._getStoreDimIndex,this),s=pc(this);return s._store=this._store.map(o,a?ht(r,a):r),s},t.prototype.modify=function(e,r,n,i){var a=this,o=n||i||this,s=Vi(_l(e),this._getStoreDimIndex,this);this._store.modify(s,o?ht(r,o):r)},t.prototype.downSample=function(e,r,n,i){var a=pc(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),r,n,i),a},t.prototype.lttbDownSample=function(e,r){var n=pc(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),r),n},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var r=this.hostModel,n=this.getRawDataItem(e);return new ii(n,r,r&&r.ecModel)},t.prototype.diff=function(e){var r=this;return new f5(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return dc(e,n)},function(n){return dc(r,n)})},t.prototype.getVisual=function(e){var r=this._visual;return r&&r[e]},t.prototype.setVisual=function(e,r){this._visual=this._visual||{},ml(e)?be(this._visual,e):this._visual[e]=r},t.prototype.getItemVisual=function(e,r){var n=this._itemVisuals[e],i=n&&n[r];return i??this.getVisual(r)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,r){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var a=i[r];return a==null&&(a=this.getVisual(r),Le(a)?a=a.slice():ml(a)&&(a=be({},a)),i[r]=a),a},t.prototype.setItemVisual=function(e,r,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,ml(r)?be(i,r):i[r]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,r){ml(e)?be(this._layout,e):this._layout[e]=r},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,r,n){this._itemLayouts[e]=n?be(this._itemLayouts[e]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,r){var n=this.hostModel&&this.hostModel.seriesIndex;Se(n,this.dataType,e,r),this._graphicEls[e]=r},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,r){Z(this._graphicEls,function(n,i){n&&e&&e.call(r,n,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Vi(this.dimensions,this._getDimInfo,this),this.hostModel)),eg(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,r){var n=this[e];et(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(As(arguments)))})},t.internalField=function(){F_=function(e){var r=e._invertedIndicesMap;Z(r,function(n,i){var a=e._dimInfos[i],o=a.ordinalMeta,s=e._store;if(o){n=r[i]=new y5(o.categories.length);for(var u=0;u<n.length;u++)n[u]=B_;for(var u=0;u<s.count();u++)n[s.get(a.storeDimIndex,u)]=u}})},yl=function(e,r,n){return rr(e._getCategory(r,n),null)},dc=function(e,r){var n=e._idList[r];return n==null&&e._idDimIdx!=null&&(n=yl(e,e._idDimIdx,r)),n==null&&(n=_5+r),n},_l=function(e){return Le(e)||(e=e!=null?[e]:[]),e},pc=function(e){var r=new t(e._schema?e._schema:Vi(e.dimensions,e._getDimInfo,e),e.hostModel);return eg(r,e),r},eg=function(e,r){Z(b5.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(e[n]=r[n])}),e.__wrappedMethods=r.__wrappedMethods,Z(w5,function(n){e[n]=Ye(r[n])}),e._calculationInfo=be({},r._calculationInfo)},tg=function(e,r){var n=e._nameList,i=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=n[r],u=i[r];if(s==null&&a!=null&&(n[r]=s=yl(e,a,r)),u==null&&o!=null&&(i[r]=u=yl(e,o,r)),u==null&&s!=null){var l=e._nameRepeatCount,f=l[s]=(l[s]||0)+1;u=s,f>1&&(u+="__ec__"+f),i[r]=u}}}(),t}();const gc=S5;function ds(t){return"_EC_"+t}var T5=function(){function t(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(e,r){e=e==null?""+r:""+e;var n=this._nodesMap;if(!n[ds(e)]){var i=new Ha(e,r);return i.hostGraph=this,this.nodes.push(i),n[ds(e)]=i,i}},t.prototype.getNodeByIndex=function(e){var r=this.data.getRawIndex(e);return this.nodes[r]},t.prototype.getNodeById=function(e){return this._nodesMap[ds(e)]},t.prototype.addEdge=function(e,r,n){var i=this._nodesMap,a=this._edgesMap;if(ot(e)&&(e=this.nodes[e]),ot(r)&&(r=this.nodes[r]),e instanceof Ha||(e=i[ds(e)]),r instanceof Ha||(r=i[ds(r)]),!(!e||!r)){var o=e.id+"-"+r.id,s=new z_(e,r,n);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),r.inEdges.push(s)),e.edges.push(s),e!==r&&r.edges.push(s),this.edges.push(s),a[o]=s,s}},t.prototype.getEdgeByIndex=function(e){var r=this.edgeData.getRawIndex(e);return this.edges[r]},t.prototype.getEdge=function(e,r){e instanceof Ha&&(e=e.id),r instanceof Ha&&(r=r.id);var n=this._edgesMap;return this._directed?n[e+"-"+r]:n[e+"-"+r]||n[r+"-"+e]},t.prototype.eachNode=function(e,r){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&e.call(r,n[a],a)},t.prototype.eachEdge=function(e,r){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&e.call(r,n[a],a)},t.prototype.breadthFirstTraverse=function(e,r,n,i){if(r instanceof Ha||(r=this._nodesMap[ds(r)]),!!r){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(i,r,null))for(var s=[r];s.length;)for(var u=s.shift(),l=u[a],o=0;o<l.length;o++){var f=l[o],h=f.node1===u?f.node2:f.node1;if(!h.__visited){if(e.call(i,h,u))return;s.push(h),h.__visited=!0}}}},t.prototype.update=function(){for(var e=this.data,r=this.edgeData,n=this.nodes,i=this.edges,a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(var a=0,o=e.count();a<o;a++)n[e.getRawIndex(a)].dataIndex=a;r.filterSelf(function(s){var u=i[r.getRawIndex(s)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0});for(var a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(var a=0,o=r.count();a<o;a++)i[r.getRawIndex(a)].dataIndex=a},t.prototype.clone=function(){for(var e=new t(this._directed),r=this.nodes,n=this.edges,i=0;i<r.length;i++)e.addNode(r[i].id,r[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},t}(),Ha=function(){function t(e,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=r??-1}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.data.getItemModel(this.dataIndex);return n.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},r=0;r<this.edges.length;r++){var n=this.edges[r];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},t.prototype.getTrajectoryDataIndices=function(){for(var e=ke(),r=ke(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var a=[i.node1],o=[i.node2],s=0;s<a.length;){var u=a[s];s++,r.set(u.dataIndex,!0);for(var l=0;l<u.inEdges.length;l++)e.set(u.inEdges[l].dataIndex,!0),a.push(u.inEdges[l].node1)}for(s=0;s<o.length;){var f=o[s];s++,r.set(f.dataIndex,!0);for(var l=0;l<f.outEdges.length;l++)e.set(f.outEdges[l].dataIndex,!0),o.push(f.outEdges[l].node2)}}}return{edge:e.keys(),node:r.keys()}},t}(),z_=function(){function t(e,r,n){this.dataIndex=-1,this.node1=e,this.node2=r,this.dataIndex=n??-1}return t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var e=ke(),r=ke();e.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var o=n[a];a++,r.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)e.set(o.inEdges[s].dataIndex,!0),n.push(o.inEdges[s].node1)}for(a=0;a<i.length;){var u=i[a];a++,r.set(u.dataIndex,!0);for(var s=0;s<u.outEdges.length;s++)e.set(u.outEdges[s].dataIndex,!0),i.push(u.outEdges[s].node2)}return{edge:e.keys(),node:r.keys()}},t}();function G_(t,e){return{getValue:function(r){var n=this[t][e];return n.getStore().get(n.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,r,n)},getVisual:function(r){return this[t][e].getItemVisual(this.dataIndex,r)},setLayout:function(r,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,r,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}Kt(Ha,G_("hostGraph","data")),Kt(z_,G_("hostGraph","edgeData"));const C5=T5;var Gr=mt();function E5(t){var e=t.mainData,r=t.datas;r||(r={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,V_(e,r,t),Z(r,function(n){Z(e.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,vn(M5,t))})}),e.wrapMethod("cloneShallow",vn(D5,t)),Z(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,vn(x5,t))}),xr(r[e.dataType]===e)}function M5(t,e){if(L5(this)){var r=be({},Gr(this).datas);r[this.dataType]=e,V_(e,r,t)}else rg(e,this.dataType,Gr(this).mainData,t);return e}function x5(t,e){return t.struct&&t.struct.update(),e}function D5(t,e){return Z(Gr(e).datas,function(r,n){r!==e&&rg(r.cloneShallow(),n,e,t)}),e}function I5(t){var e=Gr(this).mainData;return t==null||e==null?e:Gr(e).datas[t]}function P5(){var t=Gr(this).mainData;return t==null?[{data:t}]:Je(lt(Gr(t).datas),function(e){return{type:e,data:Gr(t).datas[e]}})}function L5(t){return Gr(t).mainData===t}function V_(t,e,r){Gr(t).datas={},Z(e,function(n,i){rg(n,i,t,r)})}function rg(t,e,r,n){Gr(r).datas[e]=t,Gr(t).mainData=r,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=I5,t.getLinkedDataAll=P5}const R5=E5;function QC(t,e){return ng(t,e).dimensions}function ng(t,e){zd(t)||(t=Vd(t)),e=e||{};var r=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],i=ke(),a=[],o=O5(t,r,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&N_(o),u=n===t.dimensionsDefine,l=u?k_(t):O_(n),f=e.encodeDefine;!f&&e.encodeDefaulter&&(f=e.encodeDefaulter(t,o));for(var h=ke(f),c=new am(o),v=0;v<c.length;v++)c[v]=-1;function p(G){var X=c[G];if(X<0){var U=n[G],ie=Re(U)?U:{name:U},de=new vc,_e=ie.name;_e!=null&&l.get(_e)!=null&&(de.name=de.displayName=_e),ie.type!=null&&(de.type=ie.type),ie.displayName!=null&&(de.displayName=ie.displayName);var xe=a.length;return c[G]=xe,de.storeDimIndex=G,a.push(de),de}return a[X]}if(!s)for(var v=0;v<o;v++)p(v);h.each(function(G,X){var U=vt(G).slice();if(U.length===1&&!ze(U[0])&&U[0]<0){h.set(X,!1);return}var ie=h.set(X,[]);Z(U,function(de,_e){var xe=ze(de)?l.get(de):de;xe!=null&&xe<o&&(ie[_e]=xe,m(p(xe),X,_e))})});var _=0;Z(r,function(G){var X,U,ie,de;if(ze(G))X=G,de={};else{de=G,X=de.name;var _e=de.ordinalMeta;de.ordinalMeta=null,de=be({},de),de.ordinalMeta=_e,U=de.dimsDef,ie=de.otherDims,de.name=de.coordDim=de.coordDimIndex=de.dimsDef=de.otherDims=null}var xe=h.get(X);if(xe!==!1){if(xe=vt(xe),!xe.length)for(var Ee=0;Ee<(U&&U.length||1);Ee++){for(;_<o&&p(_).coordDim!=null;)_++;_<o&&xe.push(_++)}Z(xe,function(ft,gt){var tt=p(ft);if(u&&de.type!=null&&(tt.type=de.type),m(Pt(tt,de),X,gt),tt.name==null&&U){var Dt=U[gt];!Re(Dt)&&(Dt={name:Dt}),tt.name=tt.displayName=Dt.name,tt.defaultTooltip=Dt.defaultTooltip}ie&&Pt(tt.otherDims,ie)})}});function m(G,X,U){b0.get(X)!=null?G.otherDims[X]=U:(G.coordDim=X,G.coordDimIndex=U,i.set(X,!0))}var y=e.generateCoord,w=e.generateCoordCount,T=w!=null;w=y?w||1:0;var M=y||"value";function L(G){G.name==null&&(G.name=G.coordDim)}if(s)Z(a,function(G){L(G)}),a.sort(function(G,X){return G.storeDimIndex-X.storeDimIndex});else for(var I=0;I<o;I++){var k=p(I),$=k.coordDim;$==null&&(k.coordDim=k5(M,i,T),k.coordDimIndex=0,(!y||w<=0)&&(k.isExtraCoord=!0),w--),L(k),k.type==null&&(T0(t,I)===Nt.Must||k.isExtraCoord&&(k.otherDims.itemName!=null||k.otherDims.seriesName!=null))&&(k.type="ordinal")}return A5(a),new R_({source:t,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function A5(t){for(var e=ke(),r=0;r<t.length;r++){var n=t[r],i=n.name,a=e.get(i)||0;a>0&&(n.name=i+(a-1)),a++,e.set(i,a)}}function O5(t,e,r,n){var i=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,n||0);return Z(e,function(a){var o;Re(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function k5(t,e,r){if(r||e.hasKey(t)){for(var n=0;e.hasKey(t+n);)n++;t+=n}return e.set(t,!0),t}var N5=function(){function t(e){this.coordSysDims=[],this.axisMap=ke(),this.categoryAxisMap=ke(),this.coordSysName=e}return t}();function B5(t){var e=t.get("coordinateSystem"),r=new N5(e),n=F5[e];if(n)return n(t,r,r.axisMap,r.categoryAxisMap),r}var F5={cartesian2d:function(t,e,r,n){var i=t.getReferringComponents("xAxis",Qn).models[0],a=t.getReferringComponents("yAxis",Qn).models[0];e.coordSysDims=["x","y"],r.set("x",i),r.set("y",a),ps(i)&&(n.set("x",i),e.firstCategoryDimIndex=0),ps(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,r,n){var i=t.getReferringComponents("singleAxis",Qn).models[0];e.coordSysDims=["single"],r.set("single",i),ps(i)&&(n.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,r,n){var i=t.getReferringComponents("polar",Qn).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],r.set("radius",a),r.set("angle",o),ps(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),ps(o)&&(n.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,r,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,n){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();Z(a.parallelAxisIndex,function(s,u){var l=i.getComponent("parallelAxis",s),f=o[u];r.set(f,l),ps(l)&&(n.set(f,l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function ps(t){return t.get("type")==="category"}function z5(t,e,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,a,o,s;G5(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var u=!!(t&&t.get("stack")),l,f,h,c;if(Z(a,function(w,T){ze(w)&&(a[T]=w={name:w}),u&&!w.isExtraCoord&&(!n&&!l&&w.ordinalMeta&&(l=w),!f&&w.type!=="ordinal"&&w.type!=="time"&&(!i||i===w.coordDim)&&(f=w))}),f&&!n&&!l&&(n=!0),f){h="__\0ecstackresult_"+t.id,c="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var v=f.coordDim,p=f.type,_=0;Z(a,function(w){w.coordDim===v&&_++});var m={name:h,coordDim:v,coordDimIndex:_,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},y={name:c,coordDim:c,coordDimIndex:_+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(c,p),y.storeDimIndex=s.ensureCalculationDimension(h,p)),o.appendCalculationDimension(m),o.appendCalculationDimension(y)):(a.push(m),a.push(y))}return{stackedDimension:f&&f.name,stackedByDimension:l&&l.name,isStackedByIndex:n,stackedOverDimension:c,stackResultDimension:h}}function G5(t){return!A_(t.schema)}function V5(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function JC(t,e){return V5(t,e)?t.getCalculationInfo("stackResultDimension"):e}function H5(t,e){var r=t.get("coordinateSystem"),n=Ih.get(r),i;return e&&e.coordSysDims&&(i=Je(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var u=s.get("type");o.type=v5(u)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function $5(t,e,r){var n,i;return r&&Z(t,function(a,o){var s=a.coordDim,u=r.categoryAxisMap.get(s);u&&(n==null&&(n=o),a.ordinalMeta=u.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(t[n].otherDims.itemName=0),n}function Y5(t,e,r){r=r||{};var n=e.getSourceManager(),i,a=!1;t?(a=!0,i=Vd(t)):(i=n.getSource(),a=i.sourceFormat===Br);var o=B5(e),s=H5(e,o),u=r.useEncodeDefaulter,l=et(u)?u:u?vn(N1,s,e):null,f={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!a},h=ng(i,f),c=$5(h.dimensions,r.createInvertedIndices,o),v=a?null:n.getSharedDataStore(h),p=z5(e,{schema:h,store:v}),_=new gc(h,e);_.setCalculationInfo(p);var m=c!=null&&U5(i)?function(y,w,T,M){return M===c?T:this.defaultDimValueGetter(y,w,T,M)}:null;return _.hasItemOption=!1,_.initData(a?i:v,null,m),_}function U5(t){if(t.sourceFormat===Br){var e=W5(t.data||[]);return!Le(Kn(e))}}function W5(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}const X5=Y5;function j5(t,e,r,n,i){for(var a=new C5(n),o=0;o<t.length;o++)a.addNode(Rs(t[o].id,t[o].name,o),o);for(var s=[],u=[],l=0,o=0;o<e.length;o++){var f=e[o],h=f.source,c=f.target;a.addEdge(h,c,l)&&(u.push(f),s.push(Rs(rr(f.id,null),h+" > "+c)),l++)}var v=r.get("coordinateSystem"),p;if(v==="cartesian2d"||v==="polar")p=X5(t,r);else{var _=Ih.get(v),m=_?_.dimensions||[]:[];it(m,"value")<0&&m.concat(["value"]);var y=ng(t,{coordDimensions:m,encodeDefine:r.getEncode()}).dimensions;p=new gc(y,r),p.initData(t)}var w=new gc(["value"],r);return w.initData(u,s),i&&i(p,w),R5({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:w},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var Z5=function(){function t(e,r){this._getDataWithEncodedVisual=e,this._getRawData=r}return t.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},t.prototype.containName=function(e){var r=this._getRawData();return r.indexOfName(e)>=0},t.prototype.indexOfName=function(e){var r=this._getDataWithEncodedVisual();return r.indexOfName(e)},t.prototype.getItemVisual=function(e,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,r)},t}();const q5=Z5;var K5=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new q5(i,i),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},e.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(r){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Fo(r,"edgeLabel",["show"])},e.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],a=r.data||r.nodes||[],o=this;if(a&&i){LS(this);var s=j5(a,i,this,!0,u);return Z(s.edges,function(l){RS(l.node1,l.node2,this,l.dataIndex)},this),s.data}function u(l,f){l.wrapMethod("getItemModel",function(p){var _=o._categoriesModels,m=p.getShallow("category"),y=_[m];return y&&(y.parentModel=p.parentModel,p.parentModel=y),p});var h=ii.prototype.getModel;function c(p,_){var m=h.call(this,p,_);return m.resolveParentPath=v,m}f.wrapMethod("getItemModel",function(p){return p.resolveParentPath=v,p.getModel=c,p});function v(p){if(p&&(p[0]==="label"||p[1]==="label")){var _=p.slice();return p[0]==="label"?_[0]="edgeLabel":p[1]==="label"&&(_[1]="edgeLabel"),_}return p}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(r,n,i){if(i==="edge"){var a=this.getData(),o=this.getDataParams(r,i),s=a.graph.getEdgeByIndex(r),u=a.getName(s.node1.dataIndex),l=a.getName(s.node2.dataIndex),f=[];return u!=null&&f.push(u),l!=null&&f.push(l),Oh("nameValue",{name:f.join(" > "),value:o.value,noValue:o.value==null})}var h=pm({series:this,dataIndex:r,multipleSeries:n});return h},e.prototype._updateCategoriesData=function(){var r=Je(this.option.categories||[],function(i){return i.value!=null?i:be({value:0},i)}),n=new gc(["value"],this);n.initData(r),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},e.prototype.setZoom=function(r){this.option.zoom=r},e.prototype.setCenter=function(r){this.option.center=r},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(rl);const Q5=K5;function H_(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function J5(t,e,r,n){var i=t.getZoom(),a=t.getCenter(),o=e.zoom,s=t.projectedToPoint?t.projectedToPoint(a):t.dataToPoint(a);if(e.dx!=null&&e.dy!=null&&(s[0]-=e.dx,s[1]-=e.dy,t.setCenter(H_(t,s),n)),o!=null){if(r){var u=r.min||0,l=r.max||1/0;o=Math.max(Math.min(i*o,l),u)/i}t.scaleX*=o,t.scaleY*=o;var f=(e.originX-t.x)*(o-1),h=(e.originY-t.y)*(o-1);t.x-=f,t.y-=h,t.updateTransform(),t.setCenter(H_(t,s),n),t.setZoom(o*i)}return{center:t.getCenter(),zoom:t.getZoom()}}var eT={type:"graphRoam",event:"graphRoam",update:"none"};function tT(t){t.registerChartView(u5),t.registerSeriesModel(Q5),t.registerProcessor(MS),t.registerVisual(xS),t.registerVisual(DS),t.registerLayout(AS),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,kS),t.registerLayout(BS),t.registerCoordinateSystem("graphView",{dimensions:p_.dimensions,create:GS}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ot),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ot),t.registerAction(eT,function(e,r,n){r.eachComponent({mainType:"series",query:e},function(i){var a=i.coordinateSystem,o=J5(a,e,void 0,n);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}var rT=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(xt),nT=function(t){C(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var a=this.group,o=r.getModel("textStyle"),s=r.getModel("subtextStyle"),u=r.get("textAlign"),l=We(r.get("textBaseline"),r.get("textVerticalAlign")),f=new J({style:Th(o,{text:r.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),h=f.getBoundingRect(),c=r.get("subtext"),v=new J({style:Th(s,{text:c,fill:s.getTextColor(),y:h.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=r.get("link"),_=r.get("sublink"),m=r.get("triggerEvent",!0);f.silent=!p&&!m,v.silent=!_&&!m,p&&f.on("click",function(){g0(p,"_"+r.get("target"))}),_&&v.on("click",function(){g0(_,"_"+r.get("subtarget"))}),ae(f).eventData=ae(v).eventData=m?{componentType:"title",componentIndex:r.componentIndex}:null,a.add(f),c&&a.add(v);var y=a.getBoundingRect(),w=r.getBoxLayoutParams();w.width=y.width,w.height=y.height;var T=Rd(w,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));u||(u=r.get("left")||r.get("right"),u==="middle"&&(u="center"),u==="right"?T.x+=T.width:u==="center"&&(T.x+=T.width/2)),l||(l=r.get("top")||r.get("bottom"),l==="center"&&(l="middle"),l==="bottom"?T.y+=T.height:l==="middle"&&(T.y+=T.height/2),l=l||"top"),a.x=T.x,a.y=T.y,a.markRedraw();var M={align:u,verticalAlign:l};f.setStyle(M),v.setStyle(M),y=a.getBoundingRect();var L=T.margin,I=r.getItemStyle(["color","opacity"]);I.fill=r.get("backgroundColor");var k=new un({shape:{x:y.x-L[3],y:y.y-L[0],width:y.width+L[1]+L[3],height:y.height+L[0]+L[2],r:r.get("borderRadius")},style:I,subPixelOptimize:!0,silent:!0});a.add(k)}},e.type="title",e}(Bh);function iT(t){t.registerComponentModel(rT),t.registerComponentView(nT)}a_([tT,ES,iT]);const aT=Yr(938).Z;let gs;function oT(){gs=hS(document.getElementById("graph_enhance_container"))}function sT(t){gs.resize(t)}const $_=["Tomato","GoldenRod","LimeGreen","DarkTurquoise","RoyalBlue","Violet","Crimson"],ig={};function uT(t){var e;const r=ig[t];if(r!==void 0)return r;const n=[];let i=1;for(let o=0;o<32;o++)t&i&&n.push($_[o%$_.length]),i<<=1;let a=new aT((e=n[0])!=null?e:"Violet");for(let o=1;o<n.length;o++)a=a.mix(n[o],1/(o+1),{space:"srgb"});return ig[t]=a.toString({format:"hex"}),ig[t]}function lT(){return hT()==="dark"?{start:"#ffa87c",normal:"#ffff7f",from:"#e6b4e8",to:"#6bff6b",separate:"#8ea3e8",brother:"#b33cb3"}:{start:"#aa0000",normal:"#003cb4",from:"#16a7a7",to:"#008600",separate:"#aaaa00",brother:"#b33cb3"}}function fT(t){gs.clear(),gs.off("click");const e=lT(),r={title:{text:mT(),textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{},animation:!(t.nodes.length>100),series:[{name:"graph",type:"graph",layout:"none",edgeSymbol:["none","arrow"],draggable:!0,roam:!0,label:{show:!0,position:"bottom"},data:t.nodes.filter(n=>n.value.label).map(n=>{var i;return{id:n.v,name:n.value.label,x:n.value.x,y:n.value.y,symbol:"circle",symbolSize:5,itemStyle:{color:e[(i=n.value.color)!=null?i:"normal"]},label:{color:"inherit",fontFamily:"OPPOSans",width:n.value.label.length>16?160:void 0,overflow:"break"}}}),links:t.edges.map(n=>({source:n.v,target:n.w,value:n.value.branch,label:{show:!1,formatter:"{c}"},lineStyle:{color:uT(n.value.branch)}}))}]};gs.setOption(r),gs.on("click",{dataType:"node"},function(n){(0,re.openTab)({app:N.app,doc:{id:n.data.id,action:["cb-get-focus"]}})})}function hT(){var t;return(t=document.querySelector("html"))==null?void 0:t.getAttribute("data-theme-mode")}var cT=Object.defineProperty,vT=Object.defineProperties,dT=Object.getOwnPropertyDescriptors,Y_=Object.getOwnPropertySymbols,pT=Object.prototype.hasOwnProperty,gT=Object.prototype.propertyIsEnumerable,U_=(t,e,r)=>e in t?cT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ms=(t,e)=>{for(var r in e||(e={}))pT.call(e,r)&&U_(t,r,e[r]);if(Y_)for(var r of Y_(e))gT.call(e,r)&&U_(t,r,e[r]);return t},ys=(t,e)=>vT(t,dT(e));let ag,cr;function $a(t){return!t||cr===t?!1:(ag=cr,cr=t,!0)}function eE(){return cr}let og="ancestor";function _s(t){og=t}function mT(){var t,e,r;return og==="path"?((t=R.node(ag))==null?void 0:t.label)+" \u2192 "+((e=R.node(cr))==null?void 0:e.label):(r=R.node(cr))==null?void 0:r.label}function li(){if(!cr){(0,re.showMessage)(le.needStartPointMsg,3e3,"info");return}if(!R.hasNode(cr))return;MT(og).exec();const t=E.graphlib.json.write(at);t.nodes.sort((n,i)=>n.v.localeCompare(i.v)),t.edges.sort((n,i)=>Math.min(n.v.localeCompare(i.v),n.w.localeCompare(i.w)));const e=E.graphlib.json.read(JSON.parse(JSON.stringify(t)));e.setGraph({rankdir:O("rankdir"),ranker:O("ranker")}),e.setDefaultEdgeLabel(()=>({})),E.layout(e);const r=E.graphlib.json.write(e);fT(r)}function yT(t,e){V(new E.graphlib.Graph),t.forEach(o=>R.setNode(o.id,{label:o.label,color:"normal",width:200,height:30,state:0,branch:0})),e.forEach(o=>R.setEdge(o.from,o.to)),i(),a(),n(),r();function r(){const o=O("nodesExclusion").split(`
`);o.push("^ge-moc$|^ge-tag$"),o.push("^ge-cv-?\\d+$|^ge-ce-?\\d+$");for(const s of o)/^\s*$/.test(s)||t.filter(u=>RegExp(s).test(u.label)).forEach(u=>R.removeNode(u.id))}function n(){t.filter(o=>/^\d{4}-\d{2}-\d{2}$/.test(o.label)).forEach(o=>R.node(o.id).dailynote=!0)}function i(){t.filter(o=>/^ge-ce-?\d+$/.test(o.label)).forEach(o=>{var s,u;let l=Number((s=/^ge-ce(-?\d+)$/.exec(o.label))==null?void 0:s[1]);const f=((u=R.inEdges(o.id))!=null?u:[]).map(c=>c.v);if(l===0)return;let h=f.flatMap(c=>{var v,p;return l>0?(v=R.outEdges(c))!=null?v:[]:(p=R.inEdges(c))!=null?p:[]});for(;l>1;)h=h.flatMap(c=>{var v;return(v=R.outEdges(c.w))!=null?v:[]}),l--;for(;l<-1;)h=h.flatMap(c=>{var v;return(v=R.inEdges(c.v))!=null?v:[]}),l++;h.forEach(c=>{R.setEdge(c.v,c.w,{state:"broken"}),R.setNode(c.v,ys(ms({},R.node(c.v)),{color:"from"})),R.setNode(c.w,ys(ms({},R.node(c.w)),{color:"to"}))})})}function a(){t.filter(o=>/^ge-cv-?\d+$/.test(o.label)).forEach(o=>{var s,u;let l=Number((s=/^ge-cv(-?\d+)$/.exec(o.label))==null?void 0:s[1]),f=((u=R.inEdges(o.id))!=null?u:[]).map(h=>h.v);for(;l>0;)f=f.flatMap(h=>{var c;return(c=R.outEdges(h))!=null?c:[]}).map(h=>h.w),l--;for(;l<0;)f=f.flatMap(h=>{var c;return(c=R.inEdges(h))!=null?c:[]}).map(h=>h.v),l++;f.forEach(h=>R.setNode(h,ys(ms({},R.node(h)),{separate:!0,color:"separate"})))})}}let at,bs=1;function _T(){return new E.graphlib.Graph().setDefaultEdgeLabel(()=>({}))}function ws(){return[]}class Ya{constructor(){at=_T(),bs=1}exec(){throw"oops"}}class bT extends Ya{exec(){const e=ws();e.push({id:cr,level:0,count:0});const r=+O("nodesMaximum");let n=0;for(;e.length>0&&n<r;){const i=e.shift();Ua(i,R,at),Wa(i,R,at),i.level>=0&&Ts(i,e,R,at),i.level<=0&&Ss(i,e,R,at),n++}}}class wT extends Ya{exec(){const e=ws();e.push({id:cr,level:0,count:0});const r=+O("nodesMaximum");let n=0;for(;e.length>0&&n<r;){const i=e.shift();Ua(i,R,at),Wa(i,R,at),i.level>=0&&Ss(i,e,R,at),i.level<=0&&Ts(i,e,R,at),n++}}}class ST extends Ya{exec(){const e=ws();e.push({id:cr,level:0,count:0});const r=+O("nodesMaximum");let n=0;for(;e.length>0&&n<r;){const i=e.shift();Ua(i,R,at),Wa(i,R,at),i.level>=-1&&Ts(i,e,R,at),i.level<=1&&Ss(i,e,R,at),n++}}}class TT extends Ya{exec(){const e=ws();e.push({id:cr,level:0,count:0});const r=+O("nodesMaximum");let n=0;for(;e.length>0&&n<r;){const i=e.shift();Ua(i,R,at),Wa(i,R,at),Ts(i,e,R,at),Ss(i,e,R,at),n++}}}class CT extends Ya{exec(){const e=ws();e.push({id:cr,level:0,count:0});const r=+O("nodesMaximum"),n=+O("neighborDepth");let i=0;for(;e.length>0&&i<r;){const a=e.shift();Ua(a,R,at),Wa(a,R,at),a.count<n&&(Ts(a,e,R,at),Ss(a,e,R,at)),i++}}}function Ua(t,e,r){if(r.hasNode(t.id))return;const n=e.node(t.id);t.count===0?r.setNode(t.id,ys(ms({},n),{state:0,branch:0,level:t.level,color:"start"})):Number.isNaN(t.level)?r.setNode(t.id,ys(ms({},n),{state:0,branch:0,level:t.level,color:"brother"})):r.setNode(t.id,ys(ms({},n),{state:0,branch:0,level:t.level}))}function Wa(t,e,r){t.edge&&(t.count===1?(r.node(t.id).branch=bs,r.setEdge(t.edge,{branch:bs}),bs=bs<<1):(t.id===t.edge.v?r.setEdge(t.edge,{branch:r.node(t.edge.w).branch}):r.setEdge(t.edge,{branch:r.node(t.edge.v).branch}),r.node(t.id).branch=r.node(t.edge.v).branch|r.node(t.edge.w).branch))}let mc=!0;function W_(t){mc=t}function Ss(t,e,r,n,i=0){var a;const o=n.node(t.id);o.state&2||o?.dailynote&&t.count!==0||!i&&o?.separate&&t.count!==0||(o.state=o.state|2,(a=r.inEdges(t.id))==null||a.filter(s=>{var u;return((u=n.node(s.v))==null?void 0:u.state)!==3}).filter(s=>mc||!/^\d{4}-\d{2}-\d{2}$/.test(r.node(s.v).label)).filter(s=>{var u;return i||t.count===0||((u=r.edge(s.v,s.w))==null?void 0:u.state)!=="broken"}).forEach(s=>e.push({id:s.v,edge:s,level:t.level-1===0?NaN:Number.isNaN(t.level)?-1:t.level-1,count:t.count+1})))}function Ts(t,e,r,n,i=0){var a;const o=n.node(t.id);o.state&1||o.dailynote&&t.count!==0||!i&&o?.separate&&t.count!==0||(o.state=o.state|1,(a=r.outEdges(t.id))==null||a.filter(s=>{var u;return((u=n.node(s.w))==null?void 0:u.state)!==3}).filter(s=>mc||!/^\d{4}-\d{2}-\d{2}$/.test(r.node(s.w).label)).filter(s=>{var u;return i||t.count===0||((u=r.edge(s.v,s.w))==null?void 0:u.state)!=="broken"}).forEach(s=>e.push({id:s.w,edge:s,level:t.level+1===0?NaN:Number.isNaN(t.level)?1:t.level+1,count:t.count+1})))}class ET extends Ya{exec(){const e=ws(),r=new E.graphlib.Graph().setDefaultEdgeLabel(()=>({}));for(e.push({id:cr,level:0,count:0});e.length>0;){const n=e.shift();Ua(n,R,r),Wa(n,R,r),Ss(n,e,R,r,1)}for(e.push({id:ag,level:0,count:0}),bs=1;e.length>0;){const n=e.shift();Ua(n,r,at),Wa(n,r,at),Ts(n,e,r,at,1)}}}function MT(t){switch(t){case"ancestor":return new bT;case"brother":return new wT;case"cross":return new ST;case"global":return new TT;case"neighbor":return new CT;case"path":return new ET;default:return new Ya}}var fi=(t,e,r)=>new Promise((n,i)=>{var a=u=>{try{s(r.next(u))}catch(l){i(l)}},o=u=>{try{s(r.throw(u))}catch(l){i(l)}},s=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,o);s((r=r.apply(t,e)).next())});const xT="dock_tab";function DT(){const t=`<div class="fn__flex-1 fn__flex-column">
    <div class="block__icons">
        <div class="block__logo">
            <svg class="block__logoicon"><use xlink:href="#iconGraphEnhance"></use></svg>
            ${le.pluginName}
        </div>
        <span class="fn__flex-1 fn__space"></span>
        <span id="graph_enhance_dailynote" class="block__icon b3-tooltips b3-tooltips__sw" aria-label="${le.dockBtnHideDN}"><svg id="graph_enhance_dailynote_icon"><use xlink:href="#iconCalendar"></use></svg></span>
        <span id="graph_enhance_path" class="block__icon b3-tooltips b3-tooltips__sw" aria-label="${le.dockBtnPath}"><svg><use xlink:href="#iconCode"></use></svg></span>
        <span id="graph_enhance_global" class="block__icon b3-tooltips b3-tooltips__sw" aria-label="${le.dockBtnGlobal}"><svg><use xlink:href="#iconLanguage"></use></svg></span>
        <span id="graph_enhance_neighbor" class="block__icon b3-tooltips b3-tooltips__sw" aria-label="${le.dockBtnNeighbor}"><svg><use xlink:href="#iconWorkspace"></use></svg></span>
        <span id="graph_enhance_cross" class="block__icon b3-tooltips b3-tooltips__sw" aria-label="${le.dockBtnCross}"><svg><use xlink:href="#iconFocus"></use></svg></span>
        <span id="graph_enhance_ancestor" class="block__icon b3-tooltips b3-tooltips__sw" aria-label="${le.dockBtnAncestor}"><svg><use xlink:href="#iconGraph"></use></svg></span>
        <span id="graph_enhance_brother" class="block__icon b3-tooltips b3-tooltips__sw" aria-label="${le.dockBtnBrother}"><svg><use xlink:href="#iconGlobalGraph"></use></svg></span>
        <span id="graph_enhance_refresh" class="block__icon b3-tooltips b3-tooltips__sw" aria-label="${le.dockBtnRefresh}"><svg><use xlink:href="#iconRefresh"></use></svg></span>
        <span data-type="min" class="block__icon b3-tooltips b3-tooltips__sw" aria-label="Min ${(0,re.adaptHotkey)("\u2318W")}"><svg><use xlink:href="#iconMin"></use></svg></span>
    </div>
    <div class="fn__flex-1 plugin-sample__custom-dock">
    <div id="graph_enhance_container" style="position:absolute;width:100%;height:100%;" ></div>
    </div>
    </div>`;N.addDock({config:{position:"RightTop",size:{width:300,height:500},icon:"iconGraphEnhance",title:le.pluginName},data:{text:"graph-enhance-hello-world"},type:xT,init(){this.element.innerHTML=t,document.getElementById("graph_enhance_dailynote").onclick=()=>fi(this,null,function*(){var e,r,n,i;mc?(W_(!1),(e=document.getElementById("graph_enhance_dailynote"))==null||e.setAttribute("aria-label",le.dockBtnShowDN),(r=document.getElementById("graph_enhance_dailynote_icon"))==null||r.setAttribute("style","fill: RoyalBlue;")):(W_(!0),(n=document.getElementById("graph_enhance_dailynote"))==null||n.setAttribute("aria-label",le.dockBtnHideDN),(i=document.getElementById("graph_enhance_dailynote_icon"))==null||i.setAttribute("style","fill: #5f6368;")),li()}),document.getElementById("graph_enhance_refresh").onclick=()=>fi(this,null,function*(){yield Hi(),li()}),document.getElementById("graph_enhance_global").onclick=()=>fi(this,null,function*(){const e=Cs();e&&$a(e),R||(yield Hi()),_s("global"),li()}),document.getElementById("graph_enhance_ancestor").onclick=()=>fi(this,null,function*(){const e=Cs();e&&$a(e),R||(yield Hi()),_s("ancestor"),li()}),document.getElementById("graph_enhance_brother").onclick=()=>fi(this,null,function*(){const e=Cs();e&&$a(e),R||(yield Hi()),_s("brother"),li()}),document.getElementById("graph_enhance_cross").onclick=()=>fi(this,null,function*(){const e=Cs();e&&$a(e),R||(yield Hi()),_s("cross"),li()}),document.getElementById("graph_enhance_neighbor").onclick=()=>fi(this,null,function*(){const e=Cs();e&&$a(e),R||(yield Hi()),_s("neighbor"),li()}),document.getElementById("graph_enhance_path").onclick=()=>fi(this,null,function*(){const e=Cs();e&&$a(e),R||(yield Hi()),_s("path"),li()}),oT()},resize(){const e=document.getElementById("graph_enhance_container");sT({width:e.offsetWidth,height:e.offsetHeight}),O("autoFollow")==="true"&&e.offsetWidth!==0&&e.offsetHeight!==0?(N.eventBus.off("switch-protyle",Es),N.eventBus.on("switch-protyle",Es)):N.eventBus.off("switch-protyle",Es)}})}function Cs(){var t,e;return(0,re.getFrontend)()==="mobile"||(0,re.getFrontend)()==="browser-mobile"?(t=document.querySelector("#editor .protyle-content .protyle-background"))==null?void 0:t.getAttribute("data-node-id"):(e=document.querySelector(".layout__wnd--active .protyle.fn__flex-1:not(.fn__none) .protyle-background"))==null?void 0:e.getAttribute("data-node-id")}function Es(t){return fi(this,arguments,function*({detail:e}){$a(e.protyle.block.rootID)&&(R||(yield Hi()),li())})}function Hi(){return new Promise(t=>{(0,re.fetchSyncPost)("api/graph/getGraph",{conf:{dailyNote:!0,minRefs:0,type:{blockquote:!1,code:!1,heading:!1,list:!1,listItem:!1,math:!1,paragraph:!1,super:!1,table:!1,tag:!1}},k:""}).then(e=>{yT(e.data.nodes,e.data.links),t()})})}class IT extends re.Plugin{onload(){console.log("graph-enhance onload"),this.addIcons(`<symbol id="iconGraphEnhance" viewBox="0 0 32 32">
        <path d="M30.5 24h-0.5v-6.5c0-1.93-1.57-3.5-3.5-3.5h-8.5v-4h0.5c0.825 0 1.5-0.675 1.5-1.5v-5c0-0.825-0.675-1.5-1.5-1.5h-5c-0.825 0-1.5 0.675-1.5 1.5v5c0 0.825 0.675 1.5 1.5 1.5h0.5v4h-8.5c-1.93 0-3.5 1.57-3.5 3.5v6.5h-0.5c-0.825 0-1.5 0.675-1.5 1.5v5c0 0.825 0.675 1.5 1.5 1.5h5c0.825 0 1.5-0.675 1.5-1.5v-5c0-0.825-0.675-1.5-1.5-1.5h-0.5v-6h8v6h-0.5c-0.825 0-1.5 0.675-1.5 1.5v5c0 0.825 0.675 1.5 1.5 1.5h5c0.825 0 1.5-0.675 1.5-1.5v-5c0-0.825-0.675-1.5-1.5-1.5h-0.5v-6h8v6h-0.5c-0.825 0-1.5 0.675-1.5 1.5v5c0 0.825 0.675 1.5 1.5 1.5h5c0.825 0 1.5-0.675 1.5-1.5v-5c0-0.825-0.675-1.5-1.5-1.5zM6 30h-4v-4h4v4zM18 30h-4v-4h4v4zM14 8v-4h4v4h-4zM30 30h-4v-4h4v4z"></path>
        </symbol>`),this.loadData(H).then(()=>{this.saveData(H,Object.assign({rankdir:"LR",ranker:"network-simplex",nodesMaximum:"200",neighborDepth:"2",autoFollow:"true",separation:"",nodesExclusion:""},this.data[H]))}),q(this),DT(),A()}}})(),module.exports=yc})();
